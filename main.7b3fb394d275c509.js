"use strict";(self.webpackChunkbijouxemy=self.webpackChunkbijouxemy||[]).push([[179],{2011:(rt,De,L)=>{L.d(De,{Dh:()=>pe,GT:()=>oe,cc:()=>Ee,hO:()=>ke,on:()=>G,pX:()=>ie,xv:()=>he});var c=L(2223),B=L(9260),x=L(4976);rt=L.hmd(rt);const ne=["ngOnDestroy"],ie=(Ae,Re,Le,Ce={})=>new Proxy(Ae,{get:(_e,ve)=>Le.runOutsideAngular(()=>{var Te;if(Ae[ve])return!(null===(Te=Ce?.spy)||void 0===Te)&&Te.get&&Ce.spy.get(ve,Ae[ve]),Ae[ve];if(ne.indexOf(ve)>-1)return()=>{};const ye=Re.toPromise().then(ee=>{const We=ee&&ee[ve];return"function"==typeof We?We.bind(ee):We&&We.then?We.then(je=>Le.run(()=>je)):Le.run(()=>We)});return new Proxy(()=>{},{get:(ee,We)=>ye[We],apply:(ee,We,je)=>ye.then(Kt=>{var Vn;const Rr=Kt&&Kt(...je);return!(null===(Vn=Ce?.spy)||void 0===Vn)&&Vn.apply&&Ce.spy.apply(ve,je,Rr),Rr})})})}),oe=(Ae,Re)=>{Re.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ce=>{Object.defineProperty(Ae.prototype,Ce,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ce))})})};class fe{constructor(Re){return Re}}const pe=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function G(Ae,Re,Le){const _e="object"==typeof Le&&Le||{};_e.name=_e.name||"string"==typeof Le&&Le||"[DEFAULT]";const Te=B.Z.apps.filter(ye=>ye&&ye.name===_e.name)[0]||Re.runOutsideAngular(()=>B.Z.initializeApp(Ae,_e));try{JSON.stringify(Ae)!==JSON.stringify(Te.options)&&z("error",`${Te.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Te)}const z=(Ae,...Re)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ae](...Re)},K={provide:fe,useFactory:G,deps:[pe,c.R0b,[new c.FiY,he]]};let ke=(()=>{class Ae{constructor(Le){B.Z.registerVersion("angularfire",x.q4.full,"core"),B.Z.registerVersion("angularfire",x.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Le.toString())}static initializeApp(Le,Ce){return{ngModule:Ae,providers:[{provide:pe,useValue:Le},{provide:he,useValue:Ce}]}}}return Ae.\u0275fac=function(Le){return new(Le||Ae)(c.LFG(c.Lbi))},Ae.\u0275mod=c.oAB({type:Ae}),Ae.\u0275inj=c.cJS({providers:[K]}),Ae})();function Ee(Ae,Re,Le,Ce,_e){const[,ve,Te]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Ae)||[];if(ve)return function Ze(Ae,Re){try{return Ae.toString()===Re.toString()}catch{return Ae===Re}}(_e,Te)||(le("error",`${Re} was already initialized on the ${Le} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:_e,was:Te})),ve;{const ye=Ce();return globalThis.\u0275AngularfireInstanceCache.push([Ae,ye,_e]),ye}}const Qe=!!rt.hot,le=(Ae,...Re)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ae](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(rt,De,L)=>{L.d(De,{q4:()=>xo,iC:()=>wl,HU:()=>Ir,vb:()=>ii,JM:()=>Fc,u3:()=>ns});var c=L(2223),B=L(259),x=L(5861),ne=L(6881),ie=L(2090),oe=L(4859),fe=L(1877);const pe=(C,w)=>w.some(T=>C instanceof T);let he,G;const ke=new WeakMap,Ee=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,le=new WeakMap;let Le={get(C,w,T){if(C instanceof IDBTransaction){if("done"===w)return Ee.get(C);if("objectStoreNames"===w)return C.objectStoreNames||Ze.get(C);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Te(C[w])},set:(C,w,T)=>(C[w]=T,!0),has:(C,w)=>C instanceof IDBTransaction&&("done"===w||"store"===w)||w in C};function ve(C){return"function"==typeof C?function _e(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...w){return C.apply(ye(this),w),Te(ke.get(this))}:function(...w){return Te(C.apply(ye(this),w))}:function(w,...T){const F=C.call(ye(this),w,...T);return Ze.set(F,w.sort?w.sort():[w]),Te(F)}}(C):(C instanceof IDBTransaction&&function Re(C){if(Ee.has(C))return;const w=new Promise((T,F)=>{const W=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",ae),C.removeEventListener("abort",ae)},Q=()=>{T(),W()},ae=()=>{F(C.error||new DOMException("AbortError","AbortError")),W()};C.addEventListener("complete",Q),C.addEventListener("error",ae),C.addEventListener("abort",ae)});Ee.set(C,w)}(C),pe(C,function z(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Le):C)}function Te(C){if(C instanceof IDBRequest)return function Ae(C){const w=new Promise((T,F)=>{const W=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",ae)},Q=()=>{T(Te(C.result)),W()},ae=()=>{F(C.error),W()};C.addEventListener("success",Q),C.addEventListener("error",ae)});return w.then(T=>{T instanceof IDBCursor&&ke.set(T,C)}).catch(()=>{}),le.set(w,C),w}(C);if(Qe.has(C))return Qe.get(C);const w=ve(C);return w!==C&&(Qe.set(C,w),le.set(w,C)),w}const ye=C=>le.get(C),je=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],Vn=new Map;function Rr(C,w){if(!(C instanceof IDBDatabase)||w in C||"string"!=typeof w)return;if(Vn.get(w))return Vn.get(w);const T=w.replace(/FromIndex$/,""),F=w!==T,W=Kt.includes(T);if(!(T in(F?IDBIndex:IDBObjectStore).prototype)||!W&&!je.includes(T))return;const Q=function(){var ae=(0,x.Z)(function*(Ve,...Be){const Ye=this.transaction(Ve,W?"readwrite":"readonly");let gt=Ye.store;return F&&(gt=gt.index(Be.shift())),(yield Promise.all([gt[T](...Be),W&&Ye.done]))[0]});return function(Be){return ae.apply(this,arguments)}}();return Vn.set(w,Q),Q}!function Ce(C){Le=C(Le)}(C=>({...C,get:(w,T,F)=>Rr(w,T)||C.get(w,T,F),has:(w,T)=>!!Rr(w,T)||C.has(w,T)}));const Wi="@firebase/installations",ce="0.6.4",de=1e4,be=`w:${ce}`,Me="FIS_v2",Ue="https://firebaseinstallations.googleapis.com/v1",xe=36e5,Xe=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(C){return C instanceof ie.ZR&&C.code.includes("request-failed")}function Ut({projectId:C}){return`${Ue}/projects/${C}/installations`}function $t(C){return{token:C.token,requestStatus:2,expiresIn:Pr(C.expiresIn),creationTime:Date.now()}}function en(C,w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,x.Z)(function*(C,w){const F=(yield w.json()).error;return Xe.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function An({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Bn(C){return an.apply(this,arguments)}function an(){return(an=(0,x.Z)(function*(C){const w=yield C();return w.status>=500&&w.status<600?C():w})).apply(this,arguments)}function Pr(C){return Number(C.replace("s","000"))}function et(){return(et=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:w},{fid:T}){const F=Ut(C),W=An(C),Q=w.getImmediate({optional:!0});if(Q){const Ye=yield Q.getHeartbeatsHeader();Ye&&W.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:W,body:JSON.stringify({fid:T,authVersion:Me,appId:C.appId,sdkVersion:be})},Be=yield Bn(()=>fetch(F,Ve));if(Be.ok){const Ye=yield Be.json();return{fid:Ye.fid||T,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:$t(Ye.authToken)}}throw yield en("Create Installation",Be)})).apply(this,arguments)}function bn(C){return new Promise(w=>{setTimeout(w,C)})}const mn=/^[cdef][\w-]{21}$/,Bt="";function nt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const T=function ze(C){return function vr(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return mn.test(T)?T:Bt}catch{return Bt}}function _n(C){return`${C.appName}!${C.appId}`}const Zn=new Map;function xr(C,w){const T=_n(C);Cr(T,w),function Yt(C,w){const T=function Tt(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=C=>{Cr(C.data.key,C.data.fid)}),Qr}();T&&T.postMessage({key:C,fid:w}),function En(){0===Zn.size&&Qr&&(Qr.close(),Qr=null)}()}(T,w)}function Cr(C,w){const T=Zn.get(C);if(T)for(const F of T)F(w)}let Qr=null;const or="firebase-installations-database",Di=1,fn="firebase-installations-store";let Mn=null;function Nt(){return Mn||(Mn=function ee(C,w,{blocked:T,upgrade:F,blocking:W,terminated:Q}={}){const ae=indexedDB.open(C,w),Ve=Te(ae);return F&&ae.addEventListener("upgradeneeded",Be=>{F(Te(ae.result),Be.oldVersion,Be.newVersion,Te(ae.transaction))}),T&&ae.addEventListener("blocked",()=>T()),Ve.then(Be=>{Q&&Be.addEventListener("close",()=>Q()),W&&Be.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ve}(or,Di,{upgrade:(C,w)=>{0===w&&C.createObjectStore(fn)}})),Mn}function wn(C,w){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,x.Z)(function*(C,w){const T=_n(C),W=(yield Nt()).transaction(fn,"readwrite"),Q=W.objectStore(fn),ae=yield Q.get(T);return yield Q.put(w,T),yield W.done,(!ae||ae.fid!==w.fid)&&xr(C,w.fid),w})).apply(this,arguments)}function yn(C){return di.apply(this,arguments)}function di(){return(di=(0,x.Z)(function*(C){const w=_n(C),F=(yield Nt()).transaction(fn,"readwrite");yield F.objectStore(fn).delete(w),yield F.done})).apply(this,arguments)}function qn(C,w){return jr.apply(this,arguments)}function jr(){return(jr=(0,x.Z)(function*(C,w){const T=_n(C),W=(yield Nt()).transaction(fn,"readwrite"),Q=W.objectStore(fn),ae=yield Q.get(T),Ve=w(ae);return void 0===Ve?yield Q.delete(T):yield Q.put(Ve,T),yield W.done,Ve&&(!ae||ae.fid!==Ve.fid)&&xr(C,Ve.fid),Ve})).apply(this,arguments)}function $(C){return H.apply(this,arguments)}function H(){return H=(0,x.Z)(function*(C){let w;const T=yield qn(C.appConfig,F=>{const W=function O(C){return ut(C||{fid:nt(),registrationStatus:0})}(F),Q=function N(C,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Xe.create("app-offline"))};const T={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},F=function R(C,w){return J.apply(this,arguments)}(C,T);return{installationEntry:T,registrationPromise:F}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:re(C)}:{installationEntry:w}}(C,W);return w=Q.registrationPromise,Q.installationEntry});return T.fid===Bt?{installationEntry:yield w}:{installationEntry:T,registrationPromise:w}}),H.apply(this,arguments)}function J(){return J=(0,x.Z)(function*(C,w){try{const T=yield function ui(C,w){return et.apply(this,arguments)}(C,w);return wn(C.appConfig,T)}catch(T){throw _t(T)&&409===T.customData.serverCode?yield yn(C.appConfig):yield wn(C.appConfig,{fid:w.fid,registrationStatus:0}),T}}),J.apply(this,arguments)}function re(C){return $e.apply(this,arguments)}function $e(){return($e=(0,x.Z)(function*(C){let w=yield ft(C.appConfig);for(;1===w.registrationStatus;)yield bn(100),w=yield ft(C.appConfig);if(0===w.registrationStatus){const{installationEntry:T,registrationPromise:F}=yield $(C);return F||T}return w})).apply(this,arguments)}function ft(C){return qn(C,w=>{if(!w)throw Xe.create("installation-not-found");return ut(w)})}function ut(C){return function Wt(C){return 1===C.registrationStatus&&C.registrationTime+de<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Qt(){return(Qt=(0,x.Z)(function*({appConfig:C,heartbeatServiceProvider:w},T){const F=function At(C,{fid:w}){return`${Ut(C)}/${w}/authTokens:generate`}(C,T),W=function ir(C,{refreshToken:w}){const T=An(C);return T.append("Authorization",function yo(C){return`${Me} ${C}`}(w)),T}(C,T),Q=w.getImmediate({optional:!0});if(Q){const Ye=yield Q.getHeartbeatsHeader();Ye&&W.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:be,appId:C.appId}})},Be=yield Bn(()=>fetch(F,Ve));if(Be.ok)return $t(yield Be.json());throw yield en("Generate Auth Token",Be)})).apply(this,arguments)}function Kn(C){return hi.apply(this,arguments)}function hi(){return hi=(0,x.Z)(function*(C,w=!1){let T;const F=yield qn(C.appConfig,Q=>{if(!Pt(Q))throw Xe.create("not-registered");const ae=Q.authToken;if(!w&&function Gt(C){return 2===C.requestStatus&&!function sr(C){const w=Date.now();return w<C.creationTime||C.creationTime+C.expiresIn<w+xe}(C)}(ae))return Q;if(1===ae.requestStatus)return T=function ue(C,w){return te.apply(this,arguments)}(C,w),Q;{if(!navigator.onLine)throw Xe.create("app-offline");const Ve=function Rn(C){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:w})}(Q);return T=function tt(C,w){return yt.apply(this,arguments)}(C,Ve),Ve}});return T?yield T:F.authToken}),hi.apply(this,arguments)}function te(){return(te=(0,x.Z)(function*(C,w){let T=yield Pe(C.appConfig);for(;1===T.authToken.requestStatus;)yield bn(100),T=yield Pe(C.appConfig);const F=T.authToken;return 0===F.requestStatus?Kn(C,w):F})).apply(this,arguments)}function Pe(C){return qn(C,w=>{if(!Pt(w))throw Xe.create("not-registered");return function Yn(C){return 1===C.requestStatus&&C.requestTime+de<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function yt(){return yt=(0,x.Z)(function*(C,w){try{const T=yield function ct(C,w){return Qt.apply(this,arguments)}(C,w),F=Object.assign(Object.assign({},w),{authToken:T});return yield wn(C.appConfig,F),T}catch(T){if(!_t(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const F=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield wn(C.appConfig,F)}else yield yn(C.appConfig);throw T}}),yt.apply(this,arguments)}function Pt(C){return void 0!==C&&2===C.registrationStatus}function fs(){return(fs=(0,x.Z)(function*(C){const w=C,{installationEntry:T,registrationPromise:F}=yield $(w);return F?F.catch(console.error):Kn(w).catch(console.error),T.fid})).apply(this,arguments)}function vo(){return vo=(0,x.Z)(function*(C,w=!1){const T=C;return yield function Co(C){return ps.apply(this,arguments)}(T),(yield Kn(T,w)).token}),vo.apply(this,arguments)}function ps(){return(ps=(0,x.Z)(function*(C){const{registrationPromise:w}=yield $(C);w&&(yield w)})).apply(this,arguments)}function Go(C){return Xe.create("missing-app-config-values",{valueName:C})}const tc="installations",gs=C=>{const w=C.getProvider("app").getImmediate(),T=function Za(C){if(!C||!C.options)throw Go("App Configuration");if(!C.name)throw Go("App Name");const w=["projectId","apiKey","appId"];for(const T of w)if(!C.options[T])throw Go(T);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(w);return{app:w,appConfig:T,heartbeatServiceProvider:(0,ne._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},qa=C=>{const w=C.getProvider("app").getImmediate(),T=(0,ne._getProvider)(w,tc).getImmediate();return{getId:()=>function hs(C){return fs.apply(this,arguments)}(T),getToken:W=>function Cu(C){return vo.apply(this,arguments)}(T,W)}};(function Zt(){(0,ne._registerComponent)(new oe.wA(tc,gs,"PUBLIC")),(0,ne._registerComponent)(new oe.wA("installations-internal",qa,"PRIVATE"))})(),(0,ne.registerVersion)(Wi,ce),(0,ne.registerVersion)(Wi,ce,"esm2017");const Jn="@firebase/remote-config",ar=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qs{constructor(w,T,F,W){this.client=w,this.storage=T,this.storageCache=F,this.logger=W}isCachedDataFresh(w,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-T,W=F<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${W}.`),W}fetch(w){var T=this;return(0,x.Z)(function*(){const[F,W]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(W&&T.isCachedDataFresh(w.cacheMaxAgeMillis,F))return W;w.eTag=W&&W.eTag;const Q=yield T.client.fetch(w),ae=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&ae.push(T.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(ae),Q})()}}function Eo(C=navigator){return C.languages&&C.languages[0]||C.language}class ei{constructor(w,T,F,W,Q,ae){this.firebaseInstallations=w,this.sdkVersion=T,this.namespace=F,this.projectId=W,this.apiKey=Q,this.appId=ae}fetch(w){var T=this;return(0,x.Z)(function*(){const[F,W]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},Be={sdk_version:T.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:T.appId,language_code:Eo()},Ye={method:"POST",headers:Ve,body:JSON.stringify(Be)},gt=fetch(ae,Ye),dt=new Promise((oi,Oi)=>{w.signal.addEventListener(()=>{const rs=new Error("The operation was aborted.");rs.name="AbortError",Oi(rs)})});let lr;try{yield Promise.race([gt,dt]),lr=yield gt}catch(oi){let Oi="fetch-client-network";throw"AbortError"===oi?.name&&(Oi="fetch-timeout"),ar.create(Oi,{originalErrorMessage:oi?.message})}let tr=lr.status;const xi=lr.headers.get("ETag")||void 0;let lo,No;if(200===lr.status){let oi;try{oi=yield lr.json()}catch(Oi){throw ar.create("fetch-client-parse",{originalErrorMessage:Oi?.message})}lo=oi.entries,No=oi.state}if("INSTANCE_STATE_UNSPECIFIED"===No?tr=500:"NO_CHANGE"===No?tr=304:("NO_TEMPLATE"===No||"EMPTY_CONFIG"===No)&&(lo={}),304!==tr&&200!==tr)throw ar.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:xi,config:lo}})()}}class qi{constructor(w,T){this.client=w,this.storage=T}fetch(w){var T=this;return(0,x.Z)(function*(){const F=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(w,F)})()}attemptFetch(w,{throttleEndTimeMillis:T,backoffCount:F}){var W=this;return(0,x.Z)(function*(){yield function Zi(C,w){return new Promise((T,F)=>{const W=Math.max(w-Date.now(),0),Q=setTimeout(T,W);C.addEventListener(()=>{clearTimeout(Q),F(ar.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,T);try{const Q=yield W.client.fetch(w);return yield W.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Jd(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Q))throw Q;const ae={throttleEndTimeMillis:Date.now()+(0,ie.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(ae),W.attemptFetch(w,ae)}})()}}class ys{constructor(w,T,F,W,Q){this.app=w,this._client=T,this._storageCache=F,this._storage=W,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wt(C,w){const T=C.target.error||void 0;return ar.create(w,{originalErrorMessage:T&&T?.message})}const vs="app_namespace_store";class ea{constructor(w,T,F,W=function Io(){return new Promise((C,w)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=F=>{w(wt(F,"storage-open"))},T.onsuccess=F=>{C(F.target.result)},T.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(T){w(ar.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=w,this.appName=T,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var T=this;return(0,x.Z)(function*(){const F=yield T.openDbPromise;return new Promise((W,Q)=>{const Ve=F.transaction([vs],"readonly").objectStore(vs),Be=T.createCompositeKey(w);try{const Ye=Ve.get(Be);Ye.onerror=gt=>{Q(wt(gt,"storage-get"))},Ye.onsuccess=gt=>{const dt=gt.target.result;W(dt?dt.value:void 0)}}catch(Ye){Q(ar.create("storage-get",{originalErrorMessage:Ye?.message}))}})})()}set(w,T){var F=this;return(0,x.Z)(function*(){const W=yield F.openDbPromise;return new Promise((Q,ae)=>{const Be=W.transaction([vs],"readwrite").objectStore(vs),Ye=F.createCompositeKey(w);try{const gt=Be.put({compositeKey:Ye,value:T});gt.onerror=dt=>{ae(wt(dt,"storage-set"))},gt.onsuccess=()=>{Q()}}catch(gt){ae(ar.create("storage-set",{originalErrorMessage:gt?.message}))}})})()}delete(w){var T=this;return(0,x.Z)(function*(){const F=yield T.openDbPromise;return new Promise((W,Q)=>{const Ve=F.transaction([vs],"readwrite").objectStore(vs),Be=T.createCompositeKey(w);try{const Ye=Ve.delete(Be);Ye.onerror=gt=>{Q(wt(gt,"storage-delete"))},Ye.onsuccess=()=>{W()}}catch(Ye){Q(ar.create("storage-delete",{originalErrorMessage:Ye?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class $r{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,x.Z)(function*(){const T=w.storage.getLastFetchStatus(),F=w.storage.getLastSuccessfulFetchTimestampMillis(),W=w.storage.getActiveConfig(),Q=yield T;Q&&(w.lastFetchStatus=Q);const ae=yield F;ae&&(w.lastSuccessfulFetchTimestampMillis=ae);const Ve=yield W;Ve&&(w.activeConfig=Ve)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function zr(){return br.apply(this,arguments)}function br(){return(br=(0,x.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ti(){(0,ne._registerComponent)(new oe.wA("remote-config",function C(w,{instanceIdentifier:T}){const F=w.getProvider("app").getImmediate(),W=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ar.create("registration-window");if(!(0,ie.hl)())throw ar.create("indexed-db-unavailable");const{projectId:Q,apiKey:ae,appId:Ve}=F.options;if(!Q)throw ar.create("registration-project-id");if(!ae)throw ar.create("registration-api-key");if(!Ve)throw ar.create("registration-app-id");const Be=new ea(Ve,F.name,T=T||"firebase"),Ye=new $r(Be),gt=new fe.Yd(Jn);gt.logLevel=fe.in.ERROR;const dt=new ei(W,ne.SDK_VERSION,T,Q,ae,Ve),lr=new qi(dt,Be),tr=new Qs(lr,Be,Ye,gt),xi=new ys(F,tr,Ye,Be,gt);return function Qn(C){const w=(0,ie.m9)(C);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(xi),xi},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Jn,"0.4.4"),(0,ne.registerVersion)(Jn,"0.4.4","esm2017")}();const Ya=(C,w)=>w.some(T=>C instanceof T);let ti,Ko;const ta=new WeakMap,Ja=new WeakMap,hr=new WeakMap,Qa=new WeakMap,na=new WeakMap;let Du={get(C,w,T){if(C instanceof IDBTransaction){if("done"===w)return Ja.get(C);if("objectStoreNames"===w)return C.objectStoreNames||hr.get(C);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Si(C[w])},set:(C,w,T)=>(C[w]=T,!0),has:(C,w)=>C instanceof IDBTransaction&&("done"===w||"store"===w)||w in C};function Tu(C){return"function"==typeof C?function zf(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oc(){return Ko||(Ko=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...w){return C.apply(ac(this),w),Si(ta.get(this))}:function(...w){return Si(C.apply(ac(this),w))}:function(w,...T){const F=C.call(ac(this),w,...T);return hr.set(F,w.sort?w.sort():[w]),Si(F)}}(C):(C instanceof IDBTransaction&&function sc(C){if(Ja.has(C))return;const w=new Promise((T,F)=>{const W=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",ae),C.removeEventListener("abort",ae)},Q=()=>{T(),W()},ae=()=>{F(C.error||new DOMException("AbortError","AbortError")),W()};C.addEventListener("complete",Q),C.addEventListener("error",ae),C.addEventListener("abort",ae)});Ja.set(C,w)}(C),Ya(C,function Wr(){return ti||(ti=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Du):C)}function Si(C){if(C instanceof IDBRequest)return function Iu(C){const w=new Promise((T,F)=>{const W=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",ae)},Q=()=>{T(Si(C.result)),W()},ae=()=>{F(C.error),W()};C.addEventListener("success",Q),C.addEventListener("error",ae)});return w.then(T=>{T instanceof IDBCursor&&ta.set(T,C)}).catch(()=>{}),na.set(w,C),w}(C);if(Qa.has(C))return Qa.get(C);const w=Tu(C);return w!==C&&(Qa.set(C,w),na.set(w,C)),w}const ac=C=>na.get(C);function Xa(C,w,{blocked:T,upgrade:F,blocking:W,terminated:Q}={}){const ae=indexedDB.open(C,w),Ve=Si(ae);return F&&ae.addEventListener("upgradeneeded",Be=>{F(Si(ae.result),Be.oldVersion,Be.newVersion,Si(ae.transaction))}),T&&ae.addEventListener("blocked",()=>T()),Ve.then(Be=>{Q&&Be.addEventListener("close",()=>Q()),W&&Be.addEventListener("versionchange",()=>W())}).catch(()=>{}),Ve}function el(C,{blocked:w}={}){const T=indexedDB.deleteDatabase(C);return w&&T.addEventListener("blocked",()=>w()),Si(T).then(()=>{})}const Xd=["get","getKey","getAll","getAllKeys","count"],tl=["put","add","delete","clear"],nl=new Map;function lc(C,w){if(!(C instanceof IDBDatabase)||w in C||"string"!=typeof w)return;if(nl.get(w))return nl.get(w);const T=w.replace(/FromIndex$/,""),F=w!==T,W=tl.includes(T);if(!(T in(F?IDBIndex:IDBObjectStore).prototype)||!W&&!Xd.includes(T))return;const Q=function(){var ae=(0,x.Z)(function*(Ve,...Be){const Ye=this.transaction(Ve,W?"readwrite":"readonly");let gt=Ye.store;return F&&(gt=gt.index(Be.shift())),(yield Promise.all([gt[T](...Be),W&&Ye.done]))[0]});return function(Be){return ae.apply(this,arguments)}}();return nl.set(w,Q),Q}!function Qd(C){Du=C(Du)}(C=>({...C,get:(w,T,F)=>lc(w,T)||C.get(w,T,F),has:(w,T)=>!!lc(w,T)||C.has(w,T)}));const cc="/firebase-messaging-sw.js",Su="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uc="https://fcmregistrations.googleapis.com/v1",Au="google.c.a.c_id",ln="google.c.a.c_l",eh="google.c.a.ts";var Ji=(()=>((Ji=Ji||{}).PUSH_RECEIVED="push-received",Ji.NOTIFICATION_CLICKED="notification-clicked",Ji))();function fi(C){const w=new Uint8Array(C);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ru(C){const T=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(T),W=new Uint8Array(F.length);for(let Q=0;Q<F.length;++Q)W[Q]=F.charCodeAt(Q);return W}const Or="fcm_token_details_db",Do=5,Xn="fcm_token_object_Store";function hc(){return hc=(0,x.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Or))return null;let w=null;return(yield Xa(Or,Do,{upgrade:(F=(0,x.Z)(function*(W,Q,ae,Ve){var Be;if(Q<2||!W.objectStoreNames.contains(Xn))return;const Ye=Ve.objectStore(Xn),gt=yield Ye.index("fcmSenderId").get(C);if(yield Ye.clear(),gt)if(2===Q){const dt=gt;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;w={token:dt.fcmToken,createTime:null!==(Be=dt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:fi(dt.vapidKey)}}}else if(3===Q){const dt=gt;w={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:fi(dt.auth),p256dh:fi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:fi(dt.vapidKey)}}}else if(4===Q){const dt=gt;w={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:fi(dt.auth),p256dh:fi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:fi(dt.vapidKey)}}}}),function(Q,ae,Ve,Be){return F.apply(this,arguments)})})).close(),yield el(Or),yield el("fcm_vapid_details_db"),yield el("undefined"),function ra(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:w}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var F}),hc.apply(this,arguments)}const fc="firebase-messaging-database",To=1,ni="firebase-messaging-store";let pc=null;function gc(){return pc||(pc=Xa(fc,To,{upgrade:(C,w)=>{0===w&&C.createObjectStore(ni)}})),pc}function Yo(C){return rl.apply(this,arguments)}function rl(){return rl=(0,x.Z)(function*(C){const w=th(C),F=yield(yield gc()).transaction(ni).objectStore(ni).get(w);if(F)return F;{const W=yield function dc(C){return hc.apply(this,arguments)}(C.appConfig.senderId);if(W)return yield Jo(C,W),W}}),rl.apply(this,arguments)}function Jo(C,w){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,x.Z)(function*(C,w){const T=th(C),W=(yield gc()).transaction(ni,"readwrite");return yield W.objectStore(ni).put(w,T),yield W.done,w})).apply(this,arguments)}function ia(){return(ia=(0,x.Z)(function*(C){const w=th(C),F=(yield gc()).transaction(ni,"readwrite");yield F.objectStore(ni).delete(w),yield F.done})).apply(this,arguments)}function th({appConfig:C}){return C.appId}const er=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gf(C,w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,x.Z)(function*(C,w){const T=yield sa(C),F=sl(w),W={method:"POST",headers:T,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch(mc(C.appConfig),W)).json()}catch(ae){throw er.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if(Q.error)throw er.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw er.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function il(){return(il=(0,x.Z)(function*(C,w){const T=yield sa(C),F=sl(w.subscriptionOptions),W={method:"PATCH",headers:T,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch(`${mc(C.appConfig)}/${w.token}`,W)).json()}catch(ae){throw er.create("token-update-failed",{errorInfo:ae?.toString()})}if(Q.error)throw er.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw er.create("token-update-no-token");return Q.token})).apply(this,arguments)}function ih(C,w){return oa.apply(this,arguments)}function oa(){return(oa=(0,x.Z)(function*(C,w){const F={method:"DELETE",headers:yield sa(C)};try{const Q=yield(yield fetch(`${mc(C.appConfig)}/${w}`,F)).json();if(Q.error)throw er.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(W){throw er.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function mc({projectId:C}){return`${uc}/projects/${C}/registrations`}function sa(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,x.Z)(function*({appConfig:C,installations:w}){const T=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function sl({p256dh:C,auth:w,endpoint:T,vapidKey:F}){const W={web:{endpoint:T,auth:w,p256dh:C}};return F!==Yi&&(W.web.applicationPubKey=F),W}const Ai=6048e5;function yc(){return yc=(0,x.Z)(function*(C){const w=yield function la(C,w){return wr.apply(this,arguments)}(C.swRegistration,C.vapidKey),T={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:w.endpoint,auth:fi(w.getKey("auth")),p256dh:fi(w.getKey("p256dh"))},F=yield Yo(C.firebaseDependencies);if(F){if(function ll(C,w){return w.vapidKey===C.vapidKey&&w.endpoint===C.endpoint&&w.auth===C.auth&&w.p256dh===C.p256dh}(F.subscriptionOptions,T))return Date.now()>=F.createTime+Ai?function aa(C,w){return Er.apply(this,arguments)}(C,{token:F.token,createTime:Date.now(),subscriptionOptions:T}):F.token;try{yield ih(C.firebaseDependencies,F.token)}catch(W){console.warn(W)}return bs(C.firebaseDependencies,T)}return bs(C.firebaseDependencies,T)}),yc.apply(this,arguments)}function vc(){return vc=(0,x.Z)(function*(C){const w=yield Yo(C.firebaseDependencies);w&&(yield ih(C.firebaseDependencies,w.token),yield function Wf(C){return ia.apply(this,arguments)}(C.firebaseDependencies));const T=yield C.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),vc.apply(this,arguments)}function Er(){return Er=(0,x.Z)(function*(C,w){try{const T=yield function rh(C,w){return il.apply(this,arguments)}(C.firebaseDependencies,w),F=Object.assign(Object.assign({},w),{token:T,createTime:Date.now()});return yield Jo(C.firebaseDependencies,F),T}catch(T){throw yield function cn(C){return vc.apply(this,arguments)}(C),T}}),Er.apply(this,arguments)}function bs(C,w){return al.apply(this,arguments)}function al(){return(al=(0,x.Z)(function*(C,w){const F={token:yield Gf(C,w),createTime:Date.now(),subscriptionOptions:w};return yield Jo(C,F),F.token})).apply(this,arguments)}function wr(){return(wr=(0,x.Z)(function*(C,w){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ru(w)})})).apply(this,arguments)}function ca(C){const w={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Cc(C,w){if(!w.notification)return;C.notification={};const T=w.notification.title;T&&(C.notification.title=T);const F=w.notification.body;F&&(C.notification.body=F);const W=w.notification.image;W&&(C.notification.image=W);const Q=w.notification.icon;Q&&(C.notification.icon=Q)}(w,C),function pi(C,w){w.data&&(C.data=w.data)}(w,C),function oh(C,w){var T,F,W,Q,ae;if(!(w.fcmOptions||null!==(T=w.notification)&&void 0!==T&&T.click_action))return;C.fcmOptions={};const Ve=null!==(W=null===(F=w.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==W?W:null===(Q=w.notification)||void 0===Q?void 0:Q.click_action;Ve&&(C.fcmOptions.link=Ve);const Be=null===(ae=w.fcmOptions)||void 0===ae?void 0:ae.analytics_label;Be&&(C.fcmOptions.analyticsLabel=Be)}(w,C),w}function bc(C,w){const T=[];for(let F=0;F<C.length;F++)T.push(C.charAt(F)),F<w.length&&T.push(w.charAt(F));return T.join("")}function Ec(C){return er.create("missing-app-config-values",{valueName:C})}bc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ou{constructor(w,T,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function xu(C){if(!C||!C.options)throw Ec("App Configuration Object");if(!C.name)throw Ec("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:T}=C;for(const F of w)if(!T[F])throw Ec(F);return{appName:C.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:W,installations:T,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ul(){return(ul=(0,x.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(cc,{scope:Su}),C.swRegistration.update().catch(()=>{})}catch(w){throw er.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function Mi(){return(Mi=(0,x.Z)(function*(C,w){if(!w&&!C.swRegistration&&(yield function pt(C){return ul.apply(this,arguments)}(C)),w||!C.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw er.create("invalid-sw-registration");C.swRegistration=w}})).apply(this,arguments)}function da(){return(da=(0,x.Z)(function*(C,w){w?C.vapidKey=w:C.vapidKey||(C.vapidKey=Yi)})).apply(this,arguments)}function So(){return So=(0,x.Z)(function*(C,w){if(!navigator)throw er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw er.create("permission-blocked");return yield function ua(C,w){return da.apply(this,arguments)}(C,w?.vapidKey),yield function dl(C,w){return Mi.apply(this,arguments)}(C,w?.serviceWorkerRegistration),function _c(C){return yc.apply(this,arguments)}(C)}),So.apply(this,arguments)}function wc(){return(wc=(0,x.Z)(function*(C,w,T){const F=function sh(C){switch(C){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:T[Au],message_name:T[ln],message_time:T[eh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ha(){return ha=(0,x.Z)(function*(C,w){const T=w.data;if(!T.isFirebaseMessaging)return;C.onMessageHandler&&T.messageType===Ji.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ca(T)):C.onMessageHandler.next(ca(T)));const F=T.data;(function cl(C){return"object"==typeof C&&!!C&&Au in C})(F)&&"1"===F["google.c.a.e"]&&(yield function Zf(C,w,T){return wc.apply(this,arguments)}(C,T.messageType,F))}),ha.apply(this,arguments)}const we="@firebase/messaging",fa=C=>{const w=new Ou(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function Ic(C,w){return ha.apply(this,arguments)}(w,T)),w},Nu=C=>{const w=C.getProvider("messaging").getImmediate();return{getToken:F=>function hl(C,w){return So.apply(this,arguments)}(w,F)}};function fl(){return Es.apply(this,arguments)}function Es(){return(Es=(0,x.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fr(){(0,ne._registerComponent)(new oe.wA("messaging",fa,"PUBLIC")),(0,ne._registerComponent)(new oe.wA("messaging-internal",Nu,"PRIVATE")),(0,ne.registerVersion)(we,"0.12.4"),(0,ne.registerVersion)(we,"0.12.4","esm2017")}();const pl="analytics",Qi="firebase_id",Mo="origin",Dc=6e4,ku="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tc="https://www.googletagmanager.com/gtag/js",Nn=new fe.Yd("@firebase/analytics"),kn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gl(C){if(!C.startsWith(Tc)){const w=kn.create("invalid-gtag-resource",{gtagURL:C});return Nn.warn(w.message),""}return C}function Xi(C){return Promise.all(C.map(w=>w.catch(T=>T)))}function ws(){return(ws=(0,x.Z)(function*(C,w,T,F,W,Q){const ae=F[W];try{if(ae)yield w[ae];else{const Be=(yield Xi(T)).find(Ye=>Ye.measurementId===W);Be&&(yield w[Be.appId])}}catch(Ve){Nn.error(Ve)}C("config",W,Q)})).apply(this,arguments)}function Qo(){return(Qo=(0,x.Z)(function*(C,w,T,F,W){try{let Q=[];if(W&&W.send_to){let ae=W.send_to;Array.isArray(ae)||(ae=[ae]);const Ve=yield Xi(T);for(const Be of ae){const Ye=Ve.find(dt=>dt.measurementId===Be),gt=Ye&&w[Ye.appId];if(!gt){Q=[];break}Q.push(gt)}}0===Q.length&&(Q=Object.values(w)),yield Promise.all(Q),C("event",F,W||{})}catch(Q){Nn.error(Q)}})).apply(this,arguments)}const pr=30,dh=new class Dn{constructor(w={},T=1e3){this.throttleMetadata=w,this.intervalMillis=T}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,T){this.throttleMetadata[w]=T}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function qf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Fu(){return(Fu=(0,x.Z)(function*(C){var w;const{appId:T,apiKey:F}=C,W={method:"GET",headers:qf(F)},Q=ku.replace("{app-id}",T),ae=yield fetch(Q,W);if(200!==ae.status&&304!==ae.status){let Ve="";try{const Be=yield ae.json();null!==(w=Be.error)&&void 0!==w&&w.message&&(Ve=Be.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:Ve})}return ae.json()})).apply(this,arguments)}function Mc(){return(Mc=(0,x.Z)(function*(C,w=dh,T){const{appId:F,apiKey:W,measurementId:Q}=C.options;if(!F)throw kn.create("no-app-id");if(!W){if(Q)return{measurementId:Q,appId:F};throw kn.create("no-api-key")}const ae=w.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new Pc;return setTimeout((0,x.Z)(function*(){Ve.abort()}),void 0!==T?T:Dc),yl({appId:F,apiKey:W,measurementId:Q},ae,Ve,w)})).apply(this,arguments)}function yl(C,w,T){return to.apply(this,arguments)}function to(){return to=(0,x.Z)(function*(C,{throttleEndTimeMillis:w,backoffCount:T},F,W=dh){var Q;const{appId:ae,measurementId:Ve}=C;try{yield function Uu(C,w){return new Promise((T,F)=>{const W=Math.max(w-Date.now(),0),Q=setTimeout(T,W);C.addEventListener(()=>{clearTimeout(Q),F(kn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(F,w)}catch(Be){if(Ve)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:ae,measurementId:Ve};throw Be}try{const Be=yield function hh(C){return Fu.apply(this,arguments)}(C);return W.deleteThrottleMetadata(ae),Be}catch(Be){const Ye=Be;if(!function Rc(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Ye)){if(W.deleteThrottleMetadata(ae),Ve)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:ae,measurementId:Ve};throw Be}const gt=503===Number(null===(Q=Ye?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,ie.$s)(T,W.intervalMillis,pr):(0,ie.$s)(T,W.intervalMillis),dt={throttleEndTimeMillis:Date.now()+gt,backoffCount:T+1};return W.setThrottleMetadata(ae,dt),Nn.debug(`Calling attemptFetch again in ${gt} millis`),yl(C,dt,F,W)}}),to.apply(this,arguments)}class Pc{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let Is,Ri;function xc(){return(xc=(0,x.Z)(function*(C,w,T,F,W){if(W&&W.global)C("event",T,F);else{const Q=yield w;C("event",T,Object.assign(Object.assign({},F),{send_to:Q}))}})).apply(this,arguments)}function ya(){return(ya=(0,x.Z)(function*(){if(!(0,ie.hl)())return Nn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return Nn.warn(kn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function mi(){return mi=(0,x.Z)(function*(C,w,T,F,W,Q,ae){var Ve;const Be=function _l(C){return Mc.apply(this,arguments)}(C);Be.then(tr=>{T[tr.measurementId]=tr.appId,C.options.measurementId&&tr.measurementId!==C.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>Nn.error(tr)),w.push(Be);const Ye=function Lr(){return ya.apply(this,arguments)}().then(tr=>{if(tr)return F.getId()}),[gt,dt]=yield Promise.all([Be,Ye]);(function uh(C){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(Tc)&&T.src.includes(C))return T;return null})(Q)||function lh(C,w){const T=function ml(C,w){let T;return window.trustedTypes&&(T=window.trustedTypes.createPolicy(C,w)),T}("firebase-js-sdk-policy",{createScriptURL:gl}),F=document.createElement("script"),W=`${Tc}?l=${C}&id=${w}`;F.src=T?T?.createScriptURL(W):W,F.async=!0,document.head.appendChild(F)}(Q,gt.measurementId),Ri&&(W("consent","default",Ri),function lt(C){Ri=C}(void 0)),W("js",new Date);const lr=null!==(Ve=ae?.config)&&void 0!==Ve?Ve:{};return lr[Mo]="firebase",lr.update=!0,null!=dt&&(lr[Qi]=dt),W("config",gt.measurementId,lr),Is&&(W("set",Is),function kr(C){Is=C}(void 0)),gt.measurementId}),mi.apply(this,arguments)}class Ss{constructor(w){this.app=w}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},Nc=[];const Ro={};let Hu,Fr,Et="dataLayer",Po=!1;function As(C,w,T){!function va(){const C=[];if((0,ie.ru)()&&C.push("This is a browser extension environment."),(0,ie.zI)()||C.push("Cookies are not available."),C.length>0){const w=C.map((F,W)=>`(${W+1}) ${F}`).join(" "),T=kn.create("invalid-analytics-context",{errorInfo:w});Nn.warn(T.message)}}();const F=C.options.appId;if(!F)throw kn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw kn.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[F])throw kn.create("already-exists",{id:F});if(!Po){!function ma(C){let w=[];Array.isArray(window[C])?w=window[C]:window[C]=w}(Et);const{wrappedGtag:Q,gtagCore:ae}=function ch(C,w,T,F,W){let Q=function(...ae){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(Q=window[W]),window[W]=function gi(C,w,T,F){function Q(){return Q=(0,x.Z)(function*(ae,...Ve){try{if("event"===ae){const[Be,Ye]=Ve;yield function Ac(C,w,T,F,W){return Qo.apply(this,arguments)}(C,w,T,Be,Ye)}else if("config"===ae){const[Be,Ye]=Ve;yield function Lu(C,w,T,F,W,Q){return ws.apply(this,arguments)}(C,w,T,F,Be,Ye)}else if("consent"===ae){const[Be]=Ve;C("consent","update",Be)}else if("get"===ae){const[Be,Ye,gt]=Ve;C("get",Be,Ye,gt)}else if("set"===ae){const[Be]=Ve;C("set",Be)}else C(ae,...Ve)}catch(Be){Nn.error(Be)}}),Q.apply(this,arguments)}return function W(ae){return Q.apply(this,arguments)}}(Q,C,w,T),{gtagCore:Q,wrappedGtag:window[W]}}(Pi,Nc,Ro,Et,"gtag");Fr=Q,Hu=ae,Po=!0}return Pi[F]=function Cl(C,w,T,F,W,Q,ae){return mi.apply(this,arguments)}(C,Nc,Ro,w,Hu,Et,T),new Ss(C)}function zu(){return _i.apply(this,arguments)}function _i(){return(_i=(0,x.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Hn="@firebase/analytics";!function bl(){(0,ne._registerComponent)(new oe.wA(pl,(w,{options:T})=>As(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,ne._registerComponent)(new oe.wA("analytics-internal",function C(w){try{const T=w.getProvider(pl).getImmediate();return{logEvent:(F,W,Q)=>function Ur(C,w,T,F){C=(0,ie.m9)(C),function vl(C,w,T,F,W){return xc.apply(this,arguments)}(Fr,Pi[C.app.options.appId],w,T,F).catch(W=>Nn.error(W))}(T,F,W,Q)}}catch(T){throw kn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,ne.registerVersion)(Hn,"0.10.0"),(0,ne.registerVersion)(Hn,"0.10.0","esm2017")}();var Ln=L(4408),ro=L(7565);const Fn=new class mr extends ro.v{}(class no extends Ln.o{constructor(w,T){super(w,T),this.scheduler=w,this.work=T}schedule(w,T=0){return T>0?super.schedule(w,T):(this.delay=T,this.state=w,this.scheduler.flush(this),this)}execute(w,T){return T>0||this.closed?super.execute(w,T):this._execute(w,T)}requestAsyncId(w,T,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(w,T,F):(w.flush(this),0)}});var El=L(4986),io=L(9751),oo=L(8505),so=L(9468),_r=L(5363);const xo=new c.GfV("7.6.1"),Gu="__angularfire_symbol__analyticsIsSupportedValue",Ea="__angularfire_symbol__analyticsIsSupported",wa="__angularfire_symbol__remoteConfigIsSupportedValue",Lc="__angularfire_symbol__remoteConfigIsSupported",Xo="__angularfire_symbol__messagingIsSupportedValue",Ia="__angularfire_symbol__messagingIsSupported";function Fc(C,w,T){if(w){if(1===w.length)return w[0];const Q=w.filter(ae=>ae.app===T);if(1===Q.length)return Q[0]}return T.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ea]||(globalThis[Ea]=zu().then(C=>globalThis[Gu]=C).catch(()=>globalThis[Gu]=!1)),globalThis[Ia]||(globalThis[Ia]=fl().then(C=>globalThis[Xo]=C).catch(()=>globalThis[Xo]=!1)),globalThis[Lc]||(globalThis[Lc]=zr().then(C=>globalThis[wa]=C).catch(()=>globalThis[wa]=!1));const ii=(C,w)=>{const T=w?[w]:(0,B.C6)(),F=[];return T.forEach(W=>{W.container.getProvider(C).instances.forEach(ae=>{F.includes(ae)||F.push(ae)})}),F};function $n(){}class Da{constructor(w,T=Fn){this.zone=w,this.delegate=T}now(){return this.delegate.now()}schedule(w,T,F){const W=this.zone;return this.delegate.schedule(function(ae){W.runGuarded(()=>{w.apply(this,[ae])})},T,F)}}class Ta{constructor(w){this.zone=w,this.task=null}call(w,T){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$n,{},$n,$n)),T.pipe((0,oo.b)({next:F,complete:F,error:F})).subscribe(w).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ir=(()=>{class C{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Da(Zone.current)),this.insideAngular=T.run(()=>new Da(Zone.current,El.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(T){return new(T||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function es(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Oo(C){return es().ngZone.run(()=>C())}function wl(C){return es(),function ts(C){return function(T){return(T=T.lift(new Ta(C.ngZone))).pipe((0,so.R)(C.outsideAngular),(0,_r.Q)(C.insideAngular))}}(es())(C)}const mh=(C,w)=>function(){const F=arguments;return w&&setTimeout(()=>{"scheduled"===w.state&&w.invoke()},10),Oo(()=>C.apply(void 0,F))},ns=(C,w)=>function(){let T;const F=arguments;for(let Q=0;Q<arguments.length;Q++)"function"==typeof F[Q]&&(w&&(T||(T=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$n,{},$n,$n)))),F[Q]=mh(F[Q],T));const W=function gh(C){return es().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,F));if(!w){if(W instanceof io.y){const Q=es();return W.pipe((0,so.R)(Q.outsideAngular),(0,_r.Q)(Q.insideAngular))}return Oo(()=>W)}return W instanceof io.y?W.pipe(wl):W instanceof Promise?Oo(()=>new Promise((Q,ae)=>W.then(Ve=>Oo(()=>Q(Ve)),Ve=>Oo(()=>ae(Ve))))):"function"==typeof W&&T?function(){return setTimeout(()=>{T&&"scheduled"===T.state&&T.invoke()},10),W.apply(this,arguments)}:Oo(()=>W)}},1389:(rt,De,L)=>{L.d(De,{$:()=>cc,A:()=>z,B:()=>pt,D:()=>Ee,I:()=>Eu,J:()=>gs,L:()=>Xt,N:()=>qn,P:()=>Cl,Q:()=>ea,R:()=>_a,U:()=>ic,V:()=>zr,W:()=>br,X:()=>On,Y:()=>Wr,Z:()=>oc,_:()=>na,a:()=>ga,a0:()=>Yi,a1:()=>Au,a2:()=>Fg,a3:()=>Xn,a4:()=>hc,a5:()=>fc,a6:()=>ni,a7:()=>gc,a8:()=>rl,a9:()=>Pu,aA:()=>ee,aB:()=>Ea,aC:()=>yn,aD:()=>jr,aE:()=>oo,aF:()=>Ms,aG:()=>ph,aH:()=>Pn,aL:()=>Ao,aO:()=>ti,aa:()=>Wf,ab:()=>th,ac:()=>nh,ad:()=>rh,ae:()=>ih,af:()=>mc,ai:()=>Ai,aj:()=>yc,ak:()=>cn,an:()=>zf,ao:()=>Cc,aq:()=>da,ar:()=>we,as:()=>je,at:()=>ut,au:()=>re,av:()=>Ce,aw:()=>dt,ax:()=>Ia,ay:()=>Wt,az:()=>_e,b:()=>Gr,c:()=>Fr,d:()=>As,e:()=>jn,f:()=>Hn,g:()=>mr,h:()=>Ln,i:()=>eo,j:()=>El,k:()=>No,l:()=>Ts,m:()=>rs,o:()=>ov,p:()=>pe,r:()=>Tn,s:()=>fh,u:()=>Lr,x:()=>xu});var c=L(5861),B=L(2090),x=L(6881),ne=L(655),ie=L(1877),oe=L(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ie.Yd("@firebase/auth");function Le(y,...p){Ae.logLevel<=ie.in.ERROR&&Ae.error(`Auth (${x.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw ye(y,...p)}function _e(y,...p){return ye(y,...p)}function ve(y,p,g){const b=Object.assign(Object.assign({},Ze()),{[p]:g});return new B.LL("auth","Firebase",b).create(p,{appName:y.name})}function Te(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ce(y,"argument-error"),ve(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ye(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return Qe.create(y,...p)}function ee(y,p,...g){if(!y)throw ye(p,...g)}function We(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function je(y,p){y||We(p)}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Vn(){return"http:"===Rr()||"https:"===Rr()}function Rr(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class de{constructor(p,g){this.shortDelay=p,this.longDelay=g,je(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Wi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(y,p){je(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Me{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new de(3e4,6e4);function Se(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ke(y,p,g,b){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(y,p,g,b,S={}){return Xe(y,S,(0,c.Z)(function*(){let P={},q={};b&&("GET"===p?q=b:P={body:JSON.stringify(b)});const se=(0,B.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),Me.fetch()(en(y,y.config.apiHost,g,se),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Xe(y,p,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ue),p);try{const S=new Gn(y),P=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield P.json();if("needConfirmation"in q)throw An(y,"account-exists-with-different-credential",q);if(P.ok&&!("errorMessage"in q))return q;{const se=P.ok?q.errorMessage:q.error.message,[Fe,qe]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw An(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Fe)throw An(y,"email-already-in-use",q);if("USER_DISABLED"===Fe)throw An(y,"user-disabled",q);const ot=b[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw ve(y,ot,qe);Ce(y,ot)}}catch(S){if(S instanceof B.ZR)throw S;Ce(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Ut(y,p,g,b){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(y,p,g,b,S={}){const P=yield Ke(y,p,g,b,S);return"mfaPendingCredential"in P&&Ce(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function en(y,p,g,b){const S=`${p}${g}?${b}`;return y.config.emulator?be(y.config,S):`${y.config.apiScheme}://${S}`}class Gn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=_e(y,p,b);return S.customData._tokenResponse=g,S}function Bn(){return(Bn=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function et(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function mn(){return(mn=(0,c.Z)(function*(y,p=!1){const g=(0,B.m9)(y),b=yield g.getIdToken(p),S=nt(b);ee(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,q=P?.sign_in_provider;return{claims:S,token:b,authTime:et(Bt(S.auth_time)),issuedAtTime:et(Bt(S.iat)),expirationTime:et(Bt(S.exp)),signInProvider:q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Bt(y){return 1e3*Number(y)}function nt(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(g);return S?JSON.parse(S):(Le("Failed to decode base64 JWT payload"),null)}catch(S){return Le("Caught error parsing JWT payload as JSON",S?.toString()),null}}function _n(y,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof B.ZR&&function xr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class dn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class hn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cr(y){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,c.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),S=yield _n(y,function yo(y,p){return ui.apply(this,arguments)}(g,{idToken:b}));ee(S?.users.length,g,"internal-error");const P=S.users[0];y._notifyReloadListener(P);const q=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function or(y){return y.map(p=>{var{providerId:g}=p,b=(0,ne._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(P.providerUserInfo):[],se=function En(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}(y.providerData,q),ot=!!y.isAnonymous&&!(y.email&&P.passwordHash||se?.length),jt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:se,metadata:new hn(P.createdAt,P.lastLoginAt),isAnonymous:ot};Object.assign(y,jt)}),Yt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(y){const p=(0,B.m9)(y);yield Cr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y,p){const g=yield Xe(y,{},(0,c.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=y.config,q=en(y,S,"/v1/token",`key=${P}`),se=yield y._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(q,{method:"POST",headers:se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ze(y){const p=nt(y);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,c.Z)(function*(){return ee(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:q}=yield function Di(y,p){return fn.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,P,Number(q))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:P}=g,q=new Mn;return b&&(ee("string"==typeof b,"internal-error",{appName:p}),q.refreshToken=b),S&&(ee("string"==typeof S,"internal-error",{appName:p}),q.accessToken=S),P&&(ee("number"==typeof P,"internal-error",{appName:p}),q.expirationTime=P),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mn,this.toJSON())}_performRefresh(){return We("not implemented")}}function Nt(y,p){ee("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class wn{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,P=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new hn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const b=yield _n(g,g.stsTokenManager.getToken(g.auth,p));return ee(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function vr(y){return mn.apply(this,arguments)}(this,p)}reload(){return function Qr(y){return Tt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Cr(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield _n(p,function ir(y,p){return Bn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,P,q,se,Fe,qe,ot;const jt=null!==(b=g.displayName)&&void 0!==b?b:void 0,si=null!==(S=g.email)&&void 0!==S?S:void 0,Ni=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Sa=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Il=null!==(se=g.tenantId)&&void 0!==se?se:void 0,qu=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,Ku=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,Yu=null!==(ot=g.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:ki,emailVerified:Li,isAnonymous:Aa,providerData:Fi,stsTokenManager:ai}=g;ee(ki&&ai,p,"internal-error");const jc=Mn.fromJSON(this.name,ai);ee("string"==typeof ki,p,"internal-error"),Nt(jt,p.name),Nt(si,p.name),ee("boolean"==typeof Li,p,"internal-error"),ee("boolean"==typeof Aa,p,"internal-error"),Nt(Ni,p.name),Nt(Sa,p.name),Nt(Il,p.name),Nt(qu,p.name),Nt(Ku,p.name),Nt(Yu,p.name);const Hc=new wn({uid:ki,auth:p,email:si,emailVerified:Li,displayName:jt,isAnonymous:Aa,photoURL:Sa,phoneNumber:Ni,tenantId:Il,stsTokenManager:jc,createdAt:Ku,lastLoginAt:Yu});return Fi&&Array.isArray(Fi)&&(Hc.providerData=Fi.map(Wg=>Object.assign({},Wg))),qu&&(Hc._redirectEventId=qu),Hc}static _fromIdTokenResponse(p,g,b=!1){return(0,c.Z)(function*(){const S=new Mn;S.updateFromServerResponse(g);const P=new wn({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Cr(P),P})()}}const Rt=new Map;function yn(y){je(y instanceof Function,"Expected a class definition");let p=Rt.get(y);return p?(je(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Rt.set(y,p),p)}const qn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function jr(y,p,g){return`firebase:${y}:${p}:${g}`}class ${constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:P}=this.auth;this.fullUserKey=jr(this.userKey,S.apiKey,P),this.fullPersistenceKey=jr("persistence",S.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?wn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new $(yn(qn),p,b);const S=(yield Promise.all(g.map(function(){var qe=(0,c.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let P=S[0]||yn(qn);const q=jr(b,p.config.apiKey,p.name);let se=null;for(const qe of g)try{const ot=yield qe._get(q);if(ot){const jt=wn._fromJSON(p,ot);qe!==P&&(se=jt),P=qe;break}}catch{}const Fe=S.filter(qe=>qe._shouldAllowMigration);return P._shouldAllowMigration&&Fe.length?(P=Fe[0],se&&(yield P._set(q,se.toJSON())),yield Promise.all(g.map(function(){var qe=(0,c.Z)(function*(ot){if(ot!==P)try{yield ot._remove(q)}catch{}});return function(ot){return qe.apply(this,arguments)}}())),new $(P,p,b)):new $(P,p,b)})()}}function H(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(O(p))return"Firefox";if(p.includes("silk/"))return"Silk";if($e(p))return"Blackberry";if(ft(p))return"Webos";if(N(p))return"Safari";if((p.includes("chrome/")||R(p))&&!p.includes("edge/"))return"Chrome";if(re(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function O(y=(0,B.z$)()){return/firefox\//i.test(y)}function N(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function R(y=(0,B.z$)()){return/crios\//i.test(y)}function J(y=(0,B.z$)()){return/iemobile/i.test(y)}function re(y=(0,B.z$)()){return/android/i.test(y)}function $e(y=(0,B.z$)()){return/blackberry/i.test(y)}function ft(y=(0,B.z$)()){return/webos/i.test(y)}function ut(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Wt(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function At(y=(0,B.z$)()){return ut(y)||re(y)||ft(y)||$e(y)||/windows phone/i.test(y)||J(y)}function hi(y,p=[]){let g;switch(y){case"Browser":g=H((0,B.z$)());break;case"Worker":g=`${H((0,B.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${x.SDK_VERSION}/${b}`}function te(){return(te=(0,c.Z)(function*(y){return(yield Ke(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pe(y,p){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(y,p){return Ke(y,"GET","/v2/recaptchaConfig",Se(y,p))})).apply(this,arguments)}function yt(y){return void 0!==y&&void 0!==y.getResponse}function Pt(y){return void 0!==y&&void 0!==y.enterprise}class Gt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Rn(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const P=_e("internal-error");P.customData=S,g(P)},b.type="text/javascript",b.charset="UTF-8",function sr(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Yn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class vo{constructor(p){this.type="recaptcha-enterprise",this.auth=Pn(p)}verify(p="verify",g=!1){var b=this;return(0,c.Z)(function*(){function P(){return P=(0,c.Z)(function*(se){if(!g){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(){var Fe=(0,c.Z)(function*(qe,ot){Pe(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jt=>{if(void 0!==jt.recaptchaKey){const si=new Gt(jt);return null==se.tenantId?se._agentRecaptchaConfig=si:se._tenantRecaptchaConfigs[se.tenantId]=si,qe(si.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(jt=>{ot(jt)})});return function(qe,ot){return Fe.apply(this,arguments)}}())}),P.apply(this,arguments)}function q(se,Fe,qe){const ot=window.grecaptcha;Pt(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(se,{action:p}).then(jt=>{Fe(jt)}).catch(()=>{Fe("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((se,Fe)=>{(function S(se){return P.apply(this,arguments)})(b.auth).then(qe=>{if(!g&&Pt(window.grecaptcha))q(qe,se,Fe);else{if(typeof window>"u")return void Fe(new Error("RecaptchaVerifier is only supported in browser"));Rn("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{q(qe,se,Fe)}).catch(ot=>{Fe(ot)})}}).catch(qe=>{Fe(qe)})})})()}}function Co(y,p,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(y,p,g,b=!1){const S=new vo(y);let P;try{P=yield S.verify(g)}catch{P=yield S.verify(g,!0)}const q=Object.assign({},p);return Object.assign(q,b?{captchaResp:P}:{captchaResponse:P}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class bu{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=P=>new Promise((q,se)=>{try{q(p(P))}catch(Fe){se(Fe)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const S of g.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const P of b)try{P()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class qs{constructor(p,g,b,S){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hf(this),this.idTokenSubscription=new Hf(this),this.beforeStateQueue=new bu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=yn(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,P;if(!b._deleted&&(b.persistenceManager=yield $.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let P=S,q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const se=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Fe=P?._redirectEventId,qe=yield g.tryRedirectSignIn(p);(!se||se===Fe)&&qe?.user&&(P=qe.user,q=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(P)}catch(se){P=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(se))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return ee(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield Cr(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ce(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const b=p?(0,B.m9)(p):null;return b&&ee(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return p&&ee(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(yn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const g=yield Pe(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Gt(g);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new vo(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&yn(p)||g._popupRedirectResolver;ee(b,g,"argument-error"),g.redirectPersistenceManager=yield $.create(g,[yn(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(q,this,"internal-error"),q.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const P=yield p._getAppCheckToken();return P&&(b["X-Firebase-AppCheck"]=P),b})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var g;const b=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function Re(y,...p){Ae.logLevel<=ie.in.WARN&&Ae.warn(`Auth (${x.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Pn(y){return(0,B.m9)(y)}class Hf{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Eu(y,p,g){const b=Pn(y);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!g?.disableWarnings,P=Za(p),{host:q,port:se}=function Go(y){const p=Za(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const P=S[1];return{host:P,port:tc(b.substr(P.length+1))}}{const[P,q]=b.split(":");return{host:P,port:tc(q)}}}(p);b.config.emulator={url:`${P}//${q}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function wu(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function Za(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function tc(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class gs{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return We("not implemented")}_getIdTokenResponse(p){return We("not implemented")}_linkToIdToken(p,g){return We("not implemented")}_getReauthenticationResolver(p){return We("not implemented")}}function qa(y,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:resetPassword",Se(y,p))})).apply(this,arguments)}function Jn(y,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:update",Se(y,p))})).apply(this,arguments)}function Ka(y,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithPassword",Se(y,p))})).apply(this,arguments)}function Zo(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:sendOobCode",Se(y,p))})).apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(y,p){return Zo(y,p)})).apply(this,arguments)}function Ge(y,p){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(y,p){return Zo(y,p)})).apply(this,arguments)}function pn(y,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(y,p){return Zo(y,p)})).apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(y,p){return Zo(y,p)})).apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithEmailLink",Se(y,p))})).apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithEmailLink",Se(y,p))})).apply(this,arguments)}class bt extends gs{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new bt(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new bt(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){var b;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const P=yield Co(p,S,"signInWithPassword");return Ka(p,P)}return Ka(p,S).catch(function(){var P=(0,c.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield Co(p,S,"signInWithPassword");return Ka(p,se)}return Promise.reject(q)});return function(q){return P.apply(this,arguments)}}());case"emailLink":return function ms(y,p){return rn.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Jn(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Js(y,p){return bo.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xr(y,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithIdp",Se(y,p))})).apply(this,arguments)}class Xt extends gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Xt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,P=(0,ne._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const q=new Xt(b,S);return q.idToken=P.idToken||void 0,q.accessToken=P.accessToken||void 0,q.secret=P.secret,q.nonce=P.nonce,q.pendingToken=P.pendingToken||null,q}_getIdTokenResponse(p){return Xr(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Xr(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function Eo(){return(Eo=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:sendVerificationCode",Se(y,p))})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,p))})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(y,p){const g=yield Ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,p));if(g.temporaryProof)throw An(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ki={USER_NOT_FOUND:"user-not-found"};function ys(){return(ys=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ki)})).apply(this,arguments)}class wt extends gs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new wt({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new wt({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function ei(y,p){return Zi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Jd(y,p){return qi.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Xs(y,p){return ys.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}=p;return b||g||S||P?new wt({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}):null}}class wo{constructor(p){var g,b,S,P,q,se;const Fe=(0,B.zd)((0,B.pd)(p)),qe=null!==(g=Fe.apiKey)&&void 0!==g?g:null,ot=null!==(b=Fe.oobCode)&&void 0!==b?b:null,jt=function vs(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Fe.mode)&&void 0!==S?S:null);ee(qe&&ot&&jt,"argument-error"),this.apiKey=qe,this.operation=jt,this.code=ot,this.continueUrl=null!==(P=Fe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(q=Fe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(se=Fe.tenantId)&&void 0!==se?se:null}static parseLink(p){const g=function rc(y){const p=(0,B.zd)((0,B.pd)(y)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||g||p||y}(p);try{return new wo(g)}catch{return null}}}let ea=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return bt._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=wo.parseLink(b);return ee(S,"argument-error"),bt._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class $r{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ti extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class On extends Ti{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ee("providerId"in g&&"signInMethod"in g,"argument-error"),Xt._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),Xt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return On.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return On.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:P,nonce:q,providerId:se}=p;if(!b&&!S&&!g&&!P||!se)return null;try{return new On(se)._credential({idToken:g,accessToken:b,nonce:q,pendingToken:P})}catch{return null}}}let ic=(()=>{class y extends Ti{constructor(){super("facebook.com")}static credential(g){return Xt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),zr=(()=>{class y extends Ti{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Xt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),br=(()=>{class y extends Ti{constructor(){super("github.com")}static credential(g){return Xt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ti extends gs{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Xr(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Xr(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Xr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:P}=g;return b&&S&&P&&b===S?new ti(b,P):null}static _create(p,g){return new ti(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends $r{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=ti.fromJSON(p);return ee(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return ti._create(b,g)}catch{return null}}}let oc=(()=>{class y extends Ti{constructor(){super("twitter.com")}static credential(g,b){return Xt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ta(y,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signUp",Se(y,p))})).apply(this,arguments)}class hr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,c.Z)(function*(){const P=yield wn._fromIdTokenResponse(p,b,S),q=Qa(b);return new hr({user:P,providerId:q,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Qa(b);return new hr({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function Qa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function na(y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(y){var p;const g=Pn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new hr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield ta(g,{returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class sc extends B.ZR{constructor(p,g,b,S){var P;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,S){return new sc(p,g,b,S)}}function Du(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?sc._fromErrorAndOperation(y,P,p,b):P})}function Qd(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function zf(y,p){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y);yield Xa(!0,g,p);const{providerUserInfo:b}=yield function an(y,p){return Pr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=Qd(b||[]);return g.providerData=g.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Tu.apply(this,arguments)}function Si(y,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(y,p,g=!1){const b=yield _n(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return hr._forOperation(y,"link",b)})).apply(this,arguments)}function Xa(y,p,g){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(y,p,g){yield Cr(p);const S=!1===y?"provider-already-linked":"no-such-provider";ee(Qd(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Xd(y,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(y,p,g=!1){const{auth:b}=y,S="reauthenticate";try{const P=yield _n(y,Du(b,S,p,y),g);ee(P.idToken,b,"internal-error");const q=nt(P.idToken);ee(q,b,"internal-error");const{sub:se}=q;return ee(y.uid===se,b,"user-mismatch"),hr._forOperation(y,S,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ce(b,"user-mismatch"),P}})).apply(this,arguments)}function nl(y,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(y,p,g=!1){const b="signIn",S=yield Du(y,b,p),P=yield hr._fromIdTokenResponse(y,b,S);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function cc(y,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(y,p){return nl(Pn(y),p)})).apply(this,arguments)}function Yi(y,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y);return yield Xa(!1,g,p.providerId),Si(g,p)})).apply(this,arguments)}function Au(y,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(y,p){return Xd((0,B.m9)(y),p)})).apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:signInWithCustomToken",Se(y,p))})).apply(this,arguments)}function Fg(y,p){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,c.Z)(function*(y,p){const g=Pn(y),b=yield function eh(y,p){return Mu.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S}),Ji.apply(this,arguments)}class fi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ru._fromServerResponse(p,g):"totpInfo"in g?Or._fromServerResponse(p,g):Ce(p,"internal-error")}}class Ru extends fi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ru(g)}}class Or extends fi{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Or(g)}}function Do(y,p,g){var b;ee((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ee(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ee(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ee(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Xn(y,p,g){return dc.apply(this,arguments)}function dc(){return dc=(0,c.Z)(function*(y,p,g){var b;const S=Pn(y),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const q=yield Co(S,P,"getOobCode",!0);g&&Do(S,q,g),yield Ge(S,q)}else g&&Do(S,P,g),yield Ge(S,P).catch(function(){var q=(0,c.Z)(function*(se){if("auth/missing-recaptcha-token"!==se.code)return Promise.reject(se);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fe=yield Co(S,P,"getOobCode",!0);g&&Do(S,Fe,g),yield Ge(S,Fe)}});return function(se){return q.apply(this,arguments)}}())}),dc.apply(this,arguments)}function hc(y,p,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(y,p,g){yield qa((0,B.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function fc(y,p){return To.apply(this,arguments)}function To(){return To=(0,c.Z)(function*(y,p){yield function Ys(y,p){return nn.apply(this,arguments)}((0,B.m9)(y),{oobCode:p})}),To.apply(this,arguments)}function ni(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y),b=yield qa(g,{oobCode:p}),S=b.requestType;switch(ee(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,g,"internal-error");default:ee(b.email,g,"internal-error")}let P=null;return b.mfaInfo&&(P=fi._fromServerResponse(Pn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function gc(y,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(y,p){const{data:g}=yield ni((0,B.m9)(y),p);return g.email})).apply(this,arguments)}function rl(y,p,g){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,c.Z)(function*(y,p,g){var b;const S=Pn(y),P={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const qe=yield Co(S,P,"signUpPassword");q=ta(S,qe)}else q=ta(S,P).catch(function(){var qe=(0,c.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const jt=yield Co(S,P,"signUpPassword");return ta(S,jt)}return Promise.reject(ot)});return function(ot){return qe.apply(this,arguments)}}());const se=yield q.catch(qe=>Promise.reject(qe)),Fe=yield hr._fromIdTokenResponse(S,"signIn",se);return yield S._updateCurrentUser(Fe.user),Fe}),Jo.apply(this,arguments)}function Pu(y,p,g){return cc((0,B.m9)(y),ea.credential(p,g))}function Wf(y,p,g){return ia.apply(this,arguments)}function ia(){return ia=(0,c.Z)(function*(y,p,g){var b;const S=Pn(y),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function q(se,Fe){ee(Fe.handleCodeInApp,S,"argument-error"),Fe&&Do(S,se,Fe)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const se=yield Co(S,P,"getOobCode",!0);q(se,g),yield pn(S,se)}else q(P,g),yield pn(S,P).catch(function(){var se=(0,c.Z)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield Co(S,P,"getOobCode",!0);q(qe,g),yield pn(S,qe)}});return function(Fe){return se.apply(this,arguments)}}())}),ia.apply(this,arguments)}function th(y,p){const g=wo.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function nh(y,p,g){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y),S=ea.credentialWithLink(p,g||Kt());return ee(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),cc(b,S)})).apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:createAuthUri",Se(y,p))})).apply(this,arguments)}function rh(y,p){return il.apply(this,arguments)}function il(){return il=(0,c.Z)(function*(y,p){const b={identifier:p,continueUri:Vn()?Kt():"http://localhost"},{signinMethods:S}=yield function Gf(y,p){return Cs.apply(this,arguments)}((0,B.m9)(y),b);return S||[]}),il.apply(this,arguments)}function ih(y,p){return oa.apply(this,arguments)}function oa(){return oa=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Do(g.auth,S,p);const{email:P}=yield function Yd(y,p){return In.apply(this,arguments)}(g.auth,S);P!==y.email&&(yield y.reload())}),oa.apply(this,arguments)}function mc(y,p,g){return sa.apply(this,arguments)}function sa(){return sa=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Do(b.auth,P,g);const{email:q}=yield function Gi(y,p){return Qn.apply(this,arguments)}(b.auth,P);q!==y.email&&(yield y.reload())}),sa.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(y,p){return Ke(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ai(y,p){return _c.apply(this,arguments)}function _c(){return _c=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,B.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield _n(b,function ol(y,p){return sl.apply(this,arguments)}(b.auth,P));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const se=b.providerData.find(({providerId:Fe})=>"password"===Fe);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)}),_c.apply(this,arguments)}function yc(y,p){return vc((0,B.m9)(y),p,null)}function cn(y,p){return vc((0,B.m9)(y),null,p)}function vc(y,p,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(y,p,g){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const q=yield _n(y,Jn(b,P));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class bs{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class al extends bs{constructor(p,g,b,S){super(p,g,b),this.username=S}}class la extends bs{constructor(p,g){super(p,"facebook.com",g)}}class wr extends al{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ll extends bs{constructor(p,g){super(p,"google.com",g)}}class ca extends al{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Cc(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Er(y){var p,g;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const q=null===(g=null===(p=nt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new bs(P,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new la(P,S);case"github.com":return new wr(P,S);case"google.com":return new ll(P,S);case"twitter.com":return new ca(P,S,y.screenName||null);case"custom":case"anonymous":return new bs(P,null);default:return new bs(P,b,S)}}(g)}function xu(y,p,g,b){return(0,B.m9)(y).onAuthStateChanged(p,g,b)}function pt(y){return(0,B.m9)(y).signOut()}class Mi{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Mi("enroll",p,g)}static _fromMfaPendingCredential(p){return new Mi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Mi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Mi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ua{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Pn(p),S=g.customData._serverResponse,P=(S.mfaInfo||[]).map(se=>fi._fromServerResponse(b,se));ee(S.mfaPendingCredential,b,"internal-error");const q=Mi._fromMfaPendingCredential(S.mfaPendingCredential);return new ua(q,P,function(){var se=(0,c.Z)(function*(Fe){const qe=yield Fe._process(b,q);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const jt=yield hr._fromIdTokenResponse(b,g.operationType,ot);return yield b._updateCurrentUser(jt.user),jt;case"reauthenticate":return ee(g.user,b,"internal-error"),hr._forOperation(g.user,g.operationType,ot);default:Ce(b,"internal-error")}});return function(Fe){return se.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function da(y,p){var g;const b=(0,B.m9)(y),S=p;return ee(p.customData.operationType,b,"argument-error"),ee(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ua._fromError(b,S)}class Ic{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>fi._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ic(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Mi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,c.Z)(function*(){const S=p,P=yield b.getSession(),q=yield _n(b.user,S._process(b.user.auth,P,g));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield g.user.getIdToken();try{const P=yield _n(g.user,function sh(y,p){return Ke(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==b),yield g.user._updateTokensIfNecessary(P),yield g.user.reload()}catch(P){throw P}})()}}const ha=new WeakMap;function we(y){const p=(0,B.m9)(y);return ha.has(p)||ha.set(p,Ic._fromUser(p)),ha.get(p)}const Ot="__sak";class fa{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ot,"1"),this.storage.removeItem(Ot),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gr=(()=>{class y extends fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nu(){const y=(0,B.z$)();return N(y)||ut(y)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=At(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),P=this.localCache[b];S!==P&&g(b,P,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((se,Fe,qe)=>{this.notifyListeners(se,qe)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(S);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const P=()=>{const se=this.storage.getItem(S);!b&&this.localCache[S]===se||this.notifyListeners(S,se)},q=this.storage.getItem(S);!function Qt(){return(0,B.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,P=this;return(0,c.Z)(function*(){yield S().call(P,g,b),P.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const P=yield b().call(S,g);return S.localCache[g]=JSON.stringify(P),P})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),ga=(()=>{class y extends fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Ug=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(P=>P.isListeningto(g));if(b)return b;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:P,eventType:q,data:se}=S.data,Fe=b.handlersMap[q];if(!Fe?.size)return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:q});const qe=Array.from(Fe).map(function(){var jt=(0,c.Z)(function*(si){return si(S.origin,se)});return function(si){return jt.apply(this,arguments)}}()),ot=yield function ah(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(qe);S.ports[0].postMessage({status:"done",eventId:P,eventType:q,response:ot})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ao(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Nr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,c.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let q,se;return new Promise((Fe,qe)=>{const ot=Ao("",20);P.port1.start();const jt=setTimeout(()=>{qe(new Error("unsupported_event"))},b);se={messageChannel:P,onMessage(si){const Ni=si;if(Ni.data.eventId===ot)switch(Ni.data.status){case"ack":clearTimeout(jt),q=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Fe(Ni.data.response);break;default:clearTimeout(jt),clearTimeout(q),qe(new Error("invalid_response"))}}},S.handlers.add(se),P.port1.addEventListener("message",se.onMessage),S.target.postMessage({eventType:p,eventId:ot,data:g},[P.port2])}).finally(()=>{se&&S.removeMessageHandler(se)})})()}}function on(){return window}function Qi(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function Dc(){return(Dc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nn="firebaseLocalStorageDb",kn="firebaseLocalStorage",gl="fbase_key";class Xi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ml(y,p){return y.transaction([kn],p?"readwrite":"readonly").objectStore(kn)}function ma(){const y=indexedDB.open(Nn,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(kn,{keyPath:gl})}catch(S){g(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(kn)?p(b):(b.close(),yield function lh(){const y=indexedDB.deleteDatabase(Nn);return new Xi(y).toPromise()}(),p(yield ma()))}))})}function Lu(y,p,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(y,p,g){const b=ml(y,!0).put({[gl]:p,value:g});return new Xi(b).toPromise()})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,p){const g=ml(y,!1).get(p),b=yield new Xi(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function gi(y,p){const g=ml(y,!0).delete(p);return new Xi(g).toPromise()}const eo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield ma()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const P=yield b._openDb();return yield g(P)}catch(P){if(S++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Qi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Ug._getInstance(function Tc(){return Qi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(S,P){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Mo(){return Dc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nr(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);P&&null!==(b=P[0])&&void 0!==b&&b.fulfilled&&null!==(S=P[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function ku(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ma();return yield Lu(g,Ot,"1"),yield gi(g,Ot),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(P=>Lu(P,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(P=>function Ac(y,p){return Qo.apply(this,arguments)}(P,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>gi(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(q=>{const se=ml(q,!1).getAll();return new Xi(se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:q,value:se}of b)P.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(se)&&(g.notifyListeners(q,se),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!P.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),_l=1e12;class Mc{constructor(p){this.auth=p,this.counter=_l,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new yl(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||_l;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||_l))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(p||_l))||void 0===b||b.execute(),""})()}}class yl{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ee(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function to(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uu=Yn("rcb"),Rc=new de(3e4,6e4);class Is{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=on().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return ee(function vl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&yt(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((b,S)=>{const P=on().setTimeout(()=>{S(_e(p,"network-request-failed"))},Rc.get());on()[Uu]=()=>{on().clearTimeout(P),delete on()[Uu];const se=on().grecaptcha;if(!se||!yt(se))return void S(_e(p,"internal-error"));const Fe=se.render;se.render=(qe,ot)=>{const jt=Fe(qe,ot);return this.counter++,jt},this.hostLanguage=g,b(se)},Rn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Uu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),S(_e(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=on().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xc{load(p){return(0,c.Z)(function*(){return new Mc(p)})()}clearedOneInstance(){}}const Vu="recaptcha",Bu={theme:"light",type:"image"};class _a{constructor(p,g=Object.assign({},Bu),b){this.parameters=g,this.type=Vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new Is,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(P=>{const q=se=>{se&&(p.tokenChangeListeners.delete(q),P(se))};p.tokenChangeListeners.add(q),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=on()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ee(Vn()&&!Qi(),p.auth,"internal-error"),yield function Ds(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ue(y){return te.apply(this,arguments)}(p.auth);ee(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ju{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=wt._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function fh(y,p,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(y,p,g){const b=Pn(y),S=yield lt(b,p,(0,B.m9)(g));return new ju(S,P=>cc(b,P))})).apply(this,arguments)}function Ts(y,p,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y);yield Xa(!1,b,"phone");const S=yield lt(b.auth,p,(0,B.m9)(g));return new ju(S,P=>Yi(b,P))})).apply(this,arguments)}function Tn(y,p,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y),S=yield lt(b.auth,p,(0,B.m9)(g));return new ju(S,P=>Au(b,P))})).apply(this,arguments)}function lt(y,p,g){return kr.apply(this,arguments)}function kr(){return kr=(0,c.Z)(function*(y,p,g){var b;const S=yield g.verify();try{let P;if(ee("string"==typeof S,y,"argument-error"),ee(g.type===Vu,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const q=P.session;if("phoneNumber"in P)return ee("enroll"===q.type,y,"internal-error"),(yield function hl(y,p){return Ke(y,"POST","/v2/accounts/mfaEnrollment:start",Se(y,p))}(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===q.type,y,"internal-error");const se=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ee(se,y,"missing-multi-factor-info"),(yield function Dn(y,p){return Ke(y,"POST","/v2/accounts/mfaSignIn:start",Se(y,p))}(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function Qs(y,p){return Eo.apply(this,arguments)}(y,{phoneNumber:P.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}}),kr.apply(this,arguments)}function Lr(y,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(y,p){yield Si((0,B.m9)(y),p)})).apply(this,arguments)}let Cl=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Pn(g)}verifyPhoneNumber(g,b){return lt(this.auth,g,(0,B.m9)(b))}static credential(g,b){return wt._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?wt._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function mi(y,p){return p?yn(p):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ss extends gs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Xr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Xr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Pi(y){return nl(y.auth,new Ss(y),y.bypassAuthState)}function Nc(y){const{auth:p,user:g}=y;return ee(g,p,"internal-error"),Xd(g,new Ss(y),y.bypassAuthState)}function Ro(y){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return ee(g,p,"internal-error"),Si(g,new Ss(y),y.bypassAuthState)})).apply(this,arguments)}class ri{constructor(p,g,b,S,P=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:P,tenantId:q,error:se,type:Fe}=p;if(se)return void g.reject(se);const qe={auth:g.auth,requestUri:b,sessionId:S,tenantId:q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(qe))}catch(ot){g.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Pi;case"linkViaPopup":case"linkViaRedirect":return Ro;case"reauthViaPopup":case"reauthViaRedirect":return Nc;default:Ce(this.auth,"internal-error")}}resolve(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hu=new de(2e3,1e4);function Fr(y,p,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(y,p,g){const b=Pn(y);Te(y,p,$r);const S=mi(b,g);return new Ca(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function jn(y,p,g){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y);Te(b.auth,p,$r);const S=mi(b.auth,g);return new Ca(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function As(y,p,g){return $u.apply(this,arguments)}function $u(){return($u=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y);Te(b.auth,p,$r);const S=mi(b.auth,g);return new Ca(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Ca=(()=>{class y extends ri{constructor(g,b,S,P,q){super(g,b,P,q),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return ee(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){je(1===g.filter.length,"Popup operations only handle one event");const b=Ao();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Hu.get())};g()}}return y.currentPopupAction=null,y})();const zu="pendingRedirect",_i=new Map;class ba extends ri{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=_i.get(g.auth._key());if(!b){try{const P=(yield function Kf(y,p){return yi.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(P)}catch(S){b=()=>Promise.reject(S)}_i.set(g.auth._key(),b)}return g.bypassAuthState||_i.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function yi(){return(yi=(0,c.Z)(function*(y,p){const g=Wu(p),b=Ur(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Zr(y,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,p){return Ur(y)._set(Wu(p),"true")})).apply(this,arguments)}function ph(){_i.clear()}function Ms(y,p){_i.set(y._key(),p)}function Ur(y){return yn(y._redirectPersistence)}function Wu(y){return jr(zu,y.config.apiKey,y.name)}function Hn(y,p,g){return function Rs(y,p,g){return bl.apply(this,arguments)}(y,p,g)}function bl(){return(bl=(0,c.Z)(function*(y,p,g){const b=Pn(y);Te(y,p,$r),yield b._initializationPromise;const S=mi(b,g);return yield Zr(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ln(y,p,g){return function no(y,p,g){return ro.apply(this,arguments)}(y,p,g)}function ro(){return(ro=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y);Te(b.auth,p,$r),yield b.auth._initializationPromise;const S=mi(b.auth,g);yield Zr(S,b.auth);const P=yield _r(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function mr(y,p,g){return function Fn(y,p,g){return Ps.apply(this,arguments)}(y,p,g)}function Ps(){return(Ps=(0,c.Z)(function*(y,p,g){const b=(0,B.m9)(y);Te(b.auth,p,$r),yield b.auth._initializationPromise;const S=mi(b.auth,g);yield Xa(!1,b,p.providerId),yield Zr(S,b.auth);const P=yield _r(b);return S._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function El(y,p){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(y,p){return yield Pn(y)._initializationPromise,oo(y,p,!1)})).apply(this,arguments)}function oo(y,p){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(y,p,g=!1){const b=Pn(y),S=mi(b,p),q=yield new ba(b,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,p)),q})).apply(this,arguments)}function _r(y){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(y){const p=Ao(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ea{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Xo(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lc(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Lc(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wa(p))}saveEventToCache(p){this.cachedEventUids.add(wa(p)),this.lastProcessedEventTime=Date.now()}}function wa(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Lc({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Ia(y){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(y,p={}){return Ke(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Sn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yf=/^https?/;function Fc(){return(Fc=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ia(y);for(const g of p)try{if(ii(g))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function ii(y){const p=Kt(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===b}if(!Yf.test(g))return!1;if(Sn.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const $n=new de(3e4,6e4);function Da(){const y=on().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ir=null;const gh=new de(5e3,15e3),Oo="__/auth/iframe",Vg="emulator/auth/iframe",qr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ts(y){const p=y.config;ee(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?be(p,Vg):`https://${y.config.authDomain}/${Oo}`,b={apiKey:p.apiKey,appName:y.name,v:x.SDK_VERSION},S=wl.get(y.config.apiHost);S&&(b.eid=S);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${g}?${(0,B.xO)(b).slice(1)}`}function ns(){return ns=(0,c.Z)(function*(y){const p=yield function es(y){return Ir=Ir||function Ta(y){return new Promise((p,g)=>{var b,S,P;function q(){Da(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Da(),g(_e(y,"network-request-failed"))},timeout:$n.get()})}if(null!==(S=null===(b=on().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(P=on().gapi)||void 0===P||!P.load){const se=Yn("iframefcb");return on()[se]=()=>{gapi.load?q():g(_e(y,"network-request-failed"))},Rn(`https://apis.google.com/js/api.js?onload=${se}`).catch(Fe=>g(Fe))}q()}}).catch(p=>{throw Ir=null,p})}(y),Ir}(y),g=on().gapi;return ee(g,y,"internal-error"),p.open({where:document.body,url:ts(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qr,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(P,q){yield b.restyle({setHideOnLeave:!1});const se=_e(y,"network-request-failed"),Fe=on().setTimeout(()=>{q(se)},gh.get());function qe(){on().clearTimeout(Fe),P(b)}b.ping(qe).then(qe,()=>{q(se)})});return function(P,q){return S.apply(this,arguments)}}()))}),ns.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Q{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Be="__/auth/handler",Ye="emulator/auth/handler",gt=encodeURIComponent("fac");function dt(y,p,g,b,S,P){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,p,g,b,S,P){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:x.SDK_VERSION,eventId:S};if(p instanceof $r){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ot,jt]of Object.entries(P||{}))q[ot]=jt}if(p instanceof Ti){const ot=p.getScopes().filter(jt=>""!==jt);ot.length>0&&(q.scopes=ot.join(","))}y.tenantId&&(q.tid=y.tenantId);const se=q;for(const ot of Object.keys(se))void 0===se[ot]&&delete se[ot];const Fe=yield y._getAppCheckToken(),qe=Fe?`#${gt}=${encodeURIComponent(Fe)}`:"";return`${function tr({config:y}){return y.emulator?be(y,Ye):`https://${y.authDomain}/${Be}`}(y)}?${(0,B.xO)(se).slice(1)}${qe}`})).apply(this,arguments)}const xi="webStorageSupport",No=class lo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=oo,this._overrideRedirectResult=Ms}_openPopup(p,g,b,S){var P=this;return(0,c.Z)(function*(){var q;je(null===(q=P.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const se=yield dt(p,g,b,Kt(),S);return function ae(y,p,g,b=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Fe=Object.assign(Object.assign({},C),{width:b.toString(),height:S.toString(),top:P,left:q}),qe=(0,B.z$)().toLowerCase();g&&(se=R(qe)?"_blank":g),O(qe)&&(p=p||"http://localhost",Fe.scrollbars="yes");const ot=Object.entries(Fe).reduce((si,[Ni,Sa])=>`${si}${Ni}=${Sa},`,"");if(function ct(y=(0,B.z$)()){var p;return ut(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(qe)&&"_self"!==se)return function Ve(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",se),new Q(null);const jt=window.open(p||"",se,ot);ee(jt,y,"popup-blocked");try{jt.focus()}catch{}return new Q(jt)}(p,se,Ao())})()}_openRedirect(p,g,b,S){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(p),function pl(y){on().location.href=y}(yield dt(p,g,b,Kt(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:P}=this.eventManagers[g];return S?Promise.resolve(S):(je(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const b=yield function mh(y){return ns.apply(this,arguments)}(p),S=new Ea(p);return b.register("authEvent",P=>(ee(P?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(xi,{type:xi},S=>{var P;const q=null===(P=S?.[0])||void 0===P?void 0:P[xi];void 0!==q&&g(!!q),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ao(y){return Fc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return At()||N()||ut()}};class oi{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return We("unexpected MultiFactorSessionType")}}}class Oi extends oi{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Oi(p)}_finalizeEnroll(p,g,b){return function So(y,p){return Ke(y,"POST","/v2/accounts/mfaEnrollment:finalize",Se(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function dh(y,p){return Ke(y,"POST","/v2/accounts/mfaSignIn:finalize",Se(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rs=(()=>{class y{constructor(){}static assertion(g){return Oi._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Jf="@firebase/auth";class Hg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _h=(0,B.Pz)("authIdTokenMaxAge")||300;let Qf=null;const xs=y=>function(){var p=(0,c.Z)(function*(g){const b=g&&(yield g.getIdTokenResult()),S=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(S&&S>_h)return;const P=b?.token;Qf!==P&&(Qf=P,yield fetch(y,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function ov(y=(0,x.getApp)()){const p=(0,x._getProvider)(y,"auth");if(p.isInitialized())return p.getImmediate();const g=function Ks(y,p){const g=(0,x._getProvider)(y,"auth");if(g.isInitialized()){const S=g.getImmediate(),P=g.getOptions();if((0,B.vZ)(P,p??{}))return S;Ce(S,"already-initialized")}return g.initialize({options:p})}(y,{popupRedirectResolver:No,persistence:[eo,Gr,ga]}),b=(0,B.Pz)("authTokenSyncURL");if(b){const P=xs(b);(function bc(y,p,g){(0,B.m9)(y).beforeAuthStateChanged(p,g)})(g,P,()=>P(g.currentUser)),function cl(y,p,g,b){(0,B.m9)(y).onIdTokenChanged(p,g,b)}(g,q=>P(q))}const S=(0,B.q4)("auth");return S&&Eu(g,`http://${S}`),g}!function zg(y){(0,x._registerComponent)(new oe.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:q,authDomain:se}=b.options;ee(q&&!q.includes(":"),"invalid-api-key",{appName:b.name});const Fe={apiKey:q,authDomain:se,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hi(y)},qe=new qs(b,S,P,Fe);return function $f(y,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(yn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(qe,g),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new oe.wA("auth-internal",p=>{const g=Pn(p.getProvider("auth").getImmediate());return new Hg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(Jf,"0.23.2",function $g(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,x.registerVersion)(Jf,"0.23.2","esm2017")}("Browser")},2090:(rt,De,L)=>{L.d(De,{$s:()=>yn,BH:()=>ve,DV:()=>Pr,Dv:()=>Cr,GJ:()=>Bn,L:()=>he,LL:()=>un,P0:()=>Le,Pz:()=>_e,Sg:()=>Te,UG:()=>We,UI:()=>ui,US:()=>oe,Wj:()=>Tt,Wl:()=>$t,Yr:()=>de,ZB:()=>K,ZR:()=>Ke,aH:()=>Ce,b$:()=>Vn,cI:()=>Ut,dS:()=>or,eu:()=>Ue,g5:()=>x,gK:()=>Yt,gQ:()=>ze,h$:()=>pe,hl:()=>Me,hu:()=>B,jU:()=>je,lb:()=>En,m9:()=>jr,ne:()=>_n,p$:()=>z,pd:()=>nt,q4:()=>Re,r3:()=>an,ru:()=>Kt,tV:()=>G,uI:()=>ee,ug:()=>Di,vZ:()=>et,w1:()=>Wi,w9:()=>ir,xO:()=>mn,xb:()=>yo,z$:()=>ye,zI:()=>xe,zd:()=>Bt});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},B=function($,H){if(!$)throw x(H)},x=function($){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},ne=function($){const H=[];let O=0;for(let N=0;N<$.length;N++){let R=$.charCodeAt(N);R<128?H[O++]=R:R<2048?(H[O++]=R>>6|192,H[O++]=63&R|128):55296==(64512&R)&&N+1<$.length&&56320==(64512&$.charCodeAt(N+1))?(R=65536+((1023&R)<<10)+(1023&$.charCodeAt(++N)),H[O++]=R>>18|240,H[O++]=R>>12&63|128,H[O++]=R>>6&63|128,H[O++]=63&R|128):(H[O++]=R>>12|224,H[O++]=R>>6&63|128,H[O++]=63&R|128)}return H},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let R=0;R<$.length;R+=3){const J=$[R],re=R+1<$.length,$e=re?$[R+1]:0,ft=R+2<$.length,ut=ft?$[R+2]:0;let Qt=(15&$e)<<2|ut>>6,At=63&ut;ft||(At=64,re||(Qt=64)),N.push(O[J>>2],O[(3&J)<<4|$e>>4],O[Qt],O[At])}return N.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(ne($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let O=0,N=0;for(;O<$.length;){const R=$[O++];if(R<128)H[N++]=String.fromCharCode(R);else if(R>191&&R<224){const J=$[O++];H[N++]=String.fromCharCode((31&R)<<6|63&J)}else if(R>239&&R<365){const ft=((7&R)<<18|(63&$[O++])<<12|(63&$[O++])<<6|63&$[O++])-65536;H[N++]=String.fromCharCode(55296+(ft>>10)),H[N++]=String.fromCharCode(56320+(1023&ft))}else{const J=$[O++],re=$[O++];H[N++]=String.fromCharCode((15&R)<<12|(63&J)<<6|63&re)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const O=H?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let R=0;R<$.length;){const J=O[$.charAt(R++)],$e=R<$.length?O[$.charAt(R)]:0;++R;const ut=R<$.length?O[$.charAt(R)]:64;++R;const ct=R<$.length?O[$.charAt(R)]:64;if(++R,null==J||null==$e||null==ut||null==ct)throw new fe;N.push(J<<2|$e>>4),64!==ut&&(N.push($e<<4&240|ut>>2),64!==ct&&N.push(ut<<6&192|ct))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function($){const H=ne($);return oe.encodeByteArray(H,!0)},he=function($){return pe($).replace(/\./g,"")},G=function($){try{return oe.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function z($){return K(void 0,$)}function K($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const O in H)!H.hasOwnProperty(O)||!ke(O)||($[O]=K($[O],H[O]));return $}function ke($){return"__proto__"!==$}const Ae=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=$&&G($[1]);return H&&JSON.parse(H)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Re=$=>{var H,O;return null===(O=null===(H=Ae())||void 0===H?void 0:H.emulatorHosts)||void 0===O?void 0:O[$]},Le=$=>{const H=Re($);if(!H)return;const O=H.lastIndexOf(":");if(O<=0||O+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const N=parseInt(H.substring(O+1),10);return"["===H[0]?[H.substring(1,O-1),N]:[H.substring(0,O),N]},Ce=()=>{var $;return null===($=Ae())||void 0===$?void 0:$.config},_e=$=>{var H;return null===(H=Ae())||void 0===H?void 0:H[`_${$}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,O)=>{this.resolve=H,this.reject=O})}wrapCallback(H){return(O,N)=>{O?this.reject(O):this.resolve(N),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(O):H(O,N))}}}function Te($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=H||"demo-project",R=$.iat||0,J=$.sub||$.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:R,exp:R+3600,auth_time:R,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(re)),""].join(".")}function ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function We(){var $;const H=null===($=Ae())||void 0===$?void 0:$.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Kt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wi(){const $=ye();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function de(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise(($,H)=>{try{let O=!0;const N="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(N);R.onsuccess=()=>{R.result.close(),O||self.indexedDB.deleteDatabase(N),$(!0)},R.onupgradeneeded=()=>{O=!1},R.onerror=()=>{var J;H((null===(J=R.error)||void 0===J?void 0:J.message)||"")}}catch(O){H(O)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(H,O,N){super(O),this.code=H,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(H,O,N){this.service=H,this.serviceName=O,this.errors=N}create(H,...O){const N=O[0]||{},R=`${this.service}/${H}`,J=this.errors[H],re=J?function Xe($,H){return $.replace(_t,(O,N)=>{const R=H[N];return null!=R?String(R):`<${N}?>`})}(J,N):"Error";return new Ke(R,`${this.serviceName}: ${re} (${R}).`,N)}}const _t=/\{\$([^}]+)}/g;function Ut($){return JSON.parse($)}function $t($){return JSON.stringify($)}const en=function($){let H={},O={},N={},R="";try{const J=$.split(".");H=Ut(G(J[0])||""),O=Ut(G(J[1])||""),R=J[2],N=O.d||{},delete O.d}catch{}return{header:H,claims:O,data:N,signature:R}},ir=function($){const O=en($).claims;return!!O&&"object"==typeof O&&O.hasOwnProperty("iat")},Bn=function($){const H=en($).claims;return"object"==typeof H&&!0===H.admin};function an($,H){return Object.prototype.hasOwnProperty.call($,H)}function Pr($,H){if(Object.prototype.hasOwnProperty.call($,H))return $[H]}function yo($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function ui($,H,O){const N={};for(const R in $)Object.prototype.hasOwnProperty.call($,R)&&(N[R]=H.call(O,$[R],R,$));return N}function et($,H){if($===H)return!0;const O=Object.keys($),N=Object.keys(H);for(const R of O){if(!N.includes(R))return!1;const J=$[R],re=H[R];if(bn(J)&&bn(re)){if(!et(J,re))return!1}else if(J!==re)return!1}for(const R of N)if(!O.includes(R))return!1;return!0}function bn($){return null!==$&&"object"==typeof $}function mn($){const H=[];for(const[O,N]of Object.entries($))Array.isArray(N)?N.forEach(R=>{H.push(encodeURIComponent(O)+"="+encodeURIComponent(R))}):H.push(encodeURIComponent(O)+"="+encodeURIComponent(N));return H.length?"&"+H.join("&"):""}function Bt($){const H={};return $.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[R,J]=N.split("=");H[decodeURIComponent(R)]=decodeURIComponent(J)}}),H}function nt($){const H=$.indexOf("?");if(!H)return"";const O=$.indexOf("#",H);return $.substring(H,O>0?O:void 0)}class ze{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,O){O||(O=0);const N=this.W_;if("string"==typeof H)for(let ct=0;ct<16;ct++)N[ct]=H.charCodeAt(O)<<24|H.charCodeAt(O+1)<<16|H.charCodeAt(O+2)<<8|H.charCodeAt(O+3),O+=4;else for(let ct=0;ct<16;ct++)N[ct]=H[O]<<24|H[O+1]<<16|H[O+2]<<8|H[O+3],O+=4;for(let ct=16;ct<80;ct++){const Qt=N[ct-3]^N[ct-8]^N[ct-14]^N[ct-16];N[ct]=4294967295&(Qt<<1|Qt>>>31)}let ut,Wt,R=this.chain_[0],J=this.chain_[1],re=this.chain_[2],$e=this.chain_[3],ft=this.chain_[4];for(let ct=0;ct<80;ct++){ct<40?ct<20?(ut=$e^J&(re^$e),Wt=1518500249):(ut=J^re^$e,Wt=1859775393):ct<60?(ut=J&re|$e&(J|re),Wt=2400959708):(ut=J^re^$e,Wt=3395469782);const Qt=(R<<5|R>>>27)+ut+ft+Wt+N[ct]&4294967295;ft=$e,$e=re,re=4294967295&(J<<30|J>>>2),J=R,R=Qt}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+re&4294967295,this.chain_[3]=this.chain_[3]+$e&4294967295,this.chain_[4]=this.chain_[4]+ft&4294967295}update(H,O){if(null==H)return;void 0===O&&(O=H.length);const N=O-this.blockSize;let R=0;const J=this.buf_;let re=this.inbuf_;for(;R<O;){if(0===re)for(;R<=N;)this.compress_(H,R),R+=this.blockSize;if("string"==typeof H){for(;R<O;)if(J[re]=H.charCodeAt(R),++re,++R,re===this.blockSize){this.compress_(J),re=0;break}}else for(;R<O;)if(J[re]=H[R],++re,++R,re===this.blockSize){this.compress_(J),re=0;break}}this.inbuf_=re,this.total_+=O}digest(){const H=[];let O=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&O,O/=256;this.compress_(this.buf_);let N=0;for(let R=0;R<5;R++)for(let J=24;J>=0;J-=8)H[N]=this.chain_[R]>>J&255,++N;return H}}function _n($,H){const O=new Zn($,H);return O.subscribe.bind(O)}class Zn{constructor(H,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{H(this)}).catch(N=>{this.error(N)})}next(H){this.forEachObserver(O=>{O.next(H)})}error(H){this.forEachObserver(O=>{O.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,O,N){let R;if(void 0===H&&void 0===O&&void 0===N)throw new Error("Missing Observer.");R=function dn($,H){if("object"!=typeof $||null===$)return!1;for(const O of H)if(O in $&&"function"==typeof $[O])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:O,complete:N},void 0===R.next&&(R.next=hn),void 0===R.error&&(R.error=hn),void 0===R.complete&&(R.complete=hn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),J}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,H)}sendOne(H,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{O(this.observers[H])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}const Cr=function($,H,O,N){let R;if(N<H?R="at least "+H:N>O&&(R=0===O?"none":"no more than "+O),R)throw new Error($+" failed: Was called with "+N+(1===N?" argument.":" arguments.")+" Expects "+R+".")};function Yt($,H){return`${$} failed: ${H} argument `}function Tt($,H,O,N){if((!N||O)&&"function"!=typeof O)throw new Error(Yt($,H)+"must be a valid function.")}function En($,H,O,N){if((!N||O)&&("object"!=typeof O||null===O))throw new Error(Yt($,H)+"must be a valid context object.")}const or=function($){const H=[];let O=0;for(let N=0;N<$.length;N++){let R=$.charCodeAt(N);if(R>=55296&&R<=56319){const J=R-55296;N++,B(N<$.length,"Surrogate pair missing trail surrogate."),R=65536+(J<<10)+($.charCodeAt(N)-56320)}R<128?H[O++]=R:R<2048?(H[O++]=R>>6|192,H[O++]=63&R|128):R<65536?(H[O++]=R>>12|224,H[O++]=R>>6&63|128,H[O++]=63&R|128):(H[O++]=R>>18|240,H[O++]=R>>12&63|128,H[O++]=R>>6&63|128,H[O++]=63&R|128)}return H},Di=function($){let H=0;for(let O=0;O<$.length;O++){const N=$.charCodeAt(O);N<128?H++:N<2048?H+=2:N>=55296&&N<=56319?(H+=4,O++):H+=3}return H},Mn=1e3,Nt=2,wn=144e5,Rt=.5;function yn($,H=Mn,O=Nt){const N=H*Math.pow(O,$),R=Math.round(Rt*N*(Math.random()-.5)*2);return Math.min(wn,N+R)}function jr($){return $&&$._delegate?$._delegate:$}},8866:(rt,De,L)=>{var c=L(2223);let B=null;function x(){return B}class ie{}const oe=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(he)},providedIn:"platform"}),n})();const pe=new c.OlP("Location Initialized");let he=(()=>{class n extends fe{constructor(){super(),this._doc=(0,c.f3M)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,a){this._history.pushState(e,i,a)}replaceState(e,i,a){this._history.replaceState(e,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function G(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function z(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function K(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ze)},providedIn:"root"}),n})();const Ee=new c.OlP("appBaseHref");let Ze=(()=>{class n extends ke{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+K(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,d){const f=this.prepareExternalUrl(a+K(d));this._platformLocation.pushState(e,i,f)}replaceState(e,i,a,d){const f=this.prepareExternalUrl(a+K(d));this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fe),c.LFG(Ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends ke{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=G(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,d){let f=this.prepareExternalUrl(a+K(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,i,f)}replaceState(e,i,a,d){let f=this.prepareExternalUrl(a+K(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fe),c.LFG(Ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),le=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(z(Le(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+K(i))}normalize(e){return n.stripTrailingSlash(function Re(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Le(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+K(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+K(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.normalizeQueryParams=K,n.joinWithSlash=G,n.stripTrailingSlash=z,n.\u0275fac=function(e){return new(e||n)(c.LFG(ke))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new le((0,c.LFG)(ke))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}function hs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,d]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}const fs=/\s+/,Cu=[];let vo=(()=>{class n{constructor(e,i,a,d){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=a,this._renderer=d,this.initialClasses=Cu,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(fs):Cu}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(fs):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const a=this.stateMap.get(e);void 0!==a?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],a=e[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(fs).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class bu{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qs=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,d,f)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new bu(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===d?void 0:d);else if(null!==d){const _=i.get(d);i.move(_,f),Pn(_,a)}});for(let a=0,d=i.length;a<d;a++){const _=i.get(a).context;_.index=a,_.count=d,_.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Pn(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Pn(n,t){n.context.$implicit=t.item}let Ks=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new $f,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Eu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Eu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $f{constructor(){this.$implicit=null,this.ngIf=null}}function Eu(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Ki=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Xs="browser";function wo(n){return"server"===n}let Ti=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new On((0,c.LFG)(oe),window)}),n})();class On{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const d=a.shadowRoot;if(d){const f=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(f)return f}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(i-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ic(this.window.history)||ic(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ic(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ya{}class ca extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cc extends ca{static makeCurrent(){!function ne(n){B||(B=n)}(new Cc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function oh(){return pi=pi||document.querySelector("base"),pi?pi.getAttribute("href"):null}();return null==e?null:function bc(n){cl=cl||document.createElement("a"),cl.setAttribute("href",n);const t=cl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hs(document.cookie,t)}}let cl,pi=null,Ec=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ou=new c.OlP("EventManagerPlugins");let pt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(d=>d.supports(e)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ou),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ul{constructor(t){this._doc=t}}const dl="ng-app-id";let Mi=(()=>{class n{constructor(e,i,a,d={}){this.doc=e,this.appId=i,this.nonce=a,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wo(d),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(a=>a.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${dl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(e,i){const a=this.styleRef;if(a.has(e)){const d=a.get(e);return d.usage+=i,d.usage}return a.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const a=this.styleNodesInDOM,d=a?.get(i);if(d?.parentNode===e)return a.delete(i),d.removeAttribute(dl),d;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(dl,this.appId),f}}addStyleToHost(e,i){const a=this.getStyleElement(e,i);e.appendChild(a);const d=this.styleRef,f=d.get(i)?.elements;f?f.push(a):d.set(i,{elements:[a],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},da=/%COMP%/g,sh=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function we(n,t){return t.map(e=>e.replace(da,n))}let Ot=(()=>{class n{constructor(e,i,a,d,f,_,I,A=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestory=d,this.doc=f,this.platformId=_,this.ngZone=I,this.nonce=A,this.rendererByCompId=new Map,this.platformIsServer=wo(_),this.defaultRenderer=new fa(e,f,I,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const a=this.getOrCreateRenderer(e,i);return a instanceof pa?a.applyToHost(e):a instanceof Gr&&a.applyStyles(),a}getOrCreateRenderer(e,i){const a=this.rendererByCompId;let d=a.get(i.id);if(!d){const f=this.doc,_=this.ngZone,I=this.eventManager,A=this.sharedStylesHost,k=this.removeStylesOnCompDestory,j=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:d=new pa(I,A,i,this.appId,k,f,_,j);break;case c.ifc.ShadowDom:return new Es(I,A,e,i,f,_,this.nonce,j);default:d=new Gr(I,A,i,k,f,_,j)}d.onDestroy=()=>a.delete(i.id),a.set(i.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pt),c.LFG(Mi),c.LFG(c.AFp),c.LFG(sh),c.LFG(oe),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fa{constructor(t,e,i,a){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ua[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(fl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(fl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new c.vHH(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const d=ua[a];d?t.setAttributeNS(d,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=ua[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,a&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=x().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function fl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Es extends fa{constructor(t,e,i,a,d,f,_,I){super(t,d,f,I),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const A=we(a.id,a.styles);for(const k of A){const j=document.createElement("style");_&&j.setAttribute("nonce",_),j.textContent=k,this.shadowRoot.appendChild(j)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gr extends fa{constructor(t,e,i,a,d,f,_,I){super(t,d,f,_),this.sharedStylesHost=e,this.removeStylesOnCompDestory=a,this.rendererUsageCount=0,this.styles=I?we(I,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pa extends Gr{constructor(t,e,i,a,d,f,_,I){const A=a+"-"+i.id;super(t,e,i,d,f,_,I,A),this.contentAttr=function Ic(n){return"_ngcontent-%COMP%".replace(da,n)}(A),this.hostAttr=function ha(n){return"_nghost-%COMP%".replace(da,n)}(A)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let ga=(()=>{class n extends ul{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ah=["alt","control","meta","shift"],Ug={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ao={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Nr=(()=>{class n extends ul{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const d=n.parseEventName(i),f=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,d.domEventName,f))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(i.pop());let f="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),f="code."),ah.forEach(A=>{const k=i.indexOf(A);k>-1&&(i.splice(k,1),f+=A+".")}),f+=d,0!=i.length||0===d.length)return null;const I={};return I.domEventName=a,I.fullKey=f,I}static matchEventFullKeyCode(e,i){let a=Ug[e.key]||e.key,d="";return i.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ah.forEach(f=>{f!==a&&(0,Ao[f])(e)&&(d+=f+".")}),d+=a,d===i)}static eventCallback(e,i,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>i(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Xs},{provide:c.g9A,useValue:function Dc(){Cc.makeCurrent()},multi:!0},{provide:oe,useFactory:function Tc(){return(0,c.RDi)(document),document},deps:[]}]),kn=new c.OlP(""),gl=[{provide:c.rWj,useClass:class xu{addToWindow(t){c.dqk.getAngularTestability=(i,a=!0)=>{const d=t.findTestabilityInTree(i,a);if(null==d)throw new c.vHH(5103,!1);return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,f=!1;const _=function(I){f=f||I,d--,0==d&&i(f)};a.forEach(function(I){I.whenStable(_)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Xi=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ku(){return new c.qLn},deps:[]},{provide:Ou,useClass:ga,multi:!0,deps:[oe,c.R0b,c.Lbi]},{provide:Ou,useClass:Nr,multi:!0,deps:[oe]},Ot,Mi,pt,{provide:c.FYo,useExisting:Ot},{provide:Ya,useClass:Ec,deps:[]},[]];let ml=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(kn,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Xi,...gl],imports:[Ki,c.hGG]}),n})(),Ac=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ws(){return new Ac((0,c.LFG)(oe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var gr=L(9751),Ts=L(576),Tn=L(8996),Ri=L(7669);function lt(...n){const t=(0,Ri.yG)(n);return(0,Tn.D)(n,t)}var kr=L(7579);class Lr extends kr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:ya}=Array,{getPrototypeOf:Cl,prototype:mi,keys:Ss}=Object;function Pi(n){if(1===n.length){const t=n[0];if(ya(t))return{args:t,keys:null};if(function Nc(n){return n&&"object"==typeof n&&Cl(n)===mi}(t)){const e=Ss(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ro=L(4671),Et=L(4004);const{isArray:ri}=Array;function Fr(n){return(0,Et.U)(t=>function Hu(n,t){return ri(t)?n(...t):n(t)}(n,t))}function Po(n,t){return n.reduce((e,i,a)=>(e[i]=t[a],e),{})}var jn=L(5403),va=L(9672);function As(...n){const t=(0,Ri.yG)(n),e=(0,Ri.jO)(n),{args:i,keys:a}=Pi(n);if(0===i.length)return(0,Tn.D)([],t);const d=new gr.y(function $u(n,t,e=Ro.y){return i=>{Ca(t,()=>{const{length:a}=n,d=new Array(a);let f=a,_=a;for(let I=0;I<a;I++)Ca(t,()=>{const A=(0,Tn.D)(n[I],t);let k=!1;A.subscribe((0,jn.x)(i,j=>{d[I]=j,k||(k=!0,_--),_||i.next(e(d.slice()))},()=>{--f||i.complete()}))},i)},i)}}(i,t,a?f=>Po(a,f):Ro.y));return e?d.pipe(Fr(e)):d}function Ca(n,t,e){n?(0,va.f)(e,n,t):t()}const _i=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ba=L(8189);function yi(...n){return function Kf(){return(0,ba.J)(1)}()((0,Tn.D)(n,(0,Ri.yG)(n)))}var Zr=L(8421);function kc(n){return new gr.y(t=>{(0,Zr.Xf)(n()).subscribe(t)})}var ph=L(9635);function Ms(n,t){const e=(0,Ts.m)(n)?n:()=>n,i=a=>a.error(e());return new gr.y(t?a=>t.schedule(i,0,a):i)}var Ur=L(515),Wu=L(727),Hn=L(4482);function Rs(){return(0,Hn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,jn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class bl extends gr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wu.w0;const e=this.getSubject();t.add(this.source.subscribe((0,jn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wu.w0.EMPTY)}return t}refCount(){return Rs()(this)}}function Ln(n,t){return(0,Hn.e)((e,i)=>{let a=null,d=0,f=!1;const _=()=>f&&!a&&i.complete();e.subscribe((0,jn.x)(i,I=>{a?.unsubscribe();let A=0;const k=d++;(0,Zr.Xf)(n(I,k)).subscribe(a=(0,jn.x)(i,j=>i.next(t?t(I,j,k,A++):j),()=>{a=null,_()}))},()=>{f=!0,_()}))})}function no(n){return n<=0?()=>Ur.E:(0,Hn.e)((t,e)=>{let i=0;t.subscribe((0,jn.x)(e,a=>{++i<=n&&(e.next(a),n<=i&&e.complete())}))})}function ro(...n){const t=(0,Ri.yG)(n);return(0,Hn.e)((e,i)=>{(t?yi(n,e,t):yi(n,e)).subscribe(i)})}function mr(n,t){return(0,Hn.e)((e,i)=>{let a=0;e.subscribe((0,jn.x)(i,d=>n.call(t,d,a++)&&i.next(d)))})}var Fn=L(5577);function Ps(n){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,a=>{i=!0,e.next(a)},()=>{i||e.next(n),e.complete()}))})}function El(n=io){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(n())))})}function io(){return new _i}function oo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mr((a,d)=>n(a,d,i)):Ro.y,no(1),e?Ps(t):El(()=>new _i))}function so(n,t){return(0,Ts.m)(t)?(0,Fn.z)(n,t,1):(0,Fn.z)(n,1)}var _r=L(8505);function xo(n){return(0,Hn.e)((t,e)=>{let d,i=null,a=!1;i=t.subscribe((0,jn.x)(e,void 0,void 0,f=>{d=(0,Zr.Xf)(n(f,xo(n)(t))),i?(i.unsubscribe(),i=null,d.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,d.subscribe(e))})}function Ea(n,t){return(0,Hn.e)(function Gu(n,t,e,i,a){return(d,f)=>{let _=e,I=t,A=0;d.subscribe((0,jn.x)(f,k=>{const j=A++;I=_?n(I,k,j):(_=!0,k),i&&f.next(I)},a&&(()=>{_&&f.next(I),f.complete()})))}}(n,t,arguments.length>=2,!0))}function wa(n){return n<=0?()=>Ur.E:(0,Hn.e)((t,e)=>{let i=[];t.subscribe((0,jn.x)(e,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function Ia(n){return(0,Hn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const It="primary",Sn=Symbol("RouteTitle");class Yf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ao(n){return new Yf(n)}function Fc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let d=0;d<i.length;d++){const f=i[d],_=n[d];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function $n(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!Da(n[a],t[a]))return!1;return!0}function Da(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,d)=>i[d]===a)}return n===t}function Ta(n){return n.length>0?n[n.length-1]:null}function Ir(n){return function Oc(n){return!!n&&(n instanceof gr.y||(0,Ts.m)(n.lift)&&(0,Ts.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):lt(n)}const es={exact:function qr(n,t,e){if(!W(n.segments,t.segments)||!ns(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qr(n.children[i],t.children[i],e))return!1;return!0},subset:ts},gh={exact:function Vg(n,t){return $n(n,t)},subset:function wl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Da(n[e],t[e]))},ignored:()=>!0};function Oo(n,t,e){return es[e.paths](n.root,t.root,e.matrixParams)&&gh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ts(n,t,e){return mh(n,t,t.segments,e)}function mh(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!W(a,e)||t.hasChildren()||!ns(a,e,i))}if(n.segments.length===e.length){if(!W(n.segments,e)||!ns(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!ts(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(W(n.segments,a)&&ns(n.segments,a,i)&&n.children[It])&&mh(n.children[It],t,d,i)}}function ns(n,t,e){return t.every((i,a)=>gh[e](n[a].parameters,i.parameters))}class C{constructor(t=new w([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ao(this.queryParams)),this._queryParamMap}toString(){return Be.serialize(this)}}class w{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ye(this)}}class T{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ao(this.parameters)),this._parameterMap}toString(){return oi(this)}}function W(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Ve},providedIn:"root"}),n})();class Ve{parse(t){const e=new zg(t);return new C(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${gt(t.root,!0)}`,i=function rs(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${lr(e)}=${lr(a)}`).join("&"):`${lr(e)}=${lr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function tr(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Be=new Ve;function Ye(n){return n.segments.map(t=>oi(t)).join("/")}function gt(n,t){if(!n.hasChildren())return Ye(n);if(t){const e=n.children[It]?gt(n.children[It],!1):"",i=[];return Object.entries(n.children).forEach(([a,d])=>{a!==It&&i.push(`${a}:${gt(d,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Q(n,t){let e=[];return Object.entries(n.children).forEach(([i,a])=>{i===It&&(e=e.concat(t(a,i)))}),Object.entries(n.children).forEach(([i,a])=>{i!==It&&(e=e.concat(t(a,i)))}),e}(n,(i,a)=>a===It?[gt(n.children[It],!1)]:[`${a}:${gt(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${Ye(n)}/${e[0]}`:`${Ye(n)}/(${e.join("//")})`}}function dt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(n){return dt(n).replace(/%3B/gi,";")}function xi(n){return dt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lo(n){return decodeURIComponent(n)}function No(n){return lo(n.replace(/\+/g,"%20"))}function oi(n){return`${xi(n.path)}${function Oi(n){return Object.keys(n).map(t=>`;${xi(t)}=${xi(n[t])}`).join("")}(n.parameters)}`}const Zu=/^[^\/()?;#]+/;function Uc(n){const t=n.match(Zu);return t?t[0]:""}const Bg=/^[^\/()?;=#]+/,Jf=/^[^=?&#]+/,Hg=/^[^&#]+/;class zg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[It]=new w(t,e)),i}parseSegment(){const t=Uc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new T(lo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Vc(n){const t=n.match(Bg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Uc(this.remaining);a&&(i=a,this.capture(i))}t[lo(e)]=lo(i)}parseQueryParam(t){const e=function jg(n){const t=n.match(Jf);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const f=function $g(n){const t=n.match(Hg);return t?t[0]:""}(this.remaining);f&&(i=f,this.capture(i))}const a=No(e),d=No(i);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Uc(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let d;i.indexOf(":")>-1?(d=i.slice(0,i.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=It);const f=this.parseChildren();e[d]=1===Object.keys(f).length?f[It]:new w([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function Bc(n){return n.segments.length>0?new w([],{[It]:n}):n}function _h(n){const t={};for(const i of Object.keys(n.children)){const d=_h(n.children[i]);if(i===It&&0===d.segments.length&&d.hasChildren())for(const[f,_]of Object.entries(d.children))t[f]=_;else(d.segments.length>0||d.hasChildren())&&(t[i]=d)}return function Qf(n){if(1===n.numberOfChildren&&n.children[It]){const t=n.children[It];return new w(n.segments.concat(t.segments),t.children)}return n}(new w(n.segments,t))}function xs(n){return n instanceof C}function y(n){let t;const a=Bc(function e(d){const f={};for(const I of d.children){const A=e(I);f[I.outlet]=A}const _=new w(d.url,f);return d===n&&(t=_),_}(n.root));return t??a}function p(n,t,e,i){let a=n;for(;a.parent;)a=a.parent;if(0===t.length)return S(a,a,a,e,i);const d=function se(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new q(!0,0,n);let t=0,e=!1;const i=n.reduce((a,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const _={};return Object.entries(d.outlets).forEach(([I,A])=>{_[I]="string"==typeof A?A.split("/"):A}),[...a,{outlets:_}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===f?(d.split("/").forEach((_,I)=>{0==I&&"."===_||(0==I&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,d]},[]);return new q(e,t,i)}(t);if(d.toRoot())return S(a,a,new w([],{}),e,i);const f=function qe(n,t,e){if(n.isAbsolute)return new Fe(t,!0,0);if(!e)return new Fe(t,!1,NaN);if(null===e.parent)return new Fe(e,!0,0);const i=g(n.commands[0])?0:1;return function ot(n,t,e){let i=n,a=t,d=e;for(;d>a;){if(d-=a,i=i.parent,!i)throw new c.vHH(4005,!1);a=i.segments.length}return new Fe(i,!1,a-d)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(d,a,n),_=f.processChildren?Ni(f.segmentGroup,f.index,d.commands):si(f.segmentGroup,f.index,d.commands);return S(a,f.segmentGroup,_,e,i)}function g(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function b(n){return"object"==typeof n&&null!=n&&n.outlets}function S(n,t,e,i,a){let f,d={};i&&Object.entries(i).forEach(([I,A])=>{d[I]=Array.isArray(A)?A.map(k=>`${k}`):`${A}`}),f=n===t?e:P(n,t,e);const _=Bc(_h(f));return new C(_,d,a)}function P(n,t,e){const i={};return Object.entries(n.children).forEach(([a,d])=>{i[a]=d===t?e:P(d,t,e)}),new w(n.segments,i)}class q{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&g(i[0]))throw new c.vHH(4003,!1);const a=i.find(b);if(a&&a!==Ta(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fe{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function si(n,t,e){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return Ni(n,t,e);const i=function Sa(n,t,e){let i=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return d;const f=n.segments[a],_=e[i];if(b(_))break;const I=`${_}`,A=i<e.length-1?e[i+1]:null;if(a>0&&void 0===I)break;if(I&&A&&"object"==typeof A&&void 0===A.outlets){if(!Yu(I,A,f))return d;i+=2}else{if(!Yu(I,{},f))return d;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const d=new w(n.segments.slice(0,i.pathIndex),{});return d.children[It]=new w(n.segments.slice(i.pathIndex),n.children),Ni(d,0,a)}return i.match&&0===a.length?new w(n.segments,{}):i.match&&!n.hasChildren()?Il(n,t,e):i.match?Ni(n,0,a):Il(n,t,e)}function Ni(n,t,e){if(0===e.length)return new w(n.segments,{});{const i=function jt(n){return b(n[0])?n[0].outlets:{[It]:n}}(e),a={};if(!i[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const d=Ni(n.children[It],t,e);return new w(n.segments,d.children)}return Object.entries(i).forEach(([d,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(a[d]=si(n.children[d],t,f))}),Object.entries(n.children).forEach(([d,f])=>{void 0===i[d]&&(a[d]=f)}),new w(n.segments,a)}}function Il(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(b(d)){const I=qu(d.outlets);return new w(i,I)}if(0===a&&g(e[0])){i.push(new T(n.segments[t].path,Ku(e[0]))),a++;continue}const f=b(d)?d.outlets[It]:`${d}`,_=a<e.length-1?e[a+1]:null;f&&_&&g(_)?(i.push(new T(f,Ku(_))),a+=2):(i.push(new T(f,{})),a++)}return new w(i,{})}function qu(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Il(new w([],{}),0,i))}),t}function Ku(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Yu(n,t,e){return n==e.path&&$n(t,e.parameters)}const ki="imperative";class Li{constructor(t,e){this.id=t,this.url=e}}class Aa extends Li{constructor(t,e,i="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fi extends Li{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ai extends Li{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jc extends Li{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=16}}class Hc extends Li{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wg extends Li{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sv extends Li{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gg extends Li{constructor(t,e,i,a,d){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ew extends Li{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ww extends Li{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class av{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tw{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zg{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class li{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ma,this.attachRef=null}}let Ma=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new li,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Yg(t,this._root).map(e=>e.value)}}function Xf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xf(n,e);if(i)return i}return null}function Yg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Yg(n,e);if(i.length)return i.unshift(t),i}return[]}class Os{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ju(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Jg extends Kg{constructor(t,e){super(t),this.snapshot=e,$c(this,t)}toString(){return this.snapshot.toString()}}function cv(n,t){const e=function uv(n,t){const f=new Qu([],{},{},"",{},It,t,null,{});return new hv("",new Os(f,[]))}(0,t),i=new Lr([new T("",{})]),a=new Lr({}),d=new Lr({}),f=new Lr({}),_=new Lr(""),I=new Ra(i,a,f,_,d,It,t,e.root);return I.snapshot=e.root,new Jg(new Os(I,[]),e)}class Ra{constructor(t,e,i,a,d,f,_,I){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=d,this.outlet=f,this.component=_,this._futureSnapshot=I,this.title=this.dataSubject?.pipe((0,Et.U)(A=>A[Sn]))??lt(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(t=>ao(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(t=>ao(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dv(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],d=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(d.component)break;i--}}return function Qg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Qu{get title(){return this.data?.[Sn]}constructor(t,e,i,a,d,f,_,I,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=f,this.component=_,this.routeConfig=I,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ao(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ao(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hv extends Kg{constructor(t,e){super(e),this.url=t,$c(this,e)}toString(){return fv(this._root)}}function $c(n,t){t.value._routerState=n,t.children.forEach(e=>$c(n,e))}function fv(n){const t=n.children.length>0?` { ${n.children.map(fv).join(", ")} } `:"";return`${n.value}${t}`}function Xg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$n(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),$n(t.params,e.params)||n.paramsSubject.next(e.params),function ii(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$n(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),$n(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yh(n,t){const e=$n(n.params,t.params)&&function F(n,t){return W(n,t)&&n.every((e,i)=>$n(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||yh(n.parent,t.parent))}let Xu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ma),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Pa,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:a}=e.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const a=this.location,f=e.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,I=new pv(e,_,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:I,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class pv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ra?this.route:t===Ma?this.childContexts:this.parent.get(t,e)}}const Pa=new c.OlP("");let vh=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,a=As([i.queryParams,i.params,i.data]).pipe(Ln(([d,f,_],I)=>(_={...d,...f,..._},0===I?lt(_):Promise.resolve(_)))).subscribe(d=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const f=(0,c.qFp)(i.component);if(f)for(const{templateName:_}of f.inputs)e.activatedComponentRef.setInput(_,d[_]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function zc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function ep(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return zc(n,i,a);return zc(n,i)})}(n,t,e);return new Os(i,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const f=d.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(_=>zc(n,_)),f}}const i=function Sw(n){return new Ra(new Lr(n.url),new Lr(n.params),new Lr(n.queryParams),new Lr(n.fragment),new Lr(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>zc(n,d));return new Os(i,a)}}const em="ngNavigationCancelingError";function mv(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=xs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=_v(!1,0,t);return a.url=e,a.navigationBehaviorOptions=i,a}function _v(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[em]=!0,i.cancellationCode=t,e&&(i.url=e),i}function yv(n){return vv(n)&&xs(n.url)}function vv(n){return n&&n[em]}let tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[Xu],encapsulation:2}),n})();function tp(n){const t=n.children&&n.children.map(tp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=tm),e}function is(n){return n.outlet||It}function Dl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class wv{constructor(t,e,i,a,d){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=d}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Xg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=Ju(e);t.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,a[f],i),delete a[f]}),Object.values(a).forEach(d=>{this.deactivateRouteAndItsChildren(d,i)})}deactivateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const f=i.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,i);else d&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Ju(t);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],a);if(i&&i.outlet){const f=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:_})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Ju(t);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const a=Ju(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],i),this.forwardEvent(new Zg(d.value.snapshot))}),t.children.length&&this.forwardEvent(new Tw(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(Xg(a),a===d)if(a.component){const f=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const f=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),Xg(_.route.value),this.activateChildRoutes(t,null,f.children)}else{const _=Dl(a.snapshot);f.attachRef=null,f.route=a,f.injector=_,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,i)}}class im{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ed{constructor(t,e){this.component=t,this.route=e}}function Iv(n,t,e){const i=n._root;return td(i,t?t._root:null,e,[i.value])}function Ns(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function td(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ju(t);return n.children.forEach(f=>{(function om(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const I=function rp(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!W(n.url,t.url);case"pathParamsOrQueryParamsChange":return!W(n.url,t.url)||!$n(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(n,t)||!$n(n.queryParams,t.queryParams);default:return!yh(n,t)}}(f,d,d.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new im(i)):(d.data=f.data,d._resolvedData=f._resolvedData),td(n,t,d.component?_?_.children:null:e,i,a),I&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new ed(_.outlet.component,f))}else f&&nd(t,_,a),a.canActivateChecks.push(new im(i)),td(n,null,d.component?_?_.children:null:e,i,a)})(f,d[f.value.outlet],e,i.concat([f.value]),a),delete d[f.value.outlet]}),Object.entries(d).forEach(([f,_])=>nd(_,e.getContext(f),a)),a}function nd(n,t,e){const i=Ju(n),a=n.value;Object.entries(i).forEach(([d,f])=>{nd(f,a.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new ed(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Gc(n){return"function"==typeof n}function bh(n){return n instanceof _i||"EmptyError"===n?.name}const rd=Symbol("INITIAL_VALUE");function os(){return Ln(n=>As(n.map(t=>t.pipe(no(1),ro(rd)))).pipe((0,Et.U)(t=>{for(const e of t)if(!0!==e){if(e===rd)return rd;if(!1===e||e instanceof C)return e}return!0}),mr(t=>t!==rd),no(1)))}function lm(n){return(0,ph.z)((0,_r.b)(t=>{if(xs(t))throw mv(0,t)}),(0,Et.U)(t=>!0===t))}class wh{constructor(t){this.segmentGroup=t||null}}class cm{constructor(t){this.urlTree=t}}function id(n){return Ms(new wh(n))}function Av(n){return Ms(new cm(n))}class jw{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return lt(i);if(a.numberOfChildren>1||!a.children[It])return Ms(new c.vHH(4e3,!1));a=a.children[It]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,a){const d=this.createSegmentGroup(t,e.root,i,a);return new C(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([a,d])=>{if("string"==typeof d&&d.startsWith(":")){const _=d.substring(1);i[a]=e[_]}else i[a]=d}),i}createSegmentGroup(t,e,i,a){const d=this.createSegments(t,e.segments,i,a);let f={};return Object.entries(e.children).forEach(([_,I])=>{f[_]=this.createSegmentGroup(t,I,i,a)}),new w(d,f)}createSegments(t,e,i,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new c.vHH(4001,!1);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}const ks={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ih(n,t,e,i,a){const d=um(n,t,e);return d.matched?(i=function nm(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Sv(n,t,e,i){const a=t.canMatch;return a&&0!==a.length?lt(a.map(f=>{const _=Ns(f,n);return Ir(function Ow(n){return n&&Gc(n.canMatch)}(_)?_.canMatch(t,e):n.runInContext(()=>_(t,e)))})).pipe(os(),lm()):lt(!0)}(i,t,e).pipe((0,Et.U)(f=>!0===f?d:{...ks}))):lt(d)}function um(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ks}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Fc)(e,n,t);if(!a)return{...ks};const d={};Object.entries(a.posParams??{}).forEach(([_,I])=>{d[_]=I.path});const f=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function Hw(n,t,e,i){return e.length>0&&function lS(n,t,e){return e.some(i=>Dh(n,t,i)&&is(i)!==It)}(n,e,i)?{segmentGroup:new w(t,aS(i,new w(e,n.children))),slicedSegments:[]}:0===e.length&&function cS(n,t,e){return e.some(i=>Dh(n,t,i))}(n,e,i)?{segmentGroup:new w(n.segments,sS(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new w(n.segments,n.children),slicedSegments:e}}function sS(n,t,e,i,a){const d={};for(const f of i)if(Dh(n,e,f)&&!a[is(f)]){const _=new w([],{});d[is(f)]=_}return{...a,...d}}function aS(n,t){const e={};e[It]=t;for(const i of n)if(""===i.path&&is(i)!==It){const a=new w([],{});e[is(i)]=a}return e}function Dh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Gw{constructor(t,e,i,a,d,f,_){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=a,this.urlTree=d,this.paramsInheritanceStrategy=f,this.urlSerializer=_,this.allowRedirects=!0,this.applyRedirects=new jw(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=Hw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,It).pipe(xo(e=>{if(e instanceof cm)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof wh?this.noMatchError(e):e}),(0,Et.U)(e=>{const i=new Qu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),a=new Os(i,e),d=new hv("",a),f=function ov(n,t,e=null,i=null){return p(y(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(d._root),{state:d,tree:f}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,It).pipe(xo(i=>{throw i instanceof wh?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=dv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,a,!0)}processChildren(t,e,i){const a=[];for(const d of Object.keys(i.children))"primary"===d?a.unshift(d):a.push(d);return(0,Tn.D)(a).pipe(so(d=>{const f=i.children[d],_=function rS(n,t){const e=n.filter(i=>is(i)===t);return e.push(...n.filter(i=>is(i)!==t)),e}(e,d);return this.processSegmentGroup(t,_,f,d)}),Ea((d,f)=>(d.push(...f),d)),Ps(null),function Lc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mr((a,d)=>n(a,d,i)):Ro.y,wa(1),e?Ps(t):El(()=>new _i))}(),(0,Fn.z)(d=>{if(null===d)return id(i);const f=od(d);return function dm(n){n.sort((t,e)=>t.value.outlet===It?-1:e.value.outlet===It?1:t.value.outlet.localeCompare(e.value.outlet))}(f),lt(f)}))}processSegment(t,e,i,a,d,f){return(0,Tn.D)(e).pipe(so(_=>this.processSegmentAgainstRoute(_._injector??t,e,_,i,a,d,f).pipe(xo(I=>{if(I instanceof wh)return lt(null);throw I}))),oo(_=>!!_),xo(_=>{if(bh(_))return function zw(n,t,e){return 0===t.length&&!n.children[e]}(i,a,d)?lt([]):id(i);throw _}))}processSegmentAgainstRoute(t,e,i,a,d,f,_){return function $w(n,t,e,i){return!!(is(n)===i||i!==It&&Dh(t,e,n))&&("**"===n.path||um(t,n,e).matched)}(i,a,d,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,a,i,d,f,_):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,a,e,i,d,f):id(a):id(a)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,d,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const d=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Av(d):this.applyRedirects.lineralizeSegments(i,d).pipe((0,Fn.z)(f=>{const _=new w(f,{});return this.processSegment(t,e,_,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,f){const{matched:_,consumedSegments:I,remainingSegments:A,positionalParamSegments:k}=um(e,a,d);if(!_)return id(e);const j=this.applyRedirects.applyRedirectCommands(I,a.redirectTo,k);return a.redirectTo.startsWith("/")?Av(j):this.applyRedirects.lineralizeSegments(a,j).pipe((0,Fn.z)(Y=>this.processSegment(t,i,e,Y.concat(A),f,!1)))}matchSegmentAgainstRoute(t,e,i,a,d,f){let _;if("**"===i.path){const I=a.length>0?Ta(a).parameters:{};_=lt({snapshot:new Qu(a,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hm(i),is(i),i.component??i._loadedComponent??null,i,fm(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else _=Ih(e,i,a,t).pipe((0,Et.U)(({matched:I,consumedSegments:A,remainingSegments:k,parameters:j})=>I?{snapshot:new Qu(A,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hm(i),is(i),i.component??i._loadedComponent??null,i,fm(i)),consumedSegments:A,remainingSegments:k}:null));return _.pipe(Ln(I=>null===I?id(e):this.getChildConfig(t=i._injector??t,i,a).pipe(Ln(({routes:A})=>{const k=i._loadedInjector??t,{snapshot:j,consumedSegments:Y,remainingSegments:me}=I,{segmentGroup:Oe,slicedSegments:Je}=Hw(e,Y,me,A);if(0===Je.length&&Oe.hasChildren())return this.processChildren(k,A,Oe).pipe((0,Et.U)(at=>null===at?null:[new Os(j,at)]));if(0===A.length&&0===Je.length)return lt([new Os(j,[])]);const st=is(i)===d;return this.processSegment(k,A,Oe,Je,st?It:d,!0).pipe((0,Et.U)(at=>[new Os(j,at)]))}))))}getChildConfig(t,e,i){return e.children?lt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?lt({routes:e._loadedRoutes,injector:e._loadedInjector}):function am(n,t,e,i){const a=t.canLoad;return void 0===a||0===a.length?lt(!0):lt(a.map(f=>{const _=Ns(f,n);return Ir(function Rw(n){return n&&Gc(n.canLoad)}(_)?_.canLoad(t,e):n.runInContext(()=>_(t,e)))})).pipe(os(),lm())}(t,e,i).pipe((0,Fn.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,_r.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function Bw(n){return Ms(_v(!1,3))}())):lt({routes:[],injector:t})}}function xa(n){const t=n.value.routeConfig;return t&&""===t.path}function od(n){const t=[],e=new Set;for(const i of n){if(!xa(i)){t.push(i);continue}const a=t.find(d=>i.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=od(i.children);t.push(new Os(i.value,a))}return t.filter(i=>!e.has(i))}function hm(n){return n.data||{}}function fm(n){return n.resolve||{}}function qw(n){return"string"==typeof n.title||null===n.title}function op(n){return Ln(t=>{const e=n(t);return e?(0,Tn.D)(e).pipe((0,Et.U)(()=>t)):lt(t)})}const sd=new c.OlP("ROUTES");let mm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ir(e.loadComponent()).pipe((0,Et.U)(Mv),(0,_r.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),Ia(()=>{this.componentLoaders.delete(e)})),a=new bl(i,()=>new kr.x).pipe(Rs());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const d=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(i);let I,A;return Array.isArray(_)?A=_:(I=_.create(e).injector,A=I.get(sd,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:A.map(tp),injector:I}}),Ia(()=>{this.childrenLoaders.delete(i)})),f=new bl(d,()=>new kr.x).pipe(Rs());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(e){return Ir(e()).pipe((0,Et.U)(Mv),(0,Fn.z)(i=>i instanceof c.YKP||Array.isArray(i)?lt(i):(0,Tn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mv(n){return function Kw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Th=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kr.x,this.configLoader=(0,c.f3M)(mm),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(ae),this.rootContexts=(0,c.f3M)(Ma),this.inputBindingEnabled=null!==(0,c.f3M)(Pa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new av(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Iw(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Lr({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ki,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mr(i=>0!==i.id),(0,Et.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Ln(i=>{let a=!1,d=!1;return lt(i).pipe((0,_r.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ln(f=>{const _=e.browserUrlTree.toString(),I=!e.navigated||f.extractedUrl.toString()!==_||_!==e.currentUrlTree.toString();if(!I&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const k="";return this.events.next(new jc(f.id,e.serializeUrl(i.rawUrl),k,0)),e.rawUrlTree=f.rawUrl,f.resolve(null),Ur.E}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Sh(f.source)&&(e.browserUrlTree=f.extractedUrl),lt(f).pipe(Ln(k=>{const j=this.transitions?.getValue();return this.events.next(new Aa(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),j!==this.transitions?.getValue()?Ur.E:Promise.resolve(k)}),function uS(n,t,e,i,a,d){return(0,Fn.z)(f=>function Ww(n,t,e,i,a,d,f="emptyOnly"){return new Gw(n,t,e,i,a,f,d).recognize()}(n,t,e,i,f.extractedUrl,a,d).pipe((0,Et.U)(({state:_,tree:I})=>({...f,targetSnapshot:_,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,_r.b)(k=>{if(i.targetSnapshot=k.targetSnapshot,i.urlAfterRedirects=k.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!k.extras.skipLocationChange){const Y=e.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);e.setBrowserUrl(Y,k)}e.browserUrlTree=k.urlAfterRedirects}const j=new Wg(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(j)}));if(I&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:k,extractedUrl:j,source:Y,restoredState:me,extras:Oe}=f,Je=new Aa(k,this.urlSerializer.serialize(j),Y,me);this.events.next(Je);const st=cv(0,this.rootComponentType).snapshot;return lt(i={...f,targetSnapshot:st,urlAfterRedirects:j,extras:{...Oe,skipLocationChange:!1,replaceUrl:!1}})}{const k="";return this.events.next(new jc(f.id,e.serializeUrl(i.extractedUrl),k,1)),e.rawUrlTree=f.rawUrl,f.resolve(null),Ur.E}}),(0,_r.b)(f=>{const _=new sv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,Et.U)(f=>i={...f,guards:Iv(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function kw(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:f}}=e;return 0===f.length&&0===d.length?lt({...e,guardsResult:!0}):function Lw(n,t,e,i){return(0,Tn.D)(n).pipe((0,Fn.z)(a=>function ip(n,t,e,i,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?lt(d.map(_=>{const I=Dl(t)??a,A=Ns(_,I);return Ir(function xw(n){return n&&Gc(n.canDeactivate)}(A)?A.canDeactivate(n,t,e,i):I.runInContext(()=>A(n,t,e,i))).pipe(oo())})).pipe(os()):lt(!0)}(a.component,a.route,e,t,i)),oo(a=>!0!==a,!0))}(f,i,a,n).pipe((0,Fn.z)(_=>_&&function Ch(n){return"boolean"==typeof n}(_)?function oS(n,t,e,i){return(0,Tn.D)(t).pipe(so(a=>yi(function sm(n,t){return null!==n&&t&&t(new Dw(n)),lt(!0)}(a.route.parent,i),function Fw(n,t){return null!==n&&t&&t(new Ui(n)),lt(!0)}(a.route,i),function Eh(n,t,e){const i=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(f=>function np(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>kc(()=>lt(f.guards.map(I=>{const A=Dl(f.node)??e,k=Ns(I,A);return Ir(function Pw(n){return n&&Gc(n.canActivateChild)}(k)?k.canActivateChild(i,n):A.runInContext(()=>k(i,n))).pipe(oo())})).pipe(os())));return lt(d).pipe(os())}(n,a.path,e),function Uw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const a=i.map(d=>kc(()=>{const f=Dl(t)??e,_=Ns(d,f);return Ir(function Dv(n){return n&&Gc(n.canActivate)}(_)?_.canActivate(t,n):f.runInContext(()=>_(t,n))).pipe(oo())}));return lt(a).pipe(os())}(n,a.route,e))),oo(a=>!0!==a,!0))}(i,d,n,t):lt(_)),(0,Et.U)(_=>({...e,guardsResult:_})))})}(this.environmentInjector,f=>this.events.next(f)),(0,_r.b)(f=>{if(i.guardsResult=f.guardsResult,xs(f.guardsResult))throw mv(0,f.guardsResult);const _=new Gg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(_)}),mr(f=>!!f.guardsResult||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),op(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,_r.b)(_=>{const I=new Ew(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),Ln(_=>{let I=!1;return lt(_).pipe(function dS(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return lt(e);let d=0;return(0,Tn.D)(a).pipe(so(f=>function hS(n,t,e,i){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!qw(a)&&(d[Sn]=a.title),function pm(n,t,e,i){const a=function gm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return lt({});const d={};return(0,Tn.D)(a).pipe((0,Fn.z)(f=>function fS(n,t,e,i){const a=Dl(t)??i,d=Ns(n,a);return Ir(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[f],t,e,i).pipe(oo(),(0,_r.b)(_=>{d[f]=_}))),wa(1),function Xo(n){return(0,Et.U)(()=>n)}(d),xo(f=>bh(f)?Ur.E:Ms(f)))}(d,n,t,i).pipe((0,Et.U)(f=>(n._resolvedData=f,n.data=dv(n,e).resolve,a&&qw(a)&&(n.data[Sn]=a.title),null)))}(f.route,i,n,t)),(0,_r.b)(()=>d++),wa(1),(0,Fn.z)(f=>d===a.length?lt(e):Ur.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,_r.b)({next:()=>I=!0,complete:()=>{I||(e.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,_r.b)(_=>{const I=new ww(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}))}),op(f=>{const _=I=>{const A=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,_r.b)(k=>{I.component=k}),(0,Et.U)(()=>{})));for(const k of I.children)A.push(..._(k));return A};return As(_(f.targetSnapshot.root)).pipe(Ps(),no(1))}),op(()=>this.afterPreactivation()),(0,Et.U)(f=>{const _=function gv(n,t,e){const i=zc(n,t._root,e?e._root:void 0);return new Jg(i,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:_}}),(0,_r.b)(f=>{e.currentUrlTree=f.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),e.routerState=f.targetRouterState,"deferred"===e.urlUpdateStrategy&&(f.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,f),e.browserUrlTree=f.urlAfterRedirects)}),((n,t,e,i)=>(0,Et.U)(a=>(new wv(t,a.targetRouterState,a.currentRouterState,e,i).activate(n),a)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),no(1),(0,_r.b)({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Fi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),Ia(()=>{a||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xo(f=>{if(d=!0,vv(f)){yv(f)||(e.navigated=!0,e.restoreHistory(i,!0));const _=new ai(i.id,this.urlSerializer.serialize(i.extractedUrl),f.message,f.cancellationCode);if(this.events.next(_),yv(f)){const I=e.urlHandlingStrategy.merge(f.url,e.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Sh(i.source)};e.scheduleNavigation(I,ki,null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const _=new Hc(i.id,this.urlSerializer.serialize(i.extractedUrl),f,i.targetSnapshot??void 0);this.events.next(_);try{i.resolve(e.errorHandler(f))}catch(I){i.reject(I)}}return Ur.E}))}))}cancelNavigationTransition(e,i,a){const d=new ai(e.id,this.urlSerializer.serialize(e.extractedUrl),i,a);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sh(n){return n!==ki}let Rv=(()=>{class n{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(d=>d.outlet===It);return i}getResolvedTitleForRoute(e){return e.data[Sn]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(_m)},providedIn:"root"}),n})(),_m=(()=>{class n extends Rv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ac))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Jw)},providedIn:"root"}),n})();class yr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Jw=(()=>{class n extends yr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sp=new c.OlP("",{providedIn:"root",factory:()=>({})});let ym=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Pv)},providedIn:"root"}),n})(),Pv=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();function xv(n,t){n.events.pipe(mr(e=>e instanceof Fi||e instanceof ai||e instanceof Hc||e instanceof jc),(0,Et.U)(e=>e instanceof Fi||e instanceof jc?co.COMPLETE:e instanceof ai&&(0===e.code||1===e.code)?co.REDIRECTING:co.FAILED),mr(e=>e!==co.REDIRECTING),no(1)).subscribe(()=>{t()})}function Qw(n){throw n}function Xw(n,t,e){return t.parse("/")}const Ov={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(sp,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||Qw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(ym),this.routeReuseStrategy=(0,c.f3M)(Yw),this.titleStrategy=(0,c.f3M)(Rv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(sd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(Th),this.urlSerializer=(0,c.f3M)(ae),this.location=(0,c.f3M)(le),this.componentInputBindingEnabled=!!(0,c.f3M)(Pa,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new C,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cv(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ki,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,a){const d={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const I={...a};delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(d.state=I)}const _=this.parseUrl(e);this.scheduleNavigation(_,i,f,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(tp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:d,fragment:f,queryParamsHandling:_,preserveFragment:I}=i,A=I?this.currentUrlTree.fragment:f;let j,k=null;switch(_){case"merge":k={...this.currentUrlTree.queryParams,...d};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}null!==k&&(k=this.removeEmptyProps(k));try{j=y(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),j=this.currentUrlTree.root}return p(j,e,k,A??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=xs(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,ki,null,i)}navigate(e,i={skipLocationChange:!1}){return function Ah(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...Ov}:!1===i?{...pS}:i,xs(e))return Oo(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Oo(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const d=e[a];return null!=d&&(i[a]=d),i},{})}scheduleNavigation(e,i,a,d,f){if(this.disposed)return Promise.resolve(!1);let _,I,A;f?(_=f.resolve,I=f.reject,A=f.promise):A=new Promise((j,Y)=>{_=j,I=Y});const k=this.pendingTasks.add();return xv(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(k))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:_,reject:I,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(j=>Promise.reject(j))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const d={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(a,"",d)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-(this.browserPageId??this.currentPageId);0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zt=(()=>{class n{constructor(e,i,a,d,f,_){this.router=e,this.route=i,this.tabIndexAttribute=a,this.renderer=d,this.el=f,this.locationStrategy=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kr.x;const I=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===I||"area"===I,this.isAnchorElement?this.subscription=e.events.subscribe(A=>{A instanceof Fi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,a,d,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||a||d||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const a=this.renderer,d=this.el.nativeElement;null!==i?a.setAttribute(d,e,i):a.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Vr),c.Y36(Ra),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ke))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&c.NdJ("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class vm{}let t0=(()=>{class n{constructor(e,i,a,d,f){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(mr(e=>e instanceof Fi),so(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const d of i){d.providers&&!d._injector&&(d._injector=(0,c.MMx)(d.providers,e,`Route: ${d.path}`));const f=d._injector??e,_=d._loadedInjector??f;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&a.push(this.preloadConfig(f,d)),(d.children||d._loadedRoutes)&&a.push(this.processRoutes(_,d.children??d._loadedRoutes))}return(0,Tn.D)(a).pipe((0,ba.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):lt(null);const d=a.pipe((0,Fn.z)(f=>null===f?lt(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,Tn.D)([d,f]).pipe((0,ba.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Vr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(vm),c.LFG(mm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ap=new c.OlP("");let Cm=(()=>{class n{constructor(e,i,a,d,f={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=a,this.zone=d,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Aa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jc&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ss(n,t){return{\u0275kind:n,\u0275providers:t}}function Tl(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(Vr),a=n.get(Uv);1===n.get(Rh)&&i.initialNavigation(),n.get(Ph,null,c.XFs.Optional)?.setUpPreloading(),n.get(ap,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const Uv=new c.OlP("",{factory:()=>new kr.x}),Rh=new c.OlP("",{providedIn:"root",factory:()=>1}),Ph=new c.OlP("");function Zc(n){return ss(0,[{provide:Ph,useExisting:t0},{provide:vm,useExisting:n}])}const qc=new c.OlP("ROUTER_FORROOT_GUARD"),u0=[le,{provide:ae,useClass:Ve},Vr,Ma,{provide:Ra,useFactory:function n0(n){return n.routerState.root},deps:[Vr]},mm,[]];function d0(){return new c.PXZ("Router",Vr)}let Hv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[u0,[],{provide:sd,multi:!0,useValue:e},{provide:qc,useFactory:zv,deps:[[Vr,new c.FiY,new c.tp0]]},{provide:sp,useValue:i||{}},i?.useHash?{provide:ke,useClass:Qe}:{provide:ke,useClass:Ze},{provide:ap,useFactory:()=>{const n=(0,c.f3M)(Ti),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(sp),i=(0,c.f3M)(Th),a=(0,c.f3M)(ae);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Cm(a,i,n,t,e)}},i?.preloadingStrategy?Zc(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:d0},i?.initialNavigation?Em(i):[],i?.bindToComponentInputs?ss(8,[vh,{provide:Pa,useExisting:vh}]).\u0275providers:[],[{provide:f0,useFactory:Tl},{provide:c.tb,multi:!0,useExisting:f0}]]}}static forChild(e){return{ngModule:n,providers:[{provide:sd,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qc,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function zv(n){return"guarded"}function Em(n){return["disabled"===n.initialNavigation?ss(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Vr);return()=>{t.setUpLocationChangeListener()}}},{provide:Rh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ss(2,[{provide:Rh,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(pe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const a=t.get(Vr),d=t.get(Uv);xv(a,()=>{i(!0)}),t.get(Th).afterPreactivation=()=>(i(!0),d.closed?lt(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const f0=new c.OlP("");function cp(n){return Array.isArray(n)?n:[n]}var Dm=L(4986),Nh=L(5032);function CS(n){return(0,Hn.e)((t,e)=>{(0,Zr.Xf)(n).subscribe((0,jn.x)(e,()=>e.complete(),Nh.Z)),!e.closed&&t.subscribe(e)})}let kh;try{kh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kh=!1}let Sm=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function rc(n){return n===Xs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pm=new Set;let cd,y0=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):v0}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function dp(n,t){if(!Pm.has(n))try{cd||(cd=document.createElement("style"),t&&(cd.nonce=t),cd.setAttribute("type","text/css"),document.head.appendChild(cd)),cd.sheet&&(cd.sheet.insertRule(`@media ${n} {body{ }}`,0),Pm.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Sm),c.LFG(c.Ojb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v0(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Sl=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new kr.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ud(cp(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let d=As(ud(cp(e)).map(f=>this._registerQuery(f).observable));return d=yi(d.pipe(no(1)),d.pipe(function Oh(n){return mr((t,e)=>n<=e)}(1),function Tm(n,t=Dm.z){return(0,Hn.e)((e,i)=>{let a=null,d=null,f=null;const _=()=>{if(a){a.unsubscribe(),a=null;const A=d;d=null,i.next(A)}};function I(){const A=f+n,k=t.now();if(k<A)return a=this.schedule(void 0,A-k),void i.add(a);_()}e.subscribe((0,jn.x)(i,A=>{d=A,f=t.now(),a||(a=t.schedule(I,n),i.add(a))},()=>{_(),i.complete()},void 0,()=>{d=a=null}))})}(0))),d.pipe((0,Et.U)(f=>{const _={matches:!1,breakpoints:{}};return f.forEach(({matches:I,query:A})=>{_.matches=_.matches||I,_.breakpoints[A]=I}),_}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),d={observable:new gr.y(f=>{const _=I=>this._zone.run(()=>f.next(I));return i.addListener(_),()=>{i.removeListener(_)}}).pipe(ro(i),(0,Et.U)(({matches:f})=>({query:e,matches:f})),CS(this._destroySubject)),mql:i};return this._queries.set(e,d),d}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(y0),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ud(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Oa_XSmall="(max-width: 599.98px)",Oa_Small="(min-width: 600px) and (max-width: 959.98px)",Oa_Medium="(min-width: 960px) and (max-width: 1279.98px)",Ls_firebase={projectId:"bijouxemy",appId:"1:550799468569:web:dc53737659b67f079c2288",databaseURL:"https://bijouxemy-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"bijouxemy.appspot.com",apiKey:"AIzaSyCZsy0dD8klN7tS0tYhpBUtab43wlJGVkE",authDomain:"bijouxemy.firebaseapp.com",messagingSenderId:"550799468569"};var xm=L(6451),Xv=L(3099);function eC(n,t){return n===t}var nr=L(4976),ko=L(2011),Nm=(L(9568),L(3942)),uo=L(4859),Vi=L(5861),Bi=L(6881),U=L(2090),hp=L(1877);const nC="@firebase/database";let km="";function iC(n){km=n}class b0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class oC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Yc=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new b0(t)}}catch{}return new oC},vi=Yc("localStorage"),fp=Yc("sessionStorage"),Lh=new hp.Yd("@firebase/database"),sC=function(){let n=1;return function(){return n++}}(),E0=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const i=e.digest();return U.US.encodeByteArray(i)},pp=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=pp.apply(null,i):t+="object"==typeof i?(0,U.Wl)(i):i,t+=" "}return t};let Al=null,Lm=!0;const w0=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Lh.logLevel=hp.in.VERBOSE,Al=Lh.log.bind(Lh),t&&fp.set("logging_enabled",!0)):"function"==typeof n?Al=n:(Al=null,fp.remove("logging_enabled"))},Dr=function(...n){if(!0===Lm&&(Lm=!1,null===Al&&!0===fp.get("logging_enabled")&&w0(!0)),Al){const t=pp.apply(null,n);Al(t)}},Ml=function(n){return function(...t){Dr(n,...t)}},gp=function(...n){const t="FIREBASE INTERNAL ERROR: "+pp(...n);Lh.error(t)},as=function(...n){const t=`FIREBASE FATAL ERROR: ${pp(...n)}`;throw Lh.error(t),new Error(t)},Kr=function(...n){const t="FIREBASE WARNING: "+pp(...n);Lh.warn(t)},Fh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Jc="[MIN_NAME]",Na="[MAX_NAME]",Rl=function(n,t){if(n===t)return 0;if(n===Jc||t===Na)return-1;if(t===Jc||n===Na)return 1;{const e=Fm(n),i=Fm(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},I0=function(n,t){return n===t?0:n<t?-1:1},Uh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(t))},mp=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,U.Wl)(t[i]),e+=":",e+=mp(n[t[i]]);return e+="}",e},lC=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function Tr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const cC=function(n){(0,U.hu)(!Fh(n),"Invalid JSON number");const i=1023;let a,d,f,_,I;0===n?(d=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),i),d=_+i,f=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(d=0,f=Math.round(n/Math.pow(2,-1074))));const A=[];for(I=52;I;I-=1)A.push(f%2?1:0),f=Math.floor(f/2);for(I=11;I;I-=1)A.push(d%2?1:0),d=Math.floor(d/2);A.push(a?1:0),A.reverse();const k=A.join("");let j="";for(I=0;I<64;I+=8){let Y=parseInt(k.substr(I,8),2).toString(16);1===Y.length&&(Y="0"+Y),j+=Y}return j.toLowerCase()},dC=new RegExp("^-?(0*)\\d{1,10}$"),Fm=function(n){if(dC.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},hd=function(n){try{n()}catch(t){setTimeout(()=>{throw Kr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Fs=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Um{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Kr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Vh{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kr(t)}}let fd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gC="websocket",mC="long_polling";class Bm{constructor(t,e,i,a,d=!1,f="",_=!1,I=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=I,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jm(n,t,e){let i;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===gC)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mC)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function T0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Tr(e,(d,f)=>{a.push(d+"="+f)}),i+a.join("&")}class _C{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const Hm={},$m={};function Ci(n){const t=n.toString();return Hm[t]||(Hm[t]=new _C),Hm[t]}class A0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&hd(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xl{constructor(t,e,i,a,d,f,_){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=d,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(t),this.stats_=Ci(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),jm(e,mC,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new A0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ep((...d)=>{const[f,_,I,A,k]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=I;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[f,_]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!xl.forceAllow_&&(xl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,U.h$)(e),a=lC(i,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ep{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ep.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){Dr("frame writing exception"),_.stack&&Dr(_.stack),Dr(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Dr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Dr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Bh=null;typeof MozWebSocket<"u"?Bh=MozWebSocket:typeof WebSocket<"u"&&(Bh=WebSocket);let ka=(()=>{class n{constructor(e,i,a,d,f,_,I){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=Ci(i),this.connURL=n.connectionURL_(i,_,I,d,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,d,f){const _={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(_.r="f"),i&&(_.s=i),a&&(_.ls=a),d&&(_.ac=d),f&&(_.p=f),jm(e,gC,_)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vi.set("previous_websocket_failure",!0);try{let a;if((0,U.Yr)()){a={headers:{"User-Agent":`Firebase/5/${km}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(a.proxy={origin:_})}this.mySock=new Bh(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Bh&&!n.forceDisallow_}static previouslyFailed(){return vi.isInMemoryStorage||!0===vi.get("previous_websocket_failure")}markConnectionHealthy(){vi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,U.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,U.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=lC(i,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),wp=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xl,ka]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ka&&ka.isAvailable();let a=i&&!ka.previouslyFailed();if(e.webSocketOnly&&(i||Kr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ka];else{const d=this.transports_=[];for(const f of n.ALL_TRANSPORTS)f&&f.isAvailable()&&d.push(f);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qm{constructor(t,e,i,a,d,f,_,I,A,k){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=I,this.onKill_=A,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new wp(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Uh("t",t),i=Uh("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Uh("t",t),i=Uh("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Uh("t",t);if("d"in t){const i=t.d;if("h"===e){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?gp("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gp("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Kr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PC{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class jh{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!i||i===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ol extends jh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ol}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class sn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Jt(){return new sn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Nl(n){return n.pieces_.length-n.pieceNum_}function vn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new sn(n.pieces_,t)}function $h(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Fa(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function xC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new sn(t,0)}function xn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof sn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new sn(e,0)}function kt(n){return n.pieceNum_>=n.pieces_.length}function bi(n,t){const e=Vt(n),i=Vt(t);if(null===e)return t;if(e===i)return bi(vn(n),vn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function B0(n,t){const e=Fa(n,0),i=Fa(t,0);for(let a=0;a<e.length&&a<i.length;a++){const d=Rl(e[a],i[a]);if(0!==d)return d}return e.length===i.length?0:e.length<i.length?-1:1}function Qc(n,t){if(Nl(n)!==Nl(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Lo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Nl(n)>Nl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class SS{constructor(t,e){this.errorPrefix_=e,this.parts_=Fa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);OC(this)}}function OC(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xc(n))}function Xc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Km extends jh{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Km}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const zh=1e3;let Ap,eu=(()=>{class n extends PC{constructor(e,i,a,d,f,_,I,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=I,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Km.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ol.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const d=++this.requestNumber_,f={r:d,a:e,b:i};this.log_((0,U.Wl)(f)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const i=new U.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:_=>{const I=_.d;"ok"===_.s?i.resolve(I):i.reject(I)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,d){this.initConnection_();const f=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const I={onComplete:d,hashFn:i,query:e,tag:a};this.listens.get(_).set(f,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),d=i._queryIdentifier;this.log_("Listen on "+a+" for "+d);const f={p:a};e.tag&&(f.q=i._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,I=>{const A=I.d,k=I.s;n.warnOnListenWarnings_(A,i),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",I),"ok"!==k&&this.removeListen_(a,d),e.onComplete&&e.onComplete(k,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const a=(0,U.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Kr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,U.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,d=>{const f=d.s,_=d.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,i)}sendUnlisten_(e,i,a,d){this.log_("Unlisten on "+e+" for "+i);const f={p:e};d&&(f.q=a,f.t=d),this.sendRequest("n",f)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,d){const f={p:i,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,_=>{d&&setTimeout(()=>{d(_.s,_.d)},Math.floor(0))})}put(e,i,a,d){this.putInternal("p",e,i,a,d)}merge(e,i,a,d){this.putInternal("m",e,i,a,d)}putInternal(e,i,a,d,f){this.initConnection_();const _={p:i,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:e,request:_,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(f.s,f.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Wl)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):gp("Unrecognized action received from server: "+(0,U.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Vi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let I=!1,A=null;const k=function(){A?A.close():(I=!0,d())};e.realtime_={close:k,sendRequest:function(me){(0,U.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(me)}};const Y=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,Oe]=yield Promise.all([e.authTokenProvider_.getToken(Y),e.appCheckTokenProvider_.getToken(Y)]);I?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=Oe&&Oe.token,A=new qm(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,d,Je=>{Kr(Je+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(me){e.log_("Failed to get token: "+me),I||(e.repoInfo_.nodeAdmin&&Kr(me),k())}}})()}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(f=>mp(f)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,i){const a=new sn(e).toString();let d;if(this.listens.has(a)){const f=this.listens.get(a);d=f.get(i),f.delete(i),0===f.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,i){Dr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Dr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+km.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ol.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ht(t,e)}}class Sp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Ht(Jc,t),a=new Ht(Jc,e);return 0!==this.compare(i,a)}minPost(){return Ht.MIN}}class kC extends Sp{static get __EMPTY_NODE(){return Ap}static set __EMPTY_NODE(t){Ap=t}compare(t,e){return Rl(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(Na,Ap)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,Ap)}toString(){return".key"}}const Vs=new kC;class Wh{constructor(t,e,i,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=e?i(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let gd,Fo=(()=>{class n{constructor(e,i,a,d,f){this.key=e,this.value=i,this.color=a??n.RED,this.left=d??ho.EMPTY_NODE,this.right=f??ho.EMPTY_NODE}copy(e,i,a,d,f){return new n(e??this.key,i??this.value,a??this.color,d??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let d=this;const f=a(e,d.key);return d=f<0?d.copy(null,null,null,d.left.insert(e,i,a),null):0===f?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(e,i,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return ho.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,d;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return ho.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ho{constructor(t,e=ho.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ho(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Fo.BLACK,null,null))}remove(t){return new ho(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fo.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Wh(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Wh(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Wh(this.root_,null,this.comparator_,!0,t)}}function LC(n,t){return Rl(n.name,t.name)}function FC(n,t){return Rl(n,t)}ho.EMPTY_NODE=new class W0{copy(t,e,i,a,d){return this}insert(t,e,i){return new Fo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const UC=function(n){return"number"==typeof n?"number:"+cC(n):"string:"+n},Mp=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===gd||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===gd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VC,md,Yr,Ei=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Mp(this.priorityNode_)}static set __childrenNodeConstructor(e){VC=e}static get __childrenNodeConstructor(){return VC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:".priority"===Vt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Vt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,U.hu)(".priority"!==a||1===Nl(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UC(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?cC(this.value_):this.value_,this.lazyHash_=E0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(i),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,U.hu)(d>=0,"Unknown leaf type: "+i),(0,U.hu)(f>=0,"Unknown leaf type: "+a),d===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class Uo extends Sp{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),d=i.compareTo(a);return 0===d?Rl(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(Na,new Ei("[PRIORITY-POST]",Yr))}makePost(t,e){const i=md(t);return new Ht(e,new Ei("[PRIORITY-POST]",i))}toString(){return".priority"}},_d=Math.log(2);class yd{constructor(t){this.count=parseInt(Math.log(t+1)/_d,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ua=function(n,t,e,i){n.sort(t);const a=function(I,A){const k=A-I;let j,Y;if(0===k)return null;if(1===k)return j=n[I],Y=e?e(j):j,new Fo(Y,j.node,Fo.BLACK,null,null);{const me=parseInt(k/2,10)+I,Oe=a(I,me),Je=a(me+1,A);return j=n[me],Y=e?e(j):j,new Fo(Y,j.node,Fo.BLACK,Oe,Je)}},_=function(I){let A=null,k=null,j=n.length;const Y=function(Oe,Je){const st=j-Oe,at=j;j-=Oe;const mt=a(st+1,at),Ft=n[st],Mt=e?e(Ft):Ft;me(new Fo(Mt,Ft.node,Je,null,mt))},me=function(Oe){A?(A.left=Oe,A=Oe):(k=Oe,A=Oe)};for(let Oe=0;Oe<I.count;++Oe){const Je=I.nextBitIsOne(),st=Math.pow(2,I.count-(Oe+1));Je?Y(st,Fo.BLACK):(Y(st,Fo.BLACK),Y(st,Fo.RED))}return k}(new yd(n.length));return new ho(i||t,_)};let kl;const ls={};class ji{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(ls&&gn,"ChildrenNode.ts has not been loaded"),kl=kl||new ji({".priority":ls},{".priority":gn}),kl}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ho?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==Vs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const d=e.getIterator(Ht.Wrap);let _,f=d.getNext();for(;f;)a=a||t.isDefinedOn(f.node),i.push(f),f=d.getNext();_=a?Ua(i,t.getCompare()):ls;const I=t.toString(),A=Object.assign({},this.indexSet_);A[I]=t;const k=Object.assign({},this.indexes_);return k[I]=_,new ji(k,A)}addToIndexes(t,e){const i=(0,U.UI)(this.indexes_,(a,d)=>{const f=(0,U.DV)(this.indexSet_,d);if((0,U.hu)(f,"Missing index implementation for "+d),a===ls){if(f.isDefinedOn(t.node)){const _=[],I=e.getIterator(Ht.Wrap);let A=I.getNext();for(;A;)A.name!==t.name&&_.push(A),A=I.getNext();return _.push(t),Ua(_,f.getCompare())}return ls}{const _=e.get(t.name);let I=a;return _&&(I=I.remove(new Ht(t.name,_))),I.insert(t,t.node)}});return new ji(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,U.UI)(this.indexes_,a=>{if(a===ls)return a;{const d=e.get(t.name);return d?a.remove(new Ht(t.name,d)):a}});return new ji(i,this.indexSet_)}}let Bs,St=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Mp(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bs||(Bs=new n(new ho(FC),null,ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bs}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Bs:i}}getChild(e){const i=Vt(e);return null===i?this:this.getImmediateChild(i).getChild(vn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Ht(e,i);let d,f;i.isEmpty()?(d=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,i),f=this.indexMap_.addToIndexes(a,this.children_));const _=d.isEmpty()?Bs:this.priorityNode_;return new n(d,_,f)}}updateChild(e,i){const a=Vt(e);if(null===a)return i;{(0,U.hu)(".priority"!==Vt(e)||1===Nl(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(vn(e),i);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,d=0,f=!0;if(this.forEachChild(gn,(_,I)=>{i[_]=I.val(e),a++,f&&n.INTEGER_REGEXP_.test(_)?d=Math.max(d,Number(_)):f=!1}),!e&&f&&d<2*a){const _=[];for(const I in i)_[I]=i[I];return _}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+UC(this.getPriority().val())+":"),this.forEachChild(gn,(i,a)=>{const d=a.hash();""!==d&&(e+=":"+i+":"+d)}),this.lazyHash_=""===e?"":E0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const d=this.resolveIndex_(a);if(d){const f=d.getPredecessorKey(new Ht(e,i));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ht(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ht(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>i(d.name,d.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Ht.Wrap);let f=d.peek();for(;null!=f&&i.compare(f,e)<0;)d.getNext(),f=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let f=d.peek();for(;null!=f&&i.compare(f,e)>0;)d.getNext(),f=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cd?-1:0}withIndex(e){if(e===Vs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Vs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(gn),d=i.getIterator(gn);let f=a.getNext(),_=d.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=d.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(e){return e===Vs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Cd=new class vd extends St{constructor(){super(new ho(FC),St.EMPTY_NODE,ji.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return St.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ht,{MIN:{value:new Ht(Jc,St.EMPTY_NODE)},MAX:{value:new Ht(Na,Cd)}}),kC.__EMPTY_NODE=St.EMPTY_NODE,Ei.__childrenNodeConstructor=St,function G0(n){gd=n}(Cd),function Rp(n){Yr=n}(Cd);const BC=!0;function Un(n,t=null){if(null===n)return St.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ei(n,Un(t));if(n instanceof Array||!BC){let e=St.EMPTY_NODE;return Tr(n,(i,a)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const d=Un(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(i,d))}}),e.updatePriority(Un(t))}{const e=[];let i=!1;if(Tr(n,(f,_)=>{if("."!==f.substring(0,1)){const I=Un(_);I.isEmpty()||(i=i||!I.getPriority().isEmpty(),e.push(new Ht(f,I)))}}),0===e.length)return St.EMPTY_NODE;const d=Ua(e,LC,f=>f.name,FC);if(i){const f=Ua(e,gn.getCompare());return new St(d,Un(t),new ji({".priority":f},{".priority":gn}))}return new St(d,Un(t),ji.Default)}}!function tu(n){md=n}(Un);class Pp extends Sp{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!kt(t)&&".priority"!==Vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),d=i.compareTo(a);return 0===d?Rl(t.name,e.name):d}makePost(t,e){const i=Un(t),a=St.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ht(e,a)}maxPost(){const t=St.EMPTY_NODE.updateChild(this.indexPath_,Cd);return new Ht(Na,t)}toString(){return Fa(this.indexPath_,0).join("/")}}const xp=new class jC extends Sp{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Rl(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(t,e){const i=Un(t);return new Ht(e,i)}toString(){return".value"}};function Xm(n){return{type:"value",snapshotNode:n}}function nu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ru(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class HC{constructor(t){this.index_=t}updateChild(t,e,i,a,d,f){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(i.getChild(a))&&_.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?t.hasChild(e)?f.trackChildChange(bd(e,_)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(nu(e,i)):f.trackChildChange(ru(e,i,_))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(gn,(a,d)=>{e.hasChild(a)||i.trackChildChange(bd(a,d))}),e.isLeafNode()||e.forEachChild(gn,(a,d)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(d)||i.trackChildChange(ru(a,d,f))}else i.trackChildChange(nu(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?St.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Op{constructor(t){this.indexedFilter_=new HC(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Op.getStartPost_(t),this.endPost_=Op.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,d,f){return this.matches(new Ht(e,i))||(i=St.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,d,f)}updateFullNode(t,e,i){e.isLeafNode()&&(e=St.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(St.EMPTY_NODE);const d=this;return e.forEachChild(gn,(f,_)=>{d.matches(new Ht(f,_))||(a=a.updateImmediateChild(f,St.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class q0{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Op(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,d,f){return this.rangedFilter_.matches(new Ht(e,i))||(i=St.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,d,f):this.fullLimitUpdateChild_(t,e,i,d,f)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=St.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=St.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;d.hasNext()&&f<this.limit_;){const _=d.getNext();if(this.withinDirectionalStart(_)){if(!this.withinDirectionalEnd(_))break;a=a.updateImmediateChild(_.name,_.node),f++}}}else{let d;a=e.withIndex(this.index_),a=a.updatePriority(St.EMPTY_NODE),d=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let f=0;for(;d.hasNext();){const _=d.getNext();f<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?f++:a=a.updateImmediateChild(_.name,St.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,d){let f;if(this.reverse_){const j=this.index_.getCompare();f=(Y,me)=>j(me,Y)}else f=this.index_.getCompare();const _=t;(0,U.hu)(_.numChildren()===this.limit_,"");const I=new Ht(e,i),A=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),k=this.rangedFilter_.matches(I);if(_.hasChild(e)){const j=_.getImmediateChild(e);let Y=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=Y&&(Y.name===e||_.hasChild(Y.name));)Y=a.getChildAfterChild(this.index_,Y,this.reverse_);const me=null==Y?1:f(Y,I);if(k&&!i.isEmpty()&&me>=0)return d?.trackChildChange(ru(e,i,j)),_.updateImmediateChild(e,i);{d?.trackChildChange(bd(e,j));const Je=_.updateImmediateChild(e,St.EMPTY_NODE);return null!=Y&&this.rangedFilter_.matches(Y)?(d?.trackChildChange(nu(Y.name,Y.node)),Je.updateImmediateChild(Y.name,Y.node)):Je}}return i.isEmpty()?t:k&&f(A,I)>=0?(null!=d&&(d.trackChildChange(bd(A.name,A.node)),d.trackChildChange(nu(e,i))),_.updateImmediateChild(e,i).updateImmediateChild(A.name,St.EMPTY_NODE)):t}}class Np{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Na}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new Np;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function e_(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function t_(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Ll(n,t){const e=n.copy();return e.index_=t,e}function kp(n){const t={};if(n.isDefault())return t;let e;if(n.index_===gn?e="$priority":n.index_===xp?e="$value":n.index_===Vs?e="$key":((0,U.hu)(n.index_ instanceof Pp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Gh(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class Zh extends PC{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Ml("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const f=Zh.getListenId_(t,i),_={};this.listens_[f]=_;const I=kp(t._queryParams);this.restRequest_(d+".json",I,(A,k)=>{let j=k;if(404===A&&(j=null,A=null),null===A&&this.onDataUpdate_(d,j,!1,i),(0,U.DV)(this.listens_,f)===_){let Y;Y=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(Y,null)}})}unlisten(t,e){const i=Zh.getListenId_(t,e);delete this.listens_[i]}get(t){const e=kp(t._queryParams),i=t._path.toString(),a=new U.BH;return this.restRequest_(i+".json",e,(d,f)=>{let _=f;404===d&&(_=null,d=null),null===d?(this.onDataUpdate_(i,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let I=null;if(_.status>=200&&_.status<300){try{I=(0,U.cI)(_.responseText)}catch{Kr("Failed to parse JSON response for "+f+": "+_.responseText)}i(null,I)}else 401!==_.status&&404!==_.status&&Kr("Got unsuccessful REST response for "+f+" Status: "+_.status),i(_.status);i=null}},_.open("GET",f,!0),_.send()})}}class qh{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Kh(){return{value:null,children:new Map}}function Ed(n,t,e){if(kt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Vt(t);n.children.has(i)||n.children.set(i,Kh()),Ed(n.children.get(i),t=vn(t),e)}}function iu(n,t){if(kt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(i,a)=>{Ed(n,new sn(i),a)}),iu(n,t)}}if(n.children.size>0){const e=Vt(t);return t=vn(t),n.children.has(e)&&iu(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function r_(n,t,e){null!==n.value?e(t,n.value):function J0(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{r_(a,new sn(t.toString()+"/"+i),e)})}class Q0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Tr(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class Fp{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Q0(t);const i=1e4+2e4*Math.random();Fs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Tr(t,(a,d)=>{d>0&&(0,U.r3)(this.statsToReport_,a)&&(e[a]=d,i=!0)}),i&&this.server_.reportStats(e),Fs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sr=(()=>((Sr=Sr||{})[Sr.OVERWRITE=0]="OVERWRITE",Sr[Sr.MERGE=1]="MERGE",Sr[Sr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Sr[Sr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Sr))();function Yh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Up{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Sr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kt(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new sn(t));return new Up(Jt(),e,this.revert)}}return(0,U.hu)(Vt(this.path)===t,"operationForChild called for unrelated child."),new Up(vn(this.path),this.affectedTree,this.revert)}}class wd{constructor(t,e){this.source=t,this.path=e,this.type=Sr.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new wd(this.source,Jt()):new wd(this.source,vn(this.path))}}class ou{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Sr.OVERWRITE}operationForChild(t){return kt(this.path)?new ou(this.source,Jt(),this.snap.getImmediateChild(t)):new ou(this.source,vn(this.path),this.snap)}}class Id{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Sr.MERGE}operationForChild(t){if(kt(this.path)){const e=this.children.subtree(new sn(t));return e.isEmpty()?null:e.value?new ou(this.source,Jt(),e.value):new Id(this.source,Jt(),e)}return(0,U.hu)(Vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Id(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Va{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class zC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jh(n,t,e,i,a,d){const f=i.filter(_=>_.type===e);f.sort((_,I)=>function eI(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new Ht(t.childName,t.snapshotNode),a=new Ht(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,_,I)),f.forEach(_=>{const I=function X0(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,d);a.forEach(A=>{A.respondsTo(_.type)&&t.push(A.createEvent(I,n.query_))})})}function Qh(n,t){return{eventCache:n,serverCache:t}}function su(n,t,e,i){return Qh(new Va(t,e,i),n.serverCache)}function Vp(n,t,e,i){return Qh(n.eventCache,new Va(t,e,i))}function Bp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function js(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Dd;class Cn{constructor(t,e=(()=>(Dd||(Dd=new ho(I0)),Dd))()){this.value=t,this.children=e}static fromObject(t){let e=new Cn(null);return Tr(t,(i,a)=>{e=e.set(new sn(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Jt(),value:this.value};if(kt(t))return null;{const i=Vt(t),a=this.children.get(i);if(null!==a){const d=a.findRootMostMatchingPathAndValue(vn(t),e);return null!=d?{path:xn(new sn(i),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const e=Vt(t),i=this.children.get(e);return null!==i?i.subtree(vn(t)):new Cn(null)}}set(t,e){if(kt(t))return new Cn(e,this.children);{const i=Vt(t),d=(this.children.get(i)||new Cn(null)).set(vn(t),e),f=this.children.insert(i,d);return new Cn(this.value,f)}}remove(t){if(kt(t))return this.children.isEmpty()?new Cn(null):new Cn(null,this.children);{const e=Vt(t),i=this.children.get(e);if(i){const a=i.remove(vn(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new Cn(null):new Cn(this.value,d)}return this}}get(t){if(kt(t))return this.value;{const e=Vt(t),i=this.children.get(e);return i?i.get(vn(t)):null}}setTree(t,e){if(kt(t))return e;{const i=Vt(t),d=(this.children.get(i)||new Cn(null)).setTree(vn(t),e);let f;return f=d.isEmpty()?this.children.remove(i):this.children.insert(i,d),new Cn(this.value,f)}}fold(t){return this.fold_(Jt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,d)=>{i[a]=d.fold_(xn(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Jt(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(kt(t))return null;{const d=Vt(t),f=this.children.get(d);return f?f.findOnPath_(vn(t),xn(e,d),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Jt(),e)}foreachOnPath_(t,e,i){if(kt(t))return this;{this.value&&i(e,this.value);const a=Vt(t),d=this.children.get(a);return d?d.foreachOnPath_(vn(t),xn(e,a),i):new Cn(null)}}foreach(t){this.foreach_(Jt(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(xn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class cs{constructor(t){this.writeTree_=t}static empty(){return new cs(new Cn(null))}}function Xh(n,t,e){if(kt(t))return new cs(new Cn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let d=i.value;const f=bi(a,t);return d=d.updateChild(f,e),new cs(n.writeTree_.set(a,d))}{const a=new Cn(e),d=n.writeTree_.setTree(t,a);return new cs(d)}}}function l_(n,t,e){let i=n;return Tr(e,(a,d)=>{i=Xh(i,xn(t,a),d)}),i}function ef(n,t){if(kt(t))return cs.empty();{const e=n.writeTree_.setTree(t,new Cn(null));return new cs(e)}}function Td(n,t){return null!=Fl(n,t)}function Fl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(bi(e.path,t)):null}function c_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(i,a)=>{t.push(new Ht(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new Ht(i,a.value))}),t}function Ul(n,t){if(kt(t))return n;{const e=Fl(n,t);return new cs(null!=e?new Cn(e):n.writeTree_.subtree(t))}}function u_(n){return n.writeTree_.isEmpty()}function au(n,t){return jp(Jt(),n.writeTree_,t)}function jp(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,U.hu)(null!==d.value,"Priority writes must always be leaf nodes"),i=d.value):e=jp(xn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(xn(n,".priority"),i)),e}}function tf(n,t){return rb(t,n)}function qC(n,t){if(n.snap)return Lo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Lo(xn(n.path,e),t))return!0;return!1}function YC(n){return n.visible}function JC(n,t,e){let i=cs.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const f=d.path;let _;if(d.snap)Lo(e,f)?(_=bi(e,f),i=Xh(i,_,d.snap)):Lo(f,e)&&(_=bi(f,e),i=Xh(i,Jt(),d.snap.getChild(_)));else{if(!d.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Lo(e,f))_=bi(e,f),i=l_(i,_,d.children);else if(Lo(f,e))if(_=bi(f,e),kt(_))i=l_(i,Jt(),d.children);else{const I=(0,U.DV)(d.children,Vt(_));if(I){const A=I.getChild(vn(_));i=Xh(i,Jt(),A)}}}}}return i}function QC(n,t,e,i,a){if(i||a){const d=Ul(n.visibleWrites,t);return!a&&u_(d)?e:a||null!=e||Td(d,Jt())?au(JC(n.allWrites,function(A){return(A.visible||a)&&(!i||!~i.indexOf(A.writeId))&&(Lo(A.path,t)||Lo(t,A.path))},t),e||St.EMPTY_NODE):null}{const d=Fl(n.visibleWrites,t);if(null!=d)return d;{const f=Ul(n.visibleWrites,t);return u_(f)?e:null!=e||Td(f,Jt())?au(f,e||St.EMPTY_NODE):null}}}function nf(n,t,e,i){return QC(n.writeTree,n.treePath,t,e,i)}function $p(n,t){return function nI(n,t,e){let i=St.EMPTY_NODE;const a=Fl(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(gn,(d,f)=>{i=i.updateImmediateChild(d,f)}),i;if(e){const d=Ul(n.visibleWrites,t);return e.forEachChild(gn,(f,_)=>{const I=au(Ul(d,new sn(f)),_);i=i.updateImmediateChild(f,I)}),c_(d).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return c_(Ul(n.visibleWrites,t)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(n.writeTree,n.treePath,t)}function f_(n,t,e,i){return function h_(n,t,e,i,a){(0,U.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const d=xn(t,e);if(Td(n.visibleWrites,d))return null;{const f=Ul(n.visibleWrites,d);return u_(f)?a.getChild(e):au(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function rf(n,t){return function XC(n,t){return Fl(n.visibleWrites,t)}(n.writeTree,xn(n.treePath,t))}function Sd(n,t,e){return function Hp(n,t,e,i){const a=xn(t,e),d=Fl(n.visibleWrites,a);return null!=d?d:i.isCompleteForChild(e)?au(Ul(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Ba(n,t){return rb(xn(n.treePath,t),n.writeTree)}function rb(n,t){return{treePath:n,writeTree:t}}class rI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(i,ru(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(i,bd(i,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(i,nu(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,ru(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Vl=new class p_{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class sf{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sd(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:js(this.viewCache_),d=function nb(n,t,e,i,a,d){return function eb(n,t,e,i,a,d,f){let _;const I=Ul(n.visibleWrites,t),A=Fl(I,Jt());if(null!=A)_=A;else{if(null==e)return[];_=au(I,e)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const k=[],j=f.getCompare(),Y=d?_.getReverseIteratorFrom(i,f):_.getIteratorFrom(i,f);let me=Y.getNext();for(;me&&k.length<a;)0!==j(me,i)&&k.push(me),me=Y.getNext();return k}}(n.writeTree,n.treePath,t,e,i,a,d)}(this.writes_,a,e,1,i,t);return 0===d.length?null:d[0]}}function ib(n,t,e,i,a,d){const f=t.eventCache;if(null!=rf(i,e))return t;{let _,I;if(kt(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=js(t),j=$p(i,A instanceof St?A:St.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),j,d)}else{const A=nf(i,js(t));_=n.filter.updateFullNode(t.eventCache.getNode(),A,d)}else{const A=Vt(e);if(".priority"===A){(0,U.hu)(1===Nl(e),"Can't have a priority with additional path components");const k=f.getNode();I=t.serverCache.getNode();const j=f_(i,e,k,I);_=null!=j?n.filter.updatePriority(k,j):f.getNode()}else{const k=vn(e);let j;if(f.isCompleteForChild(A)){I=t.serverCache.getNode();const Y=f_(i,e,f.getNode(),I);j=null!=Y?f.getNode().getImmediateChild(A).updateChild(k,Y):f.getNode().getImmediateChild(A)}else j=Sd(i,A,t.serverCache);_=null!=j?n.filter.updateChild(f.getNode(),A,j,k,a,d):f.getNode()}}return su(t,_,f.isFullyInitialized()||kt(e),n.filter.filtersNodes())}}function zp(n,t,e,i,a,d,f,_){const I=t.serverCache;let A;const k=f?n.filter:n.filter.getIndexedFilter();if(kt(e))A=k.updateFullNode(I.getNode(),i,null);else if(k.filtersNodes()&&!I.isFiltered()){const me=I.getNode().updateChild(e,i);A=k.updateFullNode(I.getNode(),me,null)}else{const me=Vt(e);if(!I.isCompleteForPath(e)&&Nl(e)>1)return t;const Oe=vn(e),st=I.getNode().getImmediateChild(me).updateChild(Oe,i);A=".priority"===me?k.updatePriority(I.getNode(),st):k.updateChild(I.getNode(),me,st,Oe,Vl,null)}const j=Vp(t,A,I.isFullyInitialized()||kt(e),k.filtersNodes());return ib(n,j,e,a,new sf(a,j,d),_)}function Wp(n,t,e,i,a,d,f){const _=t.eventCache;let I,A;const k=new sf(a,t,d);if(kt(e))A=n.filter.updateFullNode(t.eventCache.getNode(),i,f),I=su(t,A,!0,n.filter.filtersNodes());else{const j=Vt(e);if(".priority"===j)A=n.filter.updatePriority(t.eventCache.getNode(),i),I=su(t,A,_.isFullyInitialized(),_.isFiltered());else{const Y=vn(e),me=_.getNode().getImmediateChild(j);let Oe;if(kt(Y))Oe=i;else{const Je=k.getCompleteChild(j);Oe=null!=Je?".priority"===$h(Y)&&Je.getChild(xC(Y)).isEmpty()?Je:Je.updateChild(Y,i):St.EMPTY_NODE}I=me.equals(Oe)?t:su(t,n.filter.updateChild(_.getNode(),j,Oe,Y,k,f),_.isFullyInitialized(),n.filter.filtersNodes())}}return I}function ob(n,t){return n.eventCache.isCompleteForChild(t)}function m_(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function __(n,t,e,i,a,d,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A,I=t;A=kt(e)?i:new Cn(null).setTree(e,i);const k=t.serverCache.getNode();return A.children.inorderTraversal((j,Y)=>{if(k.hasChild(j)){const Oe=m_(0,t.serverCache.getNode().getImmediateChild(j),Y);I=zp(n,I,new sn(j),Oe,a,d,f,_)}}),A.children.inorderTraversal((j,Y)=>{const me=!t.serverCache.isCompleteForChild(j)&&null===Y.value;if(!k.hasChild(j)&&!me){const Je=m_(0,t.serverCache.getNode().getImmediateChild(j),Y);I=zp(n,I,new sn(j),Je,a,d,f,_)}}),I}class ab{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new HC(i.getIndex()),d=function AS(n){return n.loadsAllData()?new HC(n.getIndex()):n.hasLimit()?new q0(n):new Op(n)}(i);this.processor_=function iI(n){return{filter:n}}(d);const f=e.serverCache,_=e.eventCache,I=a.updateFullNode(St.EMPTY_NODE,f.getNode(),null),A=d.updateFullNode(St.EMPTY_NODE,_.getNode(),null),k=new Va(I,f.isFullyInitialized(),a.filtersNodes()),j=new Va(A,_.isFullyInitialized(),d.filtersNodes());this.viewCache_=Qh(j,k),this.eventGenerator_=new zC(this.query_)}get query(){return this.query_}}function aI(n,t){const e=js(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kt(t)&&!e.getImmediateChild(Vt(t)).isEmpty())?e.getChild(t):null}function cb(n){return 0===n.eventRegistrations_.length}function db(n,t,e){const i=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const f=d.createCancelEvent(e,a);f&&i.push(f)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const f=n.eventRegistrations_[d];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function y_(n,t,e,i){t.type===Sr.MERGE&&null!==t.source.queryId&&((0,U.hu)(js(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Bp(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function RS(n,t,e,i,a){const d=new rI;let f,_;if(e.type===Sr.OVERWRITE){const A=e;A.source.fromUser?f=Wp(n,t,A.path,A.snap,i,a,d):((0,U.hu)(A.source.fromServer,"Unknown source."),_=A.source.tagged||t.serverCache.isFiltered()&&!kt(A.path),f=zp(n,t,A.path,A.snap,i,a,_,d))}else if(e.type===Sr.MERGE){const A=e;A.source.fromUser?f=function Ar(n,t,e,i,a,d,f){let _=t;return i.foreach((I,A)=>{const k=xn(e,I);ob(t,Vt(k))&&(_=Wp(n,_,k,A,a,d,f))}),i.foreach((I,A)=>{const k=xn(e,I);ob(t,Vt(k))||(_=Wp(n,_,k,A,a,d,f))}),_}(n,t,A.path,A.children,i,a,d):((0,U.hu)(A.source.fromServer,"Unknown source."),_=A.source.tagged||t.serverCache.isFiltered(),f=__(n,t,A.path,A.children,i,a,_,d))}else if(e.type===Sr.ACK_USER_WRITE){const A=e;f=A.revert?function sI(n,t,e,i,a,d){let f;if(null!=rf(i,e))return t;{const _=new sf(i,t,a),I=t.eventCache.getNode();let A;if(kt(e)||".priority"===Vt(e)){let k;if(t.serverCache.isFullyInitialized())k=nf(i,js(t));else{const j=t.serverCache.getNode();(0,U.hu)(j instanceof St,"serverChildren would be complete if leaf node"),k=$p(i,j)}A=n.filter.updateFullNode(I,k,d)}else{const k=Vt(e);let j=Sd(i,k,t.serverCache);null==j&&t.serverCache.isCompleteForChild(k)&&(j=I.getImmediateChild(k)),A=null!=j?n.filter.updateChild(I,k,j,vn(e),_,d):t.eventCache.getNode().hasChild(k)?n.filter.updateChild(I,k,St.EMPTY_NODE,vn(e),_,d):I,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=nf(i,js(t)),f.isLeafNode()&&(A=n.filter.updateFullNode(A,f,d)))}return f=t.serverCache.isFullyInitialized()||null!=rf(i,Jt()),su(t,A,f,n.filter.filtersNodes())}}(n,t,A.path,i,a,d):function oI(n,t,e,i,a,d,f){if(null!=rf(a,e))return t;const _=t.serverCache.isFiltered(),I=t.serverCache;if(null!=i.value){if(kt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return zp(n,t,e,I.getNode().getChild(e),a,d,_,f);if(kt(e)){let A=new Cn(null);return I.getNode().forEachChild(Vs,(k,j)=>{A=A.set(new sn(k),j)}),__(n,t,e,A,a,d,_,f)}return t}{let A=new Cn(null);return i.foreach((k,j)=>{const Y=xn(e,k);I.isCompleteForPath(Y)&&(A=A.set(k,I.getNode().getChild(Y)))}),__(n,t,e,A,a,d,_,f)}}(n,t,A.path,A.affectedTree,i,a,d)}else{if(e.type!==Sr.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);f=function sb(n,t,e,i,a){const d=t.serverCache;return ib(n,Vp(t,d.getNode(),d.isFullyInitialized()||kt(e),d.isFiltered()),e,i,Vl,a)}(n,t,e.path,i,d)}const I=d.getChanges();return function PS(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),d=Bp(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(d)||!i.getNode().getPriority().equals(d.getPriority()))&&e.push(Xm(Bp(t)))}}(t,f,I),{viewCache:f,changes:I}}(n.processor_,a,t,e,i);return function g_(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,U.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,v_(n,d.changes,d.viewCache.eventCache.getNode(),null)}function v_(n,t,e,i){return function WC(n,t,e,i){const a=[],d=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&d.push(function Z0(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),Jh(n,a,"child_removed",t,i,e),Jh(n,a,"child_added",t,i,e),Jh(n,a,"child_moved",d,i,e),Jh(n,a,"child_changed",t,i,e),Jh(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Md,Gp;class us{constructor(){this.views=new Map}}function fo(n,t,e,i){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,U.hu)(null!=d,"SyncTree gave us an op for an invalid query."),y_(d,t,e,i)}{let d=[];for(const f of n.views.values())d=d.concat(y_(f,t,e,i));return d}}function Vo(n,t,e,i,a){const f=n.views.get(t._queryIdentifier);if(!f){let _=nf(e,a?i:null),I=!1;_?I=!0:i instanceof St?(_=$p(e,i),I=!1):(_=St.EMPTY_NODE,I=!1);const A=Qh(new Va(_,I,!1),new Va(i,a,!1));return new ab(t,A)}return f}function pb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Bl(n,t){let e=null;for(const i of n.views.values())e=e||aI(i,t);return e}function gb(n,t){return t._queryParams.loadsAllData()?jl(n):n.views.get(t._queryIdentifier)}function mb(n,t){return null!=gb(n,t)}function $s(n){return null!=jl(n)}function jl(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let dI=1;class C_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Cn(null),this.pendingWriteTree_=function tb(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zp(n,t,e,i,a){return function d_(n,t,e,i,a){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Xh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?lu(n,new ou({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Hl(n,t,e=!1){const i=function tI(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function ZC(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,d=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const _=n.allWrites[f];_.visible&&(f>=e&&qC(_,i.path)?a=!1:Lo(i.path,_.path)&&(d=!0)),f--}return!!a&&(d?(function KC(n){n.visibleWrites=JC(n.allWrites,YC,Jt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=ef(n.visibleWrites,i.path):Tr(i.children,I=>{n.visibleWrites=ef(n.visibleWrites,xn(i.path,I))}),!0))}(n.pendingWriteTree_,t)){let d=new Cn(null);return null!=i.snap?d=d.set(Jt(),!0):Tr(i.children,f=>{d=d.set(new sn(f),!0)}),lu(n,new Up(i.path,d,e))}return[]}function Rd(n,t,e){return lu(n,new ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Kp(n,t,e,i,a=!1){const d=t._path,f=n.syncPointTree_.get(d);let _=[];if(f&&("default"===t._queryIdentifier||mb(f,t))){const I=function fb(n,t,e,i){const a=t._queryIdentifier,d=[];let f=[];const _=$s(n);if("default"===a)for(const[I,A]of n.views.entries())f=f.concat(db(A,e,i)),cb(A)&&(n.views.delete(I),A.query._queryParams.loadsAllData()||d.push(A.query));else{const I=n.views.get(a);I&&(f=f.concat(db(I,e,i)),cb(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||d.push(I.query)))}return _&&!$s(n)&&d.push(new(function cI(){return(0,U.hu)(Md,"Reference.ts has not been loaded"),Md}())(t._repo,t._path)),{removed:d,events:f}}(f,t,e,i);(function Hs(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const A=I.removed;if(_=I.events,!a){const k=-1!==A.findIndex(Y=>Y._queryParams.loadsAllData()),j=n.syncPointTree_.findOnPath(d,(Y,me)=>$s(me));if(k&&!j){const Y=n.syncPointTree_.subtree(d);if(!Y.isEmpty()){const me=function fI(n){return n.fold((t,e,i)=>{if(e&&$s(e))return[jl(e)];{let a=[];return e&&(a=pb(e)),Tr(i,(d,f)=>{a=a.concat(f)}),a}})}(Y);for(let Oe=0;Oe<me.length;++Oe){const Je=me[Oe],st=Je.query,at=w_(n,Je);n.listenProvider_.startListening(lf(st),Pd(n,st),at.hashFn,at.onComplete)}}}!j&&A.length>0&&!i&&(k?n.listenProvider_.stopListening(lf(t),null):A.forEach(Y=>{const me=n.queryToTagMap.get(Xp(Y));n.listenProvider_.stopListening(lf(Y),me)}))}!function pI(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=Xp(i),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,A)}return _}function Yp(n,t,e,i){const a=I_(n,i);if(null!=a){const d=D_(a),f=d.path,_=d.queryId,I=bi(f,t);return T_(n,f,new ou(Yh(_),I,e))}return[]}function Qp(n,t,e,i=!1){const a=t._path;let d=null,f=!1;n.syncPointTree_.foreachOnPath(a,(Y,me)=>{const Oe=bi(Y,a);d=d||Bl(me,Oe),f=f||$s(me)});let I,_=n.syncPointTree_.get(a);_?(f=f||$s(_),d=d||Bl(_,Jt())):(_=new us,n.syncPointTree_=n.syncPointTree_.set(a,_)),null!=d?I=!0:(I=!1,d=St.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((me,Oe)=>{const Je=Bl(Oe,Jt());Je&&(d=d.updateImmediateChild(me,Je))}));const A=mb(_,t);if(!A&&!t._queryParams.loadsAllData()){const Y=Xp(t);(0,U.hu)(!n.queryToTagMap.has(Y),"View does not exist, but we have a tag");const me=function gI(){return dI++}();n.queryToTagMap.set(Y,me),n.tagToQueryMap.set(me,Y)}let j=function hb(n,t,e,i,a,d){const f=Vo(n,t,i,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function ub(n,t){n.eventRegistrations_.push(t)}(f,e),function xS(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(d,f)=>{i.push(nu(d,f))}),e.isFullyInitialized()&&i.push(Xm(e.getNode())),v_(n,i,e.getNode(),t)}(f,e)}(_,t,e,tf(n.pendingWriteTree_,a),d,I);if(!A&&!f&&!i){const Y=gb(_,t);j=j.concat(function mI(n,t,e){const i=t._path,a=Pd(n,t),d=w_(n,e),f=n.listenProvider_.startListening(lf(t),a,d.hashFn,d.onComplete),_=n.syncPointTree_.subtree(i);if(a)(0,U.hu)(!$s(_.value),"If we're adding a query, it shouldn't be shadowed");else{const I=_.fold((A,k,j)=>{if(!kt(A)&&k&&$s(k))return[jl(k).query];{let Y=[];return k&&(Y=Y.concat(pb(k).map(me=>me.query))),Tr(j,(me,Oe)=>{Y=Y.concat(Oe)}),Y}});for(let A=0;A<I.length;++A){const k=I[A];n.listenProvider_.stopListening(lf(k),Pd(n,k))}}return f}(n,t,Y))}return j}function af(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(f,_)=>{const A=Bl(_,bi(f,t));if(A)return A});return QC(a,t,d,e,!0)}function lu(n,t){return b_(t,n.syncPointTree_,null,tf(n.pendingWriteTree_,Jt()))}function b_(n,t,e,i){if(kt(n.path))return E_(n,t,e,i);{const a=t.get(Jt());null==e&&null!=a&&(e=Bl(a,Jt()));let d=[];const f=Vt(n.path),_=n.operationForChild(f),I=t.children.get(f);if(I&&_){const A=e?e.getImmediateChild(f):null,k=Ba(i,f);d=d.concat(b_(_,I,A,k))}return a&&(d=d.concat(fo(a,n,i,e))),d}}function E_(n,t,e,i){const a=t.get(Jt());null==e&&null!=a&&(e=Bl(a,Jt()));let d=[];return t.children.inorderTraversal((f,_)=>{const I=e?e.getImmediateChild(f):null,A=Ba(i,f),k=n.operationForChild(f);k&&(d=d.concat(E_(k,_,I,A)))}),a&&(d=d.concat(fo(a,n,i,e))),d}function w_(n,t){const e=t.query,i=Pd(n,e);return{hashFn:()=>(function lb(n){return n.viewCache_.serverCache.getNode()}(t)||St.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function hI(n,t,e){const i=I_(n,e);if(i){const a=D_(i),d=a.path,f=a.queryId,_=bi(d,t);return T_(n,d,new wd(Yh(f),_))}return[]}(n,e._path,i):function vb(n,t){return lu(n,new wd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function uC(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return Kp(n,e,null,d)}}}}function Pd(n,t){const e=Xp(t);return n.queryToTagMap.get(e)}function Xp(n){return n._path.toString()+"$"+n._queryIdentifier}function I_(n,t){return n.tagToQueryMap.get(t)}function D_(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new sn(n.substr(0,t))}}function T_(n,t,e){const i=n.syncPointTree_.get(t);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),fo(i,e,tf(n.pendingWriteTree_,t),null)}function lf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function uI(){return(0,U.hu)(Gp,"Reference.ts has not been loaded"),Gp}())(n._repo,n._path):n}class S_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new S_(e)}node(){return this.node_}}class A_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xn(this.path_,t);return new A_(this.syncTree_,e)}node(){return af(this.syncTree_,this.path_)}}const _I=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},bb=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?yI(n[".sv"],t,e):"object"==typeof n[".sv"]?vI(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},yI=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},vI=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,U.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const f=a.getValue();return"number"!=typeof f?i:f+i},Eb=function(n,t,e,i){return R_(t,new A_(e,n),i)},M_=function(n,t,e){return R_(n,new S_(t),e)};function R_(n,t,e){const i=n.getPriority().val(),a=bb(i,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const f=n,_=bb(f.getValue(),t,e);return _!==f.getValue()||a!==f.getPriority().val()?new Ei(_,Un(a)):n}{const f=n;return d=f,a!==f.getPriority().val()&&(d=d.updatePriority(new Ei(a))),f.forEachChild(gn,(_,I)=>{const A=R_(I,t.getImmediateChild(_),e);A!==I&&(d=d.updateImmediateChild(_,A))}),d}}class eg{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function cf(n,t){let e=t instanceof sn?t:new sn(t),i=n,a=Vt(e);for(;null!==a;){const d=(0,U.DV)(i.node.children,a)||{children:{},childCount:0};i=new eg(a,i,d),e=vn(e),a=Vt(e)}return i}function $l(n){return n.node.value}function tg(n,t){n.node.value=t,ng(n)}function P_(n){return n.node.childCount>0}function uf(n,t){Tr(n.node.children,(e,i)=>{t(new eg(e,n,i))})}function x_(n,t,e,i){e&&!i&&t(n),uf(n,a=>{x_(a,t,!0,i)}),e&&i&&t(n)}function xd(n){return new sn(null===n.parent?n.name:xd(n.parent)+"/"+n.name)}function ng(n){null!==n.parent&&function cu(n,t,e){const i=function wb(n){return void 0===$l(n)&&!P_(n)}(e),a=(0,U.r3)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,ng(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,ng(n))}(n.parent,n.name,n)}const CI=/[\[\].#$\/\u0000-\u001F\u007F]/,bI=/[\[\].#$\u0000-\u001F\u007F]/,zl=10485760,O_=function(n){return"string"==typeof n&&0!==n.length&&!CI.test(n)},rg=function(n){return"string"==typeof n&&0!==n.length&&!bI.test(n)},Od=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Fh(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},ds=function(n,t,e,i){i&&void 0===t||ig((0,U.gK)(n,"value"),t,e)},ig=function(n,t,e){const i=e instanceof sn?new SS(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Xc(i));if("function"==typeof t)throw new Error(n+"contains a function "+Xc(i)+" with contents = "+t.toString());if(Fh(t))throw new Error(n+"contains "+t.toString()+" "+Xc(i));if("string"==typeof t&&t.length>zl/3&&(0,U.ug)(t)>zl)throw new Error(n+"contains a string greater than "+zl+" utf8 bytes "+Xc(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(Tr(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(d=!0,!O_(f)))throw new Error(n+" contains an invalid key ("+f+") "+Xc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function j0(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),OC(n)})(i,f),ig(n,_,i),function H0(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&d)throw new Error(n+' contains ".value" child '+Xc(i)+" in addition to actual children.")}},Db=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];Tr(t,(f,_)=>{const I=new sn(f);if(ig(a,_,xn(e,I)),".priority"===$h(I)&&!Od(_))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(I)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const d=Fa(i);for(let f=0;f<d.length;f++)if((".priority"!==d[f]||f!==d.length-1)&&!O_(d[f]))throw new Error(n+"contains an invalid key ("+d[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(B0);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&Lo(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,d)},N_=function(n,t,e){if(!e||void 0!==t){if(Fh(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Od(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},df=function(n,t,e,i){if(!(i&&void 0===e||O_(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zs=function(n,t,e,i){if(!(i&&void 0===e||rg(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},EI=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zs(n,t,e,i)},wi=function(n,t){if(".info"===Vt(t))throw new Error(n+" failed = Can't modify data under /.info/")},hf=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!O_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rg(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function k_(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],d=a.getPath();null!==e&&!Qc(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function L_(n,t,e){k_(n,e),Tb(n,i=>Qc(i,t))}function Hi(n,t,e){k_(n,e),Tb(n,i=>Lo(i,t)||Lo(t,i))}function Tb(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(Sb(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Sb(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Al&&Dr("event: "+e.toString()),hd(i)}}}const F_="repo_interrupt",Ab=25;class Mb{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kh(),this.transactionQueueTree_=new eg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rb(n){const e=n.infoData_.getNode(new sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ff(n){return _I({timestamp:Rb(n)})}function Nd(n,t,e,i,a){n.dataUpdateCount++;const d=new sn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(i){const I=(0,U.UI)(e,A=>Un(A));f=function Jp(n,t,e,i){const a=I_(n,i);if(a){const d=D_(a),f=d.path,_=d.queryId,I=bi(f,t),A=Cn.fromObject(e);return T_(n,f,new Id(Yh(_),I,A))}return[]}(n.serverSyncTree_,d,I,a)}else{const I=Un(e);f=Yp(n.serverSyncTree_,d,I,a)}else if(i){const I=(0,U.UI)(e,A=>Un(A));f=function yb(n,t,e){const i=Cn.fromObject(e);return lu(n,new Id({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,d,I)}else{const I=Un(e);f=Rd(n.serverSyncTree_,d,I)}let _=d;f.length>0&&(_=gf(n,d)),Hi(n.eventQueue_,_,f)}function Pb(n,t){U_(n,"connected",t),!1===t&&function DI(n){Ld(n,"onDisconnectEvents");const t=ff(n),e=Kh();r_(n.onDisconnect_,Jt(),(a,d)=>{const f=Eb(a,d,n.serverSyncTree_,t);Ed(e,a,f)});let i=[];r_(e,Jt(),(a,d)=>{i=i.concat(Rd(n.serverSyncTree_,a,d));const f=lg(n,a);gf(n,f)}),n.onDisconnect_=Kh(),Hi(n.eventQueue_,Jt(),i)}(n)}function U_(n,t,e){const i=new sn("/.info/"+t),a=Un(e);n.infoData_.updateSnapshot(i,a);const d=Rd(n.infoSyncTree_,i,a);Hi(n.eventQueue_,i,d)}function uu(n){return n.nextWriteId_++}function og(n,t,e,i,a){Ld(n,"set",{path:t.toString(),value:e,priority:i});const d=ff(n),f=Un(e,i),_=af(n.serverSyncTree_,t),I=M_(f,_,d),A=uu(n),k=Zp(n.serverSyncTree_,t,I,A,!0);k_(n.eventQueue_,k),n.server_.put(t.toString(),f.val(!0),(Y,me)=>{const Oe="ok"===Y;Oe||Kr("set at "+t+" failed: "+Y);const Je=Hl(n.serverSyncTree_,A,!Oe);Hi(n.eventQueue_,t,Je),ja(0,a,Y,me)});const j=lg(n,t);gf(n,j),Hi(n.eventQueue_,j,[])}function pf(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&iu(n.onDisconnect_,t),ja(0,e,i,a)})}function kd(n,t,e,i){const a=Un(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,f)=>{"ok"===d&&Ed(n.onDisconnect_,t,a),ja(0,i,d,f)})}function sg(n,t,e){let i;i=".info"===Vt(t._path)?Kp(n.infoSyncTree_,t,e):Kp(n.serverSyncTree_,t,e),L_(n.eventQueue_,t._path,i)}function V_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(F_)}function Ld(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Dr(e,...t)}function ja(n,t,e,i){t&&hd(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;i&&(d+=": "+i);const f=new Error(d);f.code=a,t(f)}})}function B_(n,t,e){return af(n.serverSyncTree_,t,e)||St.EMPTY_NODE}function j_(n,t=n.transactionQueueTree_){if(t||ag(n,t),$l(t)){const e=mf(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function NS(n,t,e){const i=e.map(A=>A.currentWriteId),a=B_(n,t,i);let d=a;const f=a.hash();for(let A=0;A<e.length;A++){const k=e[A];(0,U.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const j=bi(t,k.path);d=d.updateChild(j,k.currentOutputSnapshotRaw)}const _=d.val(!0),I=t;n.server_.put(I.toString(),_,A=>{Ld(n,"transaction put response",{path:I.toString(),status:A});let k=[];if("ok"===A){const j=[];for(let Y=0;Y<e.length;Y++)e[Y].status=2,k=k.concat(Hl(n.serverSyncTree_,e[Y].currentWriteId)),e[Y].onComplete&&j.push(()=>e[Y].onComplete(null,!0,e[Y].currentOutputSnapshotResolved)),e[Y].unwatcher();ag(n,cf(n.transactionQueueTree_,t)),j_(n,n.transactionQueueTree_),Hi(n.eventQueue_,t,k);for(let Y=0;Y<j.length;Y++)hd(j[Y])}else{if("datastale"===A)for(let j=0;j<e.length;j++)e[j].status=3===e[j].status?4:0;else{Kr("transaction at "+I.toString()+" failed: "+A);for(let j=0;j<e.length;j++)e[j].status=4,e[j].abortReason=A}gf(n,t)}},f)}(n,xd(t),e)}else P_(t)&&uf(t,e=>{j_(n,e)})}function gf(n,t){const e=H_(n,t),i=xd(e);return function kS(n,t,e){if(0===t.length)return;const i=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const I=t[_],A=bi(e,I.path);let j,k=!1;if((0,U.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)k=!0,j=I.abortReason,a=a.concat(Hl(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=Ab)k=!0,j="maxretry",a=a.concat(Hl(n.serverSyncTree_,I.currentWriteId,!0));else{const Y=B_(n,I.path,f);I.currentInputSnapshot=Y;const me=t[_].update(Y.val());if(void 0!==me){ig("transaction failed: Data returned ",me,I.path);let Oe=Un(me);"object"==typeof me&&null!=me&&(0,U.r3)(me,".priority")||(Oe=Oe.updatePriority(Y.getPriority()));const st=I.currentWriteId,at=ff(n),mt=M_(Oe,Y,at);I.currentOutputSnapshotRaw=Oe,I.currentOutputSnapshotResolved=mt,I.currentWriteId=uu(n),f.splice(f.indexOf(st),1),a=a.concat(Zp(n.serverSyncTree_,I.path,mt,I.currentWriteId,I.applyLocally)),a=a.concat(Hl(n.serverSyncTree_,st,!0))}else k=!0,j="nodata",a=a.concat(Hl(n.serverSyncTree_,I.currentWriteId,!0))}Hi(n.eventQueue_,e,a),a=[],k&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&i.push("nodata"===j?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(j),!1,null)))}ag(n,n.transactionQueueTree_);for(let _=0;_<i.length;_++)hd(i[_]);j_(n,n.transactionQueueTree_)}(n,mf(n,e),i),i}function H_(n,t){let e,i=n.transactionQueueTree_;for(e=Vt(t);null!==e&&void 0===$l(i);)i=cf(i,e),e=Vt(t=vn(t));return i}function mf(n,t){const e=[];return kb(n,t,e),e.sort((i,a)=>i.order-a.order),e}function kb(n,t,e){const i=$l(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);uf(t,a=>{kb(n,a,e)})}function ag(n,t){const e=$l(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,tg(t,e.length>0?e:void 0)}uf(t,i=>{ag(n,i)})}function lg(n,t){const e=xd(H_(n,t)),i=cf(n.transactionQueueTree_,t);return function Ib(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{du(n,a)}),du(n,i),x_(i,a=>{du(n,a)}),e}function du(n,t){const e=$l(t);if(e){const i=[];let a=[],d=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,U.hu)(d===f-1,"All SENT items should be at beginning of queue."),d=f,e[f].status=3,e[f].abortReason="set"):((0,U.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(Hl(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&i.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===d?tg(t,void 0):e.length=d+1,Hi(n.eventQueue_,xd(t),a);for(let f=0;f<i.length;f++)hd(i[f])}}const $_=function(n,t){const e=xI(n),i=e.namespace;return"firebase.com"===e.domain&&as(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Bm(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new sn(e.pathString)}},xI=function(n){let t="",e="",i="",a="",d="",f=!0,_="https",I=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(_=n.substring(0,A-1),n=n.substring(A+2));let k=n.indexOf("/");-1===k&&(k=n.length);let j=n.indexOf("?");-1===j&&(j=n.length),t=n.substring(0,Math.min(k,j)),k<j&&(a=function RI(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(k,j)));const Y=function PI(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Kr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,j)));A=t.indexOf(":"),A>=0?(f="https"===_||"wss"===_,I=parseInt(t.substring(A+1),10)):A=t.length;const me=t.slice(0,A);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const Oe=t.indexOf(".");i=t.substring(0,Oe).toLowerCase(),e=t.substring(Oe+1),d=i}"ns"in Y&&(d=Y.ns)}return{host:t,port:I,domain:e,subdomain:i,secure:f,scheme:_,pathString:a,namespace:d}},OI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NI=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=OI.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let f=d.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=OI.charAt(t[a]);return(0,U.hu)(20===f.length,"nextPushId: Length should be 20."),f}}();class z_{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class Lb{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class W_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Fd{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return pf(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){wi("OnDisconnect.remove",this._path);const t=new U.BH;return kd(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){wi("OnDisconnect.set",this._path),ds("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return kd(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){wi("OnDisconnect.setWithPriority",this._path),ds("OnDisconnect.setWithPriority",t,this._path,!1),N_("OnDisconnect.setWithPriority",e,!1);const i=new U.BH;return function TI(n,t,e,i,a){const d=Un(e,i);n.server_.onDisconnectPut(t.toString(),d.val(!0),(f,_)=>{"ok"===f&&Ed(n.onDisconnect_,t,d),ja(0,a,f,_)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){wi("OnDisconnect.update",this._path),Db("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function SI(n,t,e,i){if((0,U.xb)(e))return Dr("onDisconnect().update() called with empty data.  Don't do anything."),void ja(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&Tr(e,(f,_)=>{const I=Un(_);Ed(n.onDisconnect_,xn(t,f),I)}),ja(0,i,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $i{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return kt(this._path)?null:$h(this._path)}get ref(){return new Bo(this._repo,this._path)}get _queryIdentifier(){const t=Gh(this._queryParams),e=mp(t);return"{}"===e?"default":e}get _queryObject(){return Gh(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof $i))return!1;const e=this._repo===t._repo,i=Qc(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function V0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function _f(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Wl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Vs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Jc)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Na)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===gn){if(null!=t&&!Od(t)||null!=e&&!Od(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof Pp||n.getIndex()===xp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yf(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bo extends $i{constructor(t,e){super(t,e,new Np,!1)}get parent(){const t=xC(this._path);return null===t?null:new Bo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Gl{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new sn(t),i=hu(this.ref,t);return new Gl(this._node.getChild(e),i,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new Gl(a,hu(this.ref,i),gn)))}hasChild(t){const e=new sn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fb(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?hu(n._root,t):n._root}function cg(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=$_(t,n._repo.repoInfo_.nodeAdmin);hf("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&as("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Fb(n,e.path.toString())}function hu(n,t){return null===Vt((n=(0,U.m9)(n))._path)?EI("child","path",t,!1):zs("child","path",t,!1),new Bo(n._repo,xn(n._path,t))}function G_(n,t){n=(0,U.m9)(n),wi("set",n._path),ds("set",t,n._path,!1);const e=new U.BH;return og(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function UI(n,t){Db("update",t,n._path,!1);const e=new U.BH;return function Ob(n,t,e,i){Ld(n,"update",{path:t.toString(),value:e});let a=!0;const d=ff(n),f={};if(Tr(e,(_,I)=>{a=!1,f[_]=Eb(xn(t,_),Un(I),n.serverSyncTree_,d)}),a)Dr("update() called with empty data.  Don't do anything."),ja(0,i,"ok",void 0);else{const _=uu(n),I=function qp(n,t,e,i){!function GC(n,t,e,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=l_(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=Cn.fromObject(e);return lu(n,new Id({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,_);k_(n.eventQueue_,I),n.server_.merge(t.toString(),e,(A,k)=>{const j="ok"===A;j||Kr("update at "+t+" failed: "+A);const Y=Hl(n.serverSyncTree_,_,!j),me=Y.length>0?gf(n,t):t;Hi(n.eventQueue_,me,Y),ja(0,i,A,k)}),Tr(e,A=>{const k=lg(n,xn(t,A));gf(n,k)}),Hi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Vb(n){n=(0,U.m9)(n);const t=new W_(()=>{}),e=new vf(t);return function xb(n,t,e){const i=function Cb(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(A,k)=>{const j=bi(A,e);i=i||Bl(k,j)});let a=n.syncPointTree_.get(e);a?i=i||Bl(a,Jt()):(a=new us,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=i,f=d?new Va(i,!0,!1):null;return function Ad(n){return Bp(n.viewCache_)}(Vo(a,t,tf(n.pendingWriteTree_,t._path),d?f.getNode():St.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(a=>{const d=Un(a).withIndex(t._queryParams.getIndex());let f;if(Qp(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())f=Rd(n.serverSyncTree_,t._path,d);else{const _=Pd(n.serverSyncTree_,t);f=Yp(n.serverSyncTree_,t._path,d,_)}return Hi(n.eventQueue_,t._path,f),Kp(n.serverSyncTree_,t,e,null,!0),d},a=>(Ld(n,"get for query "+(0,U.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(i=>new Gl(i,new Bo(n._repo,n._path),n._queryParams.getIndex()))}class vf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new z_("value",this,new Gl(t.snapshotNode,new Bo(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Lb(this,t,e):null}matches(t){return t instanceof vf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ug{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Lb(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const i=hu(new Bo(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new z_(t.type,this,new Gl(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ug&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cf(n,t,e,i,a){let d;if("object"==typeof i&&(d=void 0,a=i),"function"==typeof i&&(d=i),a&&a.onlyOnce){const I=e,A=(k,j)=>{sg(n._repo,n,_),I(k,j)};A.userCallback=e.userCallback,A.context=e.context,e=A}const f=new W_(e,d||void 0),_="value"===t?new vf(f):new ug(t,f);return function AI(n,t,e){let i;i=".info"===Vt(t._path)?Qp(n.infoSyncTree_,t,e):Qp(n.serverSyncTree_,t,e),L_(n.eventQueue_,t._path,i)}(n._repo,n,_),()=>sg(n._repo,n,_)}function q_(n,t,e,i){return Cf(n,"value",t,e,i)}function Bb(n,t,e,i){return Cf(n,"child_added",t,e,i)}function jb(n,t,e,i){return Cf(n,"child_changed",t,e,i)}function Hb(n,t,e,i){return Cf(n,"child_moved",t,e,i)}function $b(n,t,e,i){return Cf(n,"child_removed",t,e,i)}function K_(n,t,e){let i=null;const a=e?new W_(e):null;"value"===t?i=new vf(a):t&&(i=new ug(t,a)),sg(n._repo,n,i)}class jo{}class zb extends jo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ds("endAt",this._value,t._path,!0);const e=t_(t._queryParams,this._value,this._key);if(yf(e),Wl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $i(t._repo,t._path,e,t._orderByCalled)}}class Wb extends jo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ds("endBefore",this._value,t._path,!1);const e=function n_(n,t,e){let i;return i=t_(n,t,n.index_===Vs||e?e:Jc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(yf(e),Wl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $i(t._repo,t._path,e,t._orderByCalled)}}class Gb extends jo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ds("startAt",this._value,t._path,!0);const e=e_(t._queryParams,this._value,this._key);if(yf(e),Wl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $i(t._repo,t._path,e,t._orderByCalled)}}class Y_ extends jo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ds("startAfter",this._value,t._path,!1);const e=function Y0(n,t,e){let i;return i=e_(n,t,n.index_===Vs||e?e:Na),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(yf(e),Wl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $i(t._repo,t._path,e,t._orderByCalled)}}class Zb extends jo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $i(t._repo,t._path,function K0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class HI extends jo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $i(t._repo,t._path,function MS(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class X_ extends jo{constructor(t){super(),this._path=t}_apply(t){_f(t,"orderByChild");const e=new sn(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Pp(e),a=Ll(t._queryParams,i);return Wl(a),new $i(t._repo,t._path,a,!0)}}class qb extends jo{_apply(t){_f(t,"orderByKey");const e=Ll(t._queryParams,Vs);return Wl(e),new $i(t._repo,t._path,e,!0)}}class Kb extends jo{_apply(t){_f(t,"orderByPriority");const e=Ll(t._queryParams,gn);return Wl(e),new $i(t._repo,t._path,e,!0)}}class LS extends jo{_apply(t){_f(t,"orderByValue");const e=Ll(t._queryParams,xp);return Wl(e),new $i(t._repo,t._path,e,!0)}}class ty extends jo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ds("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zb(this._value,this._key)._apply(new Gb(this._value,this._key)._apply(t))}}function Ho(n,...t){let e=(0,U.m9)(n);for(const i of t)e=i._apply(e);return e}(function lI(n){(0,U.hu)(!Md,"__referenceConstructor has already been defined"),Md=n})(Bo),function _b(n){(0,U.hu)(!Gp,"__referenceConstructor has already been defined"),Gp=n}(Bo);const ny={};function oy(n,t,e,i,a){let d=i||n.options.databaseURL;void 0===d&&(n.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,A,f=$_(d,a),_=f.repoInfo;typeof process<"u"&&process.env&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(I=!0,d=`http://${A}?ns=${_.namespace}`,f=$_(d,a),_=f.repoInfo):I=!f.repoInfo.secure;const k=a&&I?new fd(fd.OWNER):new Vh(n.name,n.options,t);hf("Invalid Firebase Database URL",f),kt(f.path)||as("Database URL must point to the root of a Firebase Database (not including a child path).");const j=function Qb(n,t,e,i){let a=ny[t.name];a||(a={},ny[t.name]=a);let d=a[n.toURLString()];return d&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Mb(n,false,e,i),a[n.toURLString()]=d,d}(_,n,k,new Um(n.name,e));return new ZI(j,n)}class ZI{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wI(n,t,e){if(n.stats_=Ci(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Zh(n.repoInfo_,(i,a,d,f)=>{Nd(n,i,a,d,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Pb(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new eu(n.repoInfo_,t,(i,a,d,f)=>{Nd(n,i,a,d,f)},i=>{Pb(n,i)},i=>{!function II(n,t){Tr(t,(e,i)=>{U_(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function S0(n,t){const e=n.toString();return $m[e]||($m[e]=t()),$m[e]}(n.repoInfo_,()=>new Fp(n.stats_,n.server_)),n.infoData_=new qh,n.infoSyncTree_=new C_({startListening:(i,a,d,f)=>{let _=[];const I=n.infoData_.getNode(i._path);return I.isEmpty()||(_=Rd(n.infoSyncTree_,i._path,I),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),U_(n,"connected",!1),n.serverSyncTree_=new C_({startListening:(i,a,d,f)=>(n.server_.listen(i,d,a,(_,I)=>{const A=f(_,I);Hi(n.eventQueue_,i._path,A)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bo(this._repo,Jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Jb(n,t){const e=ny[t];(!e||e[n.key]!==n)&&as(`Database ${t}(${n.repoInfo_}) has already been deleted.`),V_(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&as("Cannot call "+t+" on a deleted database.")}}function eE(){wp.IS_TRANSPORT_INITIALIZED&&Kr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qI(){eE(),xl.forceDisallow()}function KI(){eE(),ka.forceDisallow(),xl.forceAllow()}function XI(n,t){w0(n,t)}const eD={".sv":"timestamp"};class nE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}eu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},eu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function FS(n){iC(Bi.SDK_VERSION),(0,Bi._registerComponent)(new uo.wA("database",(t,{instanceIdentifier:e})=>oy(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Bi.registerVersion)(nC,"0.14.4",n),(0,Bi.registerVersion)(nC,"0.14.4","esm2017")}();const sD=new hp.Yd("@firebase/database-compat"),iE=function(n){sD.warn("FIREBASE WARNING: "+n)};class oE{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),d=>i(d)),a}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,iE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class sE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ha{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),zs("DataSnapshot.child","path",t,!1),new Ha(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zs("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ha(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new zi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Br{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var d;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const f=Br.getCancelAndContextArgs_("Query.on",i,a),_=(A,k)=>{e.call(f.context,new Ha(this.database,A),k)};_.userCallback=e,_.context=f.context;const I=null===(d=f.cancel)||void 0===d?void 0:d.bind(f.context);switch(t){case"value":return q_(this._delegate,_,I),e;case"child_added":return Bb(this._delegate,_,I),e;case"child_removed":return $b(this._delegate,_,I),e;case"child_changed":return jb(this._delegate,_,I),e;case"child_moved":return Hb(this._delegate,_,I),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,K_(this._delegate,t,a)}else K_(this._delegate,t)}get(){return Vb(this._delegate).then(t=>new Ha(this.database,t))}once(t,e,i,a){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const d=Br.getCancelAndContextArgs_("Query.once",i,a),f=new U.BH,_=(A,k)=>{const j=new Ha(this.database,A);e&&e.call(d.context,j,k),f.resolve(j)};_.userCallback=e,_.context=d.context;const I=A=>{d.cancel&&d.cancel.call(d.context,A),f.reject(A)};switch(t){case"value":q_(this._delegate,_,I,{onlyOnce:!0});break;case"child_added":Bb(this._delegate,_,I,{onlyOnce:!0});break;case"child_removed":$b(this._delegate,_,I,{onlyOnce:!0});break;case"child_changed":jb(this._delegate,_,I,{onlyOnce:!0});break;case"child_moved":Hb(this._delegate,_,I,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Br(this.database,Ho(this._delegate,function Q_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zb(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Br(this.database,Ho(this._delegate,function $I(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HI(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Br(this.database,Ho(this._delegate,function zI(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zs("orderByChild","path",n,!1),new X_(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Br(this.database,Ho(this._delegate,function Ud(){return new qb}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Br(this.database,Ho(this._delegate,function WI(){return new Kb}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Br(this.database,Ho(this._delegate,function ey(){return new LS}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Br(this.database,Ho(this._delegate,function jI(n=null,t){return df("startAt","key",t,!0),new Gb(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Br(this.database,Ho(this._delegate,function J_(n,t){return df("startAfter","key",t,!0),new Y_(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Br(this.database,Ho(this._delegate,function VI(n,t){return df("endAt","key",t,!0),new zb(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Br(this.database,Ho(this._delegate,function BI(n,t){return df("endBefore","key",t,!0),new Wb(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Br(this.database,Ho(this._delegate,function GI(n,t){return df("equalTo","key",t,!0),new ty(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Br))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,U.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,U.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new zi(this.database,new Bo(this._delegate._repo,this._delegate._path))}}class zi extends Br{constructor(t,e){super(t,new $i(e._repo,e._path,new Np,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new zi(this.database,hu(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new zi(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new zi(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const i=G_(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,iE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wi("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const i=UI(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function Z_(n,t,e){if(wi("setWithPriority",n._path),ds("setWithPriority",t,n._path,!1),N_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return og(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),d=>i(d)),a}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function LI(n){return wi("remove",n._path),G_(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function rE(n,t,e){var i;if(n=(0,U.m9)(n),wi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,d=new U.BH,_=q_(n,()=>{});return function MI(n,t,e,i,a,d){Ld(n,"transaction on "+t);const f={path:t,update:e,onComplete:i,status:null,order:sC(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=B_(n,t,void 0);f.currentInputSnapshot=_;const I=f.update(_.val());if(void 0===I)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{ig("transaction failed: Data returned ",I,f.path),f.status=0;const A=cf(n.transactionQueueTree_,t),k=$l(A)||[];let j;k.push(f),tg(A,k),"object"==typeof I&&null!==I&&(0,U.r3)(I,".priority")?(j=(0,U.DV)(I,".priority"),(0,U.hu)(Od(j),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):j=(af(n.serverSyncTree_,t)||St.EMPTY_NODE).getPriority().val();const Y=ff(n),me=Un(I,j),Oe=M_(me,_,Y);f.currentOutputSnapshotRaw=me,f.currentOutputSnapshotResolved=Oe,f.currentWriteId=uu(n);const Je=Zp(n.serverSyncTree_,t,Oe,f.currentWriteId,f.applyLocally);Hi(n.eventQueue_,t,Je),j_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,A,k)=>{let j=null;I?d.reject(I):(j=new Gl(k,new Bo(n._repo,n._path),gn),d.resolve(new nE(A,j)))},_,a),d.promise}(this._delegate,t,{applyLocally:i}).then(d=>new sE(d.committed,new Ha(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const i=function FI(n,t){n=(0,U.m9)(n),wi("setPriority",n._path),N_("setPriority",t,!1);const e=new U.BH;return og(n._repo,xn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const i=function Ub(n,t){n=(0,U.m9)(n),wi("push",n._path),ds("push",t,n._path,!0);const e=Rb(n._repo),i=NI(e),a=hu(n,i),d=hu(n,i);let f;return f=null!=t?G_(d,t).then(()=>d):Promise.resolve(d),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=i.then(f=>new zi(this.database,f));e&&a.then(()=>e(null),f=>e(f));const d=new zi(this.database,i);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return wi("Reference.onDisconnect",this._delegate._path),new oE(new Fd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ef{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qI,forceLongPolling:KI}}useEmulator(t,e,i={}){!function JI(n,t,e,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&as("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&as('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new fd(fd.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);d=new fd(f)}!function iy(n,t,e,i){n.repoInfo_=new Bm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(a,t,e,d)}(this._delegate,t,e,i)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof zi){const e=cg(this._delegate,t.toString());return new zi(this,e)}{const e=Fb(this._delegate,t);return new zi(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=cg(this._delegate,t);return new zi(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function tE(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),V_(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function QI(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function Nb(n){n.persistentConnection_&&n.persistentConnection_.resume(F_)}(n._repo)}(this._delegate)}}Ef.ServerValue={TIMESTAMP:function tD(){return eD}(),increment:n=>function nD(n){return{".sv":{increment:n}}}(n)};var VS=Object.freeze({__proto__:null,initStandalone:function lD({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:d=!1}){iC(e);const f=new uo.zt("auth-internal",new uo.H0("database-standalone"));return f.setComponent(new uo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ef(oy(n,f,void 0,t,d),n),namespace:a}}});const cD=Ef.ServerValue;!function uD(n){n.INTERNAL.registerComponent(new uo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Ef(a,i)},"PUBLIC").setServiceProps({Reference:zi,Query:Br,Database:Ef,DataSnapshot:Ha,enableLogging:XI,INTERNAL:VS,ServerValue:cD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Nm.Z);var dg=L(5363),dD=L(6063);class hD extends kr.x{constructor(t=1/0,e=1/0,i=dD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:f}=this;e||(i.push(t),!a&&i.push(d.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:a}=this,d=a.slice();for(let f=0;f<d.length&&!t.closed;f+=i?1:2)t.next(d[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<i.length&&i.splice(0,i.length-d),!a){const f=e.now();let _=0;for(let I=1;I<i.length&&i[I]<=f;I+=2)_=I;_&&i.splice(0,_+1)}}}function Vd(n,t,e){let i,a=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):i=n??1/0,(0,Xv.B)({connector:()=>new hD(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function aE(n,t){return(0,Ts.m)(t)?Ln(()=>n,t):Ln(()=>n)}var wf=L(9468),po=L(259);class hg{constructor(){return(0,po.C6)()}}const Bd=new Map,uE={activated:!1,tokenObservers:[]},_D={initialized:!1,enabled:!1};function zn(n){return Bd.get(n)||Object.assign({},uE)}function jd(){return _D}const pg="https://content-firebaseappcheck.googleapis.com/v1",fE="exchangeDebugToken",pE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ly{constructor(t,e,i,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Vi.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function cy(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Mr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uy(n){if(!zn(n).activated)throw Mr.create("use-before-activation",{appName:n.name})}function mg(n,t){return _g.apply(this,arguments)}function _g(){return(_g=(0,Vi.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const j=yield a.getHeartbeatsHeader();j&&(i["X-Firebase-Client"]=j)}const d={method:"POST",body:JSON.stringify(t),headers:i};let f,_;try{f=yield fetch(n,d)}catch(j){throw Mr.create("fetch-network-error",{originalErrorMessage:j?.message})}if(200!==f.status)throw Mr.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(j){throw Mr.create("fetch-parse-error",{originalErrorMessage:j?.message})}const I=_.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const A=1e3*Number(I[1]),k=Date.now();return{token:_.token,expireTimeMillis:k+A,issuedAtTimeMillis:k}})).apply(this,arguments)}function _E(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`${pg}/projects/${e}/apps/${i}:${fE}?key=${a}`,body:{debug_token:t}}}const yE="firebase-app-check-database",vE=1,Df="firebase-app-check-store";let Tf=null;function py(){return(py=(0,Vi.Z)(function*(n,t){const i=(yield function CE(){return Tf||(Tf=new Promise((n,t)=>{try{const e=indexedDB.open(yE,vE);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;t(Mr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Df,{keyPath:"compositeKey"})}}catch(e){t(Mr.create("storage-open",{originalErrorMessage:e?.message}))}}),Tf)}()).transaction(Df,"readwrite"),d=i.objectStore(Df).put({compositeKey:n,value:t});return new Promise((f,_)=>{d.onsuccess=I=>{f()},i.onerror=I=>{var A;_(Mr.create("storage-set",{originalErrorMessage:null===(A=I.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const fu=new hp.Yd("@firebase/app-check");function Af(n,t){return(0,U.hl)()?function CD(n,t){return function EE(n,t){return py.apply(this,arguments)}(function gy(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{fu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _y(){return jd().enabled}function yy(){return vy.apply(this,arguments)}function vy(){return(vy=(0,Vi.Z)(function*(){const n=jd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const IE={error:"UNKNOWN_ERROR"};function wD(n){return U.US.encodeString(JSON.stringify(n),!1)}function pu(n){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,Vi.Z)(function*(n,t=!1){const e=n.app;uy(e);const i=zn(e);let d,a=i.token;if(a&&!Zl(a)&&(i.token=void 0,a=void 0),!a){const I=yield i.cachedTokenPromise;I&&(Zl(I)?a=I:yield Af(e,void 0))}if(!t&&a&&Zl(a))return{token:a.token};let _,f=!1;if(_y()){i.exchangeTokenPromise||(i.exchangeTokenPromise=mg(_E(e,yield yy()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),f=!0);const I=yield i.exchangeTokenPromise;return yield Af(e,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),f=!0),a=yield zn(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?fu.warn(I.message):fu.error(I),d=I}return a?d?_=Zl(a)?{token:a.token,internalError:d}:TD(d):(_={token:a.token},i.token=a,yield Af(e,a)):_=TD(d),f&&function Ey(n,t){const e=zn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,_),_})).apply(this,arguments)}function ID(n){return vg.apply(this,arguments)}function vg(){return(vg=(0,Vi.Z)(function*(n){const t=n.app;uy(t);const{provider:e}=zn(t);if(_y()){const i=yield yy(),{token:a}=yield mg(_E(t,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Cg(n,t){const e=zn(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function gu(n){const{app:t}=n,e=zn(t);let i=e.tokenRefresher;i||(i=function DD(n){const{app:t}=n;return new ly((0,Vi.Z)(function*(){let i;if(i=zn(t).token?yield pu(n,!0):yield pu(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=zn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},pE.RETRIAL_MIN_WAIT,pE.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Zl(n){return n.expireTimeMillis-Date.now()>0}function TD(n){return{token:wD(IE),error:n}}class SD{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=zn(this.app);for(const e of t)Cg(this.app,e.next);return Promise.resolve()}}const kD="app-check-internal";!function KS(){(0,Bi._registerComponent)(new uo.wA("app-check",n=>function GS(n,t){return new SD(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(kD).initialize()})),(0,Bi._registerComponent)(new uo.wA(kD,n=>function AD(n){return{getToken:t=>pu(n,t),getLimitedUseToken:()=>ID(n),addTokenListener:t=>function by(n,t,e,i){const{app:a}=n,d=zn(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:t}],d.token&&Zl(d.token)){const _=d.token;Promise.resolve().then(()=>{e({token:_.token}),gu(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>gu(n))}(n,"INTERNAL",t),removeTokenListener:t=>Cg(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bi.registerVersion)("@firebase/app-check","0.8.0")}();class xf{constructor(){return(0,nr.vb)("app-check")}}typeof window<"u"&&window;var kE=L(9260);const Sy=new c.OlP("angularfire2.auth.use-emulator"),LE=new c.OlP("angularfire2.auth.settings"),VD=new c.OlP("angularfire2.auth.tenant-id"),Jr=new c.OlP("angularfire2.auth.langugage-code"),FE=new c.OlP("angularfire2.auth.use-device-language"),Eg=new c.OlP("angularfire.auth.persistence"),UE=(n,t,e,i,a,d,f,_)=>(0,ko.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),i&&(I.tenantId=i),I.languageCode=a,d&&I.useDeviceLanguage(),f)for(const[A,k]of Object.entries(f))I.settings[A]=k;return _&&I.setPersistence(_),I},[e,i,a,d,f,_]);let Ay=(()=>{class n{constructor(e,i,a,d,f,_,I,A,k,j,Y,me){const Oe=new kr.x,Je=lt(void 0).pipe((0,dg.Q)(f.outsideAngular),Ln(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Et.U)(()=>(0,ko.on)(e,d,i)),(0,Et.U)(st=>UE(st,d,_,A,k,j,I,Y)),Vd({bufferSize:1,refCount:!1}));if(wo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{Je.pipe(oo()).subscribe();const at=Je.pipe(Ln(Mt=>Mt.getRedirectResult().then(qt=>qt,()=>null)),nr.iC,Vd({bufferSize:1,refCount:!1})),mt=Je.pipe(Ln(Mt=>new gr.y(qt=>({unsubscribe:d.runOutsideAngular(()=>Mt.onAuthStateChanged(ci=>qt.next(ci),ci=>qt.error(ci),()=>qt.complete()))})))),Ft=Je.pipe(Ln(Mt=>new gr.y(qt=>({unsubscribe:d.runOutsideAngular(()=>Mt.onIdTokenChanged(ci=>qt.next(ci),ci=>qt.error(ci),()=>qt.complete()))}))));this.authState=at.pipe(aE(mt),(0,wf.R)(f.outsideAngular),(0,dg.Q)(f.insideAngular)),this.user=at.pipe(aE(Ft),(0,wf.R)(f.outsideAngular),(0,dg.Q)(f.insideAngular)),this.idToken=this.user.pipe(Ln(Mt=>Mt?(0,Tn.D)(Mt.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Ln(Mt=>Mt?(0,Tn.D)(Mt.getIdTokenResult()):lt(null))),this.credential=(0,xm.T)(at,Oe,this.authState.pipe(mr(Mt=>!Mt))).pipe((0,Et.U)(Mt=>Mt?.user?Mt:null),(0,wf.R)(f.outsideAngular),(0,dg.Q)(f.insideAngular))}return(0,ko.pX)(this,Je,d,{spy:{apply:(st,at,mt)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&mt.then(Ft=>Oe.next(Ft))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ko.Dh),c.LFG(ko.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(Sy,8),c.LFG(LE,8),c.LFG(VD,8),c.LFG(Jr,8),c.LFG(FE,8),c.LFG(Eg,8),c.LFG(xf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),My=(()=>{class n{constructor(){kE.Z.registerVersion("angularfire",nr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ay]}),n})();function jE(n){return null==n}function Ry(n){return"function"==typeof n.set}function Py(n,t){return Ry(t)?t:n.ref(t)}function xy(n,t){if(function VE(n){return"string"==typeof n}(n))return t.stringCase();if(Ry(n))return t.firebaseCase();if(function BE(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Wd(n,t,e="on",i=Dm.z){return new gr.y(a=>{let d=null;return d=n[e](t,(f,_)=>{i.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===e&&i.schedule(()=>a.complete())},f=>{i.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Et.U)(a=>{const{snapshot:d,prevKey:f}=a;let _=null;return d.exists()&&(_=d.key),{type:t,payload:d,prevKey:f,key:_}}),(0,Xv.B)())}function Oy(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Ny(n,t){const{payload:e,prevKey:i,key:a}=t,d=Oy(n,a),f=function jD(n,t){if(jE(t))return 0;{const e=Oy(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(I=>{const A={payload:I,type:"value",prevKey:_,key:I.key};return _=I.key,n=[...n,A],!1})}return n;case"child_added":if(d>-1){const _=n[d-1];(_&&_.key||null)!==i&&(n=n.filter(I=>I.payload.key!==e.key)).splice(f,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(d>-1){const _=n.splice(d,1)[0];return(n=n.slice()).splice(f,0,_),n}return n;default:return n}}function $a(n){return(jE(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function ky(n,t,e){return function BD(n,t,e){return Wd(n,"value","once",e).pipe(Ln(i=>{const a=[lt(i)];return t.forEach(d=>a.push(Wd(n,d,"on",e))),(0,xm.T)(...a).pipe(Ea(Ny,[]))}),function C0(n,t=Ro.y){return n=n??eC,(0,Hn.e)((e,i)=>{let a,d=!0;e.subscribe((0,jn.x)(i,f=>{const _=t(f);(d||!n(a,_))&&(d=!1,a=_,i.next(f))}))})}())}(n,t=$a(t),e)}function wg(n,t,e){const i=(t=$a(t)).map(a=>Wd(n,a,"on",e));return(0,xm.T)(...i)}function Fy(n,t){return function(i,a){return xy(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function $D(n){return function(e){return e?xy(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function HE(n,t){return function(){return Wd(n,"value","on",t)}}const $E=new c.OlP("angularfire2.realtimeDatabaseURL"),oA=new c.OlP("angularfire2.database.use-emulator");let Gd=(()=>{class n{constructor(e,i,a,d,f,_,I,A,k,j,Y,me,Oe,Je,st){this.schedulers=_;const at=I,mt=(0,ko.on)(e,f,i);A&&UE(mt,f,k,Y,me,Oe,j,Je),this.database=(0,ko.cc)(`${mt.name}.database.${a}`,"AngularFireDatabase",mt.name,()=>{const Ft=f.runOutsideAngular(()=>mt.database(a||void 0));return at&&Ft.useEmulator(...at),Ft},[at])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>Py(this.database,e));let d=a;return i&&(d=i(a)),function zD(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Fy(i,"update"),set:Fy(i,"set"),push:a=>i.push(a),remove:$D(i),snapshotChanges:a=>ky(n,a,e).pipe(nr.iC),stateChanges:a=>wg(n,a,e).pipe(nr.iC),auditTrail:a=>function Ly(n,t,e){return function iA(n,t,e){return function HD(n,t){return Wd(n,"value","on",t).pipe((0,Et.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function tC(...n){const t=(0,Ri.jO)(n);return(0,Hn.e)((e,i)=>{const a=n.length,d=new Array(a);let f=n.map(()=>!1),_=!1;for(let I=0;I<a;I++)(0,Zr.Xf)(n[I]).subscribe((0,jn.x)(i,A=>{d[I]=A,!_&&!f[I]&&(f[I]=!0,(_=f.every(Ro.y))&&(f=null))},Nh.Z));e.subscribe((0,jn.x)(i,I=>{if(_){const A=[I,...d];i.next(t?t(...A):A)}}))})}(t),(0,Et.U)(([a,d])=>{const f=a.lastKeyToLoad,_=d.map(I=>I.key);return{actions:d,lastKeyToLoad:f,loadedKeys:_}}),function Om(n){return(0,Hn.e)((t,e)=>{let i=!1,a=0;t.subscribe((0,jn.x)(e,d=>(i||(i=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Et.U)(a=>a.actions))}(n,wg(n,t).pipe(Ea((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(nr.iC),valueChanges:(a,d)=>ky(n,a,e).pipe((0,Et.U)(_=>_.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),nr.iC)}}(d,this)}object(e){return function WD(n,t){return{query:n,snapshotChanges:()=>HE(n,t.schedulers.outsideAngular)().pipe(nr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>HE(n,t.schedulers.outsideAngular)().pipe(nr.iC,(0,Et.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Py(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ko.Dh),c.LFG(ko.xv,8),c.LFG($E,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(oA,8),c.LFG(Ay,8),c.LFG(Sy,8),c.LFG(LE,8),c.LFG(VD,8),c.LFG(Jr,8),c.LFG(FE,8),c.LFG(Eg,8),c.LFG(xf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GD=(()=>{class n{constructor(){kE.Z.registerVersion("angularfire",nr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Gd]}),n})(),ql=(()=>{class n{constructor(e){this.db=e}getDataFromDB(e){return this.db.object(e).valueChanges()}sendDataToDB(e,i){this.db.object(e).update(i)}deleteDataFromDB(e,i){this.db.object(`${e}/${i}`).remove()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Gd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sA=function(n){return{"header-top-title-mobile":n}},Uy=function(n,t,e){return{"header-bottom":n,"header-bottom-tablet":t,"header-bottom-mobile":e}},Of=function(n){return{"header-bottom-choose-mobile":n}},zE=function(n,t){return{"header-bottom-choose-announce-mobile":n,"header-bottom-choose-mobile":t}},ZD=function(n,t){return{"header-bottom-choose-mobile":n,"header-bottom-choose-end":t}};let Kl=(()=>{class n{constructor(e,i,a,d){this.router=e,this.breakpointObserver=i,this.FirebaseService=a,this.db=d,this.isSmallScreen=!1,this.isMediumScreen=!1,this.dbUrl=Ls_firebase.databaseURL}ruoterLink(e){this.router.navigate(["bijoux"],{queryParams:{type:e}})}ngOnInit(){this.breakpointObserver.observe([Oa_Small,Oa_XSmall]).subscribe(e=>{this.isSmallScreen=e.matches}),this.breakpointObserver.observe([Oa_Medium]).subscribe(e=>{this.isMediumScreen=e.matches}),this.FirebaseService.getDataFromDB("announce").subscribe(e=>{this.announce=e.announce})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Vr),c.Y36(Sl),c.Y36(ql),c.Y36(Gd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-top"]],decls:24,vars:29,consts:[[1,"header"],[1,"header-top"],[1,"header-top-1"],["routerLink","/"],["src","assets/root/home.png","alt","facebook",1,"header-top-homepng"],[1,"header-top-2"],[1,"header-top-title",3,"ngClass"],["href","https://www.facebook.com/groups/249494716844104/"],["src","assets/root/facebook.png","alt","facebook",1,"header-top-facebookimg"],[3,"ngClass"],[1,"header-bottom-choose",3,"ngClass","click"],[1,"header-bottom-choose","header-bottom-choose-end",3,"ngClass","click"],[1,"header-bottom-path","header-bottom-path-mobile",3,"ngClass","click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"a",3),c._UZ(4,"img",4),c.qZA()(),c.TgZ(5,"span",5)(6,"h1",6),c._uU(7,"i BIJOUX DI EMY"),c.qZA()(),c.TgZ(8,"span",2)(9,"a",7),c._UZ(10,"img",8),c.qZA()()(),c.TgZ(11,"nav",9)(12,"a",10),c.NdJ("click",function(){return i.ruoterLink("collane")}),c._uU(13," collane "),c.qZA(),c.TgZ(14,"a",11),c.NdJ("click",function(){return i.ruoterLink("bracciali")}),c._uU(15," bracciali "),c.qZA(),c.TgZ(16,"a",12),c.NdJ("click",function(){return i.ruoterLink("setbijoux")}),c._uU(17," set bijoux "),c.qZA(),c.TgZ(18,"a",9),c._uU(19),c.qZA(),c.TgZ(20,"a",10),c.NdJ("click",function(){return i.ruoterLink("orecchini")}),c._uU(21," orecchini "),c.qZA(),c.TgZ(22,"a",11),c.NdJ("click",function(){return i.ruoterLink("anelli")}),c._uU(23," anelli "),c.qZA()()()),2&e&&(c.xp6(6),c.Q6J("ngClass",c.VKq(9,sA,i.isSmallScreen)),c.xp6(5),c.Q6J("ngClass",c.kEZ(11,Uy,!i.isSmallScreen,i.isMediumScreen,i.isSmallScreen)),c.xp6(1),c.Q6J("ngClass",c.VKq(15,Of,i.isSmallScreen)),c.xp6(2),c.Q6J("ngClass",c.VKq(17,Of,i.isSmallScreen)),c.xp6(2),c.Q6J("ngClass",c.VKq(19,Of,i.isSmallScreen)),c.xp6(2),c.Q6J("ngClass",c.WLB(21,zE,i.isSmallScreen,!i.isSmallScreen)),c.xp6(1),c.hij(" ",i.announce," "),c.xp6(1),c.Q6J("ngClass",c.VKq(24,Of,i.isSmallScreen)),c.xp6(2),c.Q6J("ngClass",c.WLB(26,ZD,i.isSmallScreen,!i.isMediumScreen)))},dependencies:[vo,zt],styles:[".header[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--third-color);font-family:var(--principal-font);background-color:var(--second-color)}.header-top[_ngcontent-%COMP%]{width:100%;height:60%;display:flex;border-bottom:1px solid var(--third-color);align-items:center;align-content:space-evenly}.header-bottom[_ngcontent-%COMP%]{width:100%;height:40%;display:inline-flex;max-width:60%;padding-left:20%;font-family:var(--second-font)}.header-bottom-tablet[_ngcontent-%COMP%]{padding-left:0%;max-width:99%}.header-bottom-choose-end-tablet[_ngcontent-%COMP%]{border-right:0px solid var(--third-color)}.header-bottom-choose-mobile[_ngcontent-%COMP%]{display:none}.header-bottom-choose-announce-mobile[_ngcontent-%COMP%]{color:var(--fifth-color);font-weight:700;height:100%;font-size:1.25rem;line-height:3.2rem;text-align:center;width:100%}.header-bottom-mobile[_ngcontent-%COMP%]{width:100%;height:40%;display:inline-flex;padding-left:0%;font-family:var(--second-font)}.header-top-title-mobile[_ngcontent-%COMP%]{font-size:clamp(2.5rem,0rem + 13.3333vw,5rem)!important;line-height:5rem!important}.header-top-title[_ngcontent-%COMP%]{color:var(--fifth-color);font-size:5rem;font-weight:400}.header-top-homepng[_ngcontent-%COMP%], .header-top-facebookimg[_ngcontent-%COMP%]{width:45px;height:45px}.header-top-1[_ngcontent-%COMP%]{width:5%;min-width:80px;display:flex;justify-content:center}.header-top-2[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;align-items:center}.header-bottom-choose[_ngcontent-%COMP%]{color:var(--fifth-color);font-weight:700;width:20%;min-width:20%;height:100%;border-left:1px solid var(--third-color);text-align:center;font-size:1.75rem;line-height:3.2rem}.header-bottom-path[_ngcontent-%COMP%]{color:var(--fifth-color);font-weight:700;width:20%;min-width:20%;height:100%;text-align:center;font-size:1.75rem;line-height:3.2rem}.header-bottom-choose-end[_ngcontent-%COMP%]{border-right:1px solid var(--third-color)}a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bottom"]],decls:8,vars:0,consts:[[1,"footer"],[1,"footer-textbox"],["routerLink","/login",1,"footer-textbox-text"],["href","https://vhins.github.io",1,"footer-textbox-text2"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"footer",1)(2,"h6",2),c._uU(3," emy bijoux "),c.qZA(),c.TgZ(4,"a",3),c._uU(5," made by "),c._UZ(6,"br"),c._uU(7," Vincenzo Manzi "),c.qZA()()())},dependencies:[zt],styles:[".footer[_ngcontent-%COMP%]{width:100%;height:10%;max-height:40px;padding:20px 0;border-top:1px solid var(--third-color);font-family:var(--principal-font)}.footer-textbox[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1%;color:var(--third-color)}.footer-textbox-text[_ngcontent-%COMP%]{width:10rem;text-align:center;font-family:var(--second-font);font-size:1.875rem;font-weight:700}.footer-textbox-text2[_ngcontent-%COMP%]{width:10rem;text-align:center;font-family:var(--second-font);font-size:.875rem;font-weight:700;color:var(--third-color)}.footer-textbox[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})();const Zd=function(n,t){return{content:n,"hide-content":t}},Ig=function(n,t){return{"content-photoholder":n,"div-mobile":t}},WE=function(n,t){return{"content-box":n,"div-mobile":t}};let GE=(()=>{class n{constructor(e,i){this.router=e,this.breakpointObserver=i,this.isSmallScreen=!1,this.isMediumScreen=!1}ngOnInit(){this.breakpointObserver.observe([Oa_Small,Oa_XSmall]).subscribe(e=>{this.isSmallScreen=e.matches}),this.breakpointObserver.observe([Oa_Medium]).subscribe(e=>{this.isMediumScreen=e.matches,this.isMediumScreen?console.log("medio"):console.log("else")})}ruoterLink(e){this.router.navigate(["bijoux"],{queryParams:{type:e}})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Vr),c.Y36(Sl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:38,vars:12,consts:[[3,"ngClass"],[1,"content-textbox"],[1,"content-textbox-text"],[1,"content-textbox-text2"],[1,"content-photoholder",3,"ngClass"],[1,"content-photoholder-boxphoto"],["id","imgleft","src","/assets/root/facebook.png","alt","diva",1,"content-photoholder-photo"],[1,"content-photoholder-boxphoto2"],["id","imgcentral","src","/assets/photo/jewels.png","alt","diva",1,"content-photoholder-photo"],[1,"content-photoholder-boxphoto3"],["id","imgright","src","/assets/photo/foto.jpg","alt","diva",1,"content-photoholder-photo","content-photoholder-photoend"],[1,"content-box",3,"ngClass"],[1,"content-box-choose",3,"click"],["src","/assets/photo/collane.jpg","alt","collana",1,"content-box-choose-img"],[1,"content-box-choose-text"],["src","/assets/photo/bracciali.jpg","alt","collana",1,"content-box-choose-img"],["src","/assets/photo/orecchini.jpg","alt","collana",1,"content-box-choose-img"],["src","/assets/photo/stebijoux.jpg","alt","collana",1,"content-box-choose-img"]],template:function(e,i){1&e&&(c._UZ(0,"app-top"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1",2),c._uU(4,"i BIJOUX "),c._UZ(5,"br"),c._uU(6," DI EMY"),c.qZA(),c.TgZ(7,"h2",3),c._uU(8,"Collezione 2023"),c.qZA()()(),c.TgZ(9,"div",4)(10,"span",5),c._UZ(11,"img",6),c.qZA(),c.TgZ(12,"span",7),c._UZ(13,"img",8),c.qZA(),c.TgZ(14,"span",9),c._UZ(15,"img",10),c.qZA()(),c.TgZ(16,"div",11)(17,"a",12),c.NdJ("click",function(){return i.ruoterLink("collane")}),c._UZ(18,"img",13),c.TgZ(19,"h2",14),c._uU(20," COLLANE "),c.qZA()(),c.TgZ(21,"a",12),c.NdJ("click",function(){return i.ruoterLink("bracciali")}),c._UZ(22,"img",15),c.TgZ(23,"h2",14),c._uU(24," BRACCIALI "),c.qZA()(),c.TgZ(25,"a",12),c.NdJ("click",function(){return i.ruoterLink("orecchini")}),c._UZ(26,"img",16),c.TgZ(27,"h2",14),c._uU(28," ORECCHINI "),c.qZA()(),c.TgZ(29,"a",12),c.NdJ("click",function(){return i.ruoterLink("anelli")}),c._UZ(30,"img",17),c.TgZ(31,"h2",14),c._uU(32," ANELLI "),c.qZA()(),c.TgZ(33,"a",12),c.NdJ("click",function(){return i.ruoterLink("setbijoux")}),c._UZ(34,"img",17),c.TgZ(35,"h2",14),c._uU(36," SET BIJOUX "),c.qZA()()(),c._UZ(37,"app-bottom")),2&e&&(c.xp6(1),c.Q6J("ngClass",c.WLB(3,Zd,!i.isSmallScreen,i.isSmallScreen)),c.xp6(8),c.Q6J("ngClass",c.WLB(6,Ig,i.isSmallScreen,!i.isSmallScreen)),c.xp6(7),c.Q6J("ngClass",c.WLB(9,WE,i.isSmallScreen,!i.isSmallScreen)))},dependencies:[vo,Kl,Yl],styles:[".content[_ngcontent-%COMP%]{width:100%;min-height:735px;font-family:var(--principal-font)}.div-mobile[_ngcontent-%COMP%]{display:none}.content-textbox[_ngcontent-%COMP%]{width:100%;height:20%;padding-top:5%}.content-textbox-text[_ngcontent-%COMP%]{color:var(--third-color);line-height:7.5rem;font-size:12.5rem;text-align:center;max-lines:2}.content-textbox-text2[_ngcontent-%COMP%]{color:var(--third-color);font-size:1.5rem;text-align:center;font-weight:400;font-family:var(--second-font)}.hide-content[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]{width:100%;height:100%;font-family:var(--principal-font)}.content-photoholder-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg);position:absolute;margin-top:26%;margin-left:3%;cursor:pointer}.content-photoholder-arrow2[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;margin-top:26%;margin-left:86%;cursor:pointer}.content-photoholder[_ngcontent-%COMP%]{width:100%;height:40%;display:flex}.content-photoholder-boxphoto[_ngcontent-%COMP%]{width:12.5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-boxphoto2[_ngcontent-%COMP%]{width:75%;height:100%;border-bottom:1px solid var(--second-color);border-left:1px solid var(--second-color);border-right:1px solid var(--second-color)}.content-photoholder-boxphoto3[_ngcontent-%COMP%]{width:12.5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:100%}.content-photoholder-photoend[_ngcontent-%COMP%]{object-position:0%}.content-box[_ngcontent-%COMP%]{width:100%;height:59%;display:flex;flex-wrap:wrap;justify-content:space-evenly;padding-top:5%}.content-box-choose[_ngcontent-%COMP%]{width:34%;height:40%;padding:0;display:flex;flex-wrap:wrap;justify-content:space-evenly;gap:10%;margin-bottom:4%}.content-box-choose-img[_ngcontent-%COMP%]{width:100%;border:1px solid var(--second-color)}.content-box-choose-text[_ngcontent-%COMP%]{font-size:1.125rem;font-family:var(--second-font);text-align:center;font-weight:700;color:var(--third-color);margin-top:13%}"]}),n})();function qD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div")(1,"div",18),c.NdJ("click",function(){const d=c.CHM(e).$implicit,f=c.oxw();return c.KtG(f.ruoterLink(d.id,f.type))}),c._UZ(2,"img",19),c.TgZ(3,"a",20),c._uU(4),c.qZA(),c.TgZ(5,"span",21),c._uU(6),c.qZA()()()}if(2&n){const e=t.$implicit;c.xp6(2),c.MGl("src","",e.foto1," ",c.LSH),c.xp6(2),c.hij(" ",e.nome," "),c.xp6(2),c.hij(" ",e.prezzo," \u20ac ")}}const KD=function(n,t){return{"small-screen":n,"normal-screen":t}};let aA=(()=>{class n{constructor(e,i,a,d){this.route=e,this.router=i,this.firebase=a,this.breakpointObserver=d,this.isSmallScreen=!1,this.isMediumScreen=!1,this.dbUrl=Ls_firebase.databaseURL}ngOnInit(){this.route.queryParams.subscribe(e=>{this.type=e.type,this.firebase.getDataFromDB(this.type).subscribe(i=>{this.data=Object.values(i),this.data?console.log("valore ",this.data):console.log(`${this.type} non trovato`)})}),this.breakpointObserver.observe([Oa_Small,Oa_XSmall]).subscribe(e=>{this.isSmallScreen=e.matches}),this.breakpointObserver.observe([Oa_Medium]).subscribe(e=>{this.isMediumScreen=e.matches})}ruoterLink(e,i){this.router.navigate(["bijoux_buy"],{queryParams:{bijoux:e,bijoux_type:i}})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ra),c.Y36(Vr),c.Y36(ql),c.Y36(Sl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bijoux"]],decls:26,vars:6,consts:[[1,"content"],[1,"content-photoholder",3,"ngClass"],[1,"content-photoholder-boxphoto2"],[1,"content-textbox"],[1,"content-textbox-text"],[1,"content-textbox-text2"],[1,"content-top"],[1,"content-top-h1"],[1,"content-top-text"],[1,"content-bottom"],[1,"content-bottom-sudgested"],[1,"content-bottom-jewels"],[4,"ngFor","ngForOf"],[1,"content-bottom-ads"],[1,"content-bottommobile"],[1,"content-bottommobile-button"],["href","https://www.facebook.com/groups/249494716844104/"],[1,"content-bottommobile-text"],[1,"content-bottom-jewels-box",3,"click"],["alt","f",1,"content-bottom-jewels-box-img",3,"src"],["href","",1,"content-bottom-jewels-box-name"],[1,"content-bottom-jewels-box-price"]],template:function(e,i){1&e&&(c._UZ(0,"app-top"),c.TgZ(1,"div",0)(2,"div",1),c._UZ(3,"span",2),c.TgZ(4,"div",3)(5,"h1",4),c._uU(6),c.qZA(),c.TgZ(7,"h2",5),c._uU(8,"Collezione 2023"),c.qZA()()(),c.TgZ(9,"div",6)(10,"span",7),c._uU(11,"COLLANE"),c.qZA(),c.TgZ(12,"span",8),c._uU(13,"Tutti i bijoux di emy sono fatti interamente a mano partendo da perle di vario tipo"),c.qZA()(),c.TgZ(14,"div",9),c._UZ(15,"div",10),c.TgZ(16,"div",11),c.YNc(17,qD,7,3,"div",12),c.qZA(),c._UZ(18,"div",13),c.qZA(),c.TgZ(19,"div",14)(20,"button",15)(21,"a",16),c._uU(22,"GRUPPO FACEBOOK"),c.qZA()(),c.TgZ(23,"span",17),c._uU(24,"Spedizione con corriere SDA"),c.qZA()()(),c._UZ(25,"app-bottom")),2&e&&(c.xp6(2),c.Q6J("ngClass",c.WLB(3,KD,i.isSmallScreen,i.isMediumScreen)),c.xp6(4),c.Oqu(i.type),c.xp6(11),c.Q6J("ngForOf",i.data))},dependencies:[vo,qs,Kl,Yl],styles:[".content[_ngcontent-%COMP%]{width:100%;height:77.5vh;min-height:735px;font-family:var(--principal-font)}.content-photoholder-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg);position:absolute;margin-top:4.7%;margin-left:1.5%;cursor:pointer}.content-photoholder-arrow2[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;margin-top:4.7%;margin-left:96.2%;cursor:pointer}.content-photoholder[_ngcontent-%COMP%]{width:100%;height:30%;display:flex}.content-photoholder-boxphoto[_ngcontent-%COMP%]{width:5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-boxphoto2[_ngcontent-%COMP%]{width:100%;height:100%;border-bottom:1px solid var(--second-color);border-left:1px solid var(--second-color);border-right:1px solid var(--second-color)}.content-photoholder-boxphoto3[_ngcontent-%COMP%]{width:5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:100%}.content-photoholder-photoend[_ngcontent-%COMP%]{object-position:0%}.content-textbox[_ngcontent-%COMP%]{width:100%;height:2vh;padding-top:2.5%;position:absolute}.content-textbox-text[_ngcontent-%COMP%]{color:var(--third-color);line-height:7.5rem;font-size:12.5rem;text-align:center;max-lines:2;text-transform:uppercase}.content-textbox-text2[_ngcontent-%COMP%]{color:var(--third-color);font-size:1.5rem;text-align:center;font-weight:400;font-family:var(--second-font)}.content-bottom[_ngcontent-%COMP%]{width:100%;height:70%;display:flex}.content-bottom-sudgested[_ngcontent-%COMP%]{width:20%;height:100%;flex-wrap:wrap;display:flex;justify-content:center;align-items:center}.content-bottom-sudgested-box[_ngcontent-%COMP%]{width:70%;max-width:270px;height:90%;max-height:530px;border:1px solid var(--third-color);background-color:var(--second-color);overflow:hidden;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.content-bottom-sudgested-box-text[_ngcontent-%COMP%]{width:100%;color:var(--fourth-color);font-size:1.25rem;font-weight:700;font-family:var(--second-font);display:flex;justify-content:center}.content-bottom-sudgested-box-img[_ngcontent-%COMP%]{width:80%;margin:auto}.content-bottom-sudgested-box-text2[_ngcontent-%COMP%]{width:85%;color:var(--third-color);font-size:1.125rem;font-family:var(--second-font);text-align:center}.content-bottom-jewels[_ngcontent-%COMP%]{width:60%;border-left:1px solid var(--third-color);height:100%;overflow-y:scroll;display:flex;justify-content:space-evenly;flex-wrap:wrap;gap:1.5%}.content-bottom-jewels-box[_ngcontent-%COMP%]{width:25%;height:67%;width:286px;height:370px;margin-top:3%;display:flex;flex-wrap:wrap;gap:3.5%}.content-bottom-jewels-box-img[_ngcontent-%COMP%]{width:100%;height:290px}.content-bottom-jewels-box-name[_ngcontent-%COMP%]{width:100%;color:var(--third-color);font-size:1.25rem;font-family:var(--second-font)}.content-bottom-jewels-box-price[_ngcontent-%COMP%]{color:var(--fifth-color);font-size:1.25rem;font-family:var(--second-font);font-weight:700}.content-bottom-ads[_ngcontent-%COMP%]{width:20%;height:100%}.content-bottommobile[_ngcontent-%COMP%], .content-top[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 500px){.content-bottom-sudgested[_ngcontent-%COMP%], .content-bottom-ads[_ngcontent-%COMP%], .content-photoholder[_ngcontent-%COMP%]{display:none}.content-bottom[_ngcontent-%COMP%]{width:100%;height:49.4vh;display:flex}.content-bottom-jewels[_ngcontent-%COMP%]{width:100%;height:100%;border-left:1px solid var(--third-color);overflow-y:scroll;display:flex;justify-content:space-evenly;flex-wrap:wrap;gap:2%}.content-bottom-jewels-box[_ngcontent-%COMP%]{width:130px;height:175px;margin-top:20px;display:flex;flex-wrap:wrap;gap:4%}.content-bottom-jewels-box-img[_ngcontent-%COMP%]{width:100%;height:125px}.content-bottom-jewels-box-name[_ngcontent-%COMP%]{color:var(--third-color);font-size:.8rem;font-family:var(--second-font)}.content-bottom-jewels-box-price[_ngcontent-%COMP%]{color:var(--fifth-color);font-size:.8rem;font-family:var(--second-font);font-weight:700}.content-top[_ngcontent-%COMP%]{width:100%;height:13.8vh;border-bottom:1px solid var(--second-color);display:flex;justify-content:center;text-align:center;flex-wrap:wrap}.content-top-h1[_ngcontent-%COMP%]{width:100%;height:25%;font-size:3.125rem;font-weight:700}.content-top-text[_ngcontent-%COMP%]{width:85%;font-size:1.25rem;color:var(--third-color);font-family:var(--second-font)}.content-bottommobile[_ngcontent-%COMP%]{width:100%;height:13.8vh;border-top:1px solid var(--second-color);display:flex;flex-wrap:wrap;align-items:center}.content-bottommobile-button[_ngcontent-%COMP%]{width:60%;height:40%;margin:auto;background-color:var(--second-color);color:var(--fourth-color);border:0px solid;font-family:var(--second-font);font-weight:700}.content-bottommobile-text[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.25rem;font-family:var(--second-font);color:var(--third-color)}}"]}),n})();class Nf{}class Vy{}class Gs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const a=e.slice(0,i),d=a.toLowerCase(),f=e.slice(i+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(f):this.headers.set(d,[f])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let a;if(a="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(d=>d.toString()),a.length>0){const d=e.toLowerCase();this.headers.set(d,a),this.maybeSetNormalizedName(e,d)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":const d=t.value;if(d){let f=this.headers.get(e);if(!f)return;f=f.filter(_=>-1===d.indexOf(_)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class lA{encodeKey(t){return qE(t)}encodeValue(t){return qE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ZE=/%(\d[a-f0-9])/gi,YD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qE(n){return encodeURIComponent(n).replace(ZE,(t,e)=>YD[e]??t)}function Dg(n){return`${n}`}class mu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cA(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[f,_]=-1==d?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,d)),t.decodeValue(a.slice(d+1))],I=e.get(f)||[];I.push(_),e.set(f,I)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],a=Array.isArray(i)?i.map(Dg):[Dg(i)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const a=t[i];Array.isArray(a)?a.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new mu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Dg(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const a=i.indexOf(Dg(t.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class uA{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function JD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KE(n){return typeof Blob<"u"&&n instanceof Blob}function kf(n){return typeof FormData<"u"&&n instanceof FormData}class Lf{constructor(t,e,i,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,d=a):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Gs),this.context||(this.context=new uA),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+f}}else this.params=new mu,this.urlWithParams=e}serializeBody(){return null===this.body?null:JD(this.body)||KE(this.body)||kf(this.body)||function QD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kf(this.body)?null:KE(this.body)?this.body.type||null:JD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let I=t.headers||this.headers,A=t.params||this.params;const k=t.context??this.context;return void 0!==t.setHeaders&&(I=Object.keys(t.setHeaders).reduce((j,Y)=>j.set(Y,t.setHeaders[Y]),I)),t.setParams&&(A=Object.keys(t.setParams).reduce((j,Y)=>j.set(Y,t.setParams[Y]),A)),new Lf(e,i,d,{params:A,headers:I,context:k,reportProgress:_,responseType:a,withCredentials:f})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class za{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Tg extends za{constructor(t={}){super(t),this.type=cr.ResponseHeader}clone(t={}){return new Tg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jl extends za{constructor(t={}){super(t),this.type=cr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Jl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sg extends za{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function By(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ff=(()=>{class n{constructor(e){this.handler=e}request(e,i,a={}){let d;if(e instanceof Lf)d=e;else{let I,A;I=a.headers instanceof Gs?a.headers:new Gs(a.headers),a.params&&(A=a.params instanceof mu?a.params:new mu({fromObject:a.params})),d=new Lf(e,i,void 0!==a.body?a.body:null,{headers:I,context:a.context,params:A,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=lt(d).pipe(so(I=>this.handler.handle(I)));if(e instanceof Lf||"events"===a.observe)return f;const _=f.pipe(mr(I=>I instanceof Jl));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return _.pipe((0,Et.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return _.pipe((0,Et.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return _.pipe((0,Et.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return _.pipe((0,Et.U)(I=>I.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new mu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,By(a,i))}post(e,i,a={}){return this.request("POST",e,By(a,i))}put(e,i,a={}){return this.request("PUT",e,By(a,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Nf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ag(n,t){return t(n)}function Mg(n,t){return(e,i)=>t.intercept(e,{handle:a=>n(a,i)})}const fA=new c.OlP(""),Rg=new c.OlP(""),jy=new c.OlP("");function XD(){let n=null;return(t,e)=>(null===n&&(n=((0,c.f3M)(fA,{optional:!0})??[]).reduceRight(Mg,Ag)),n(t,e))}let YE=(()=>{class n extends Nf{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Rg),...this.injector.get(jy,[])]));this.chain=i.reduceRight((a,d)=>function hA(n,t,e){return(i,a)=>e.runInContext(()=>t(i,d=>n(d,a)))}(a,d,this.injector),Ag)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Vy),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hy=/^\)\]\}',?\n/;let QE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new c.vHH(-2800,!1);const i=function yA(){const n=()=>{};if(typeof Zone<"u"){const t=Zone.current,e=t.scheduleMacroTask("httpMacroTask",n,void 0,n,n);return()=>t.cancelTask(e)}return n}(),a=this.xhrFactory;return(a.\u0275loadImpl?(0,Tn.D)(a.\u0275loadImpl()):lt(null)).pipe(Ln(()=>new gr.y(f=>{const _=a.build();if(_.open(e.method,e.urlWithParams),e.withCredentials&&(_.withCredentials=!0),e.headers.forEach((at,mt)=>_.setRequestHeader(at,mt.join(","))),e.headers.has("Accept")||_.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const at=e.detectContentTypeHeader();null!==at&&_.setRequestHeader("Content-Type",at)}if(e.responseType){const at=e.responseType.toLowerCase();_.responseType="json"!==at?at:"text"}const I=e.serializeBody();let A=null;const k=()=>{if(null!==A)return A;const at=_.statusText||"OK",mt=new Gs(_.getAllResponseHeaders()),Ft=function oT(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(_)||e.url;return A=new Tg({headers:mt,status:_.status,statusText:at,url:Ft}),A},j=()=>{let{headers:at,status:mt,statusText:Ft,url:Mt}=k(),qt=null;204!==mt&&(qt=typeof _.response>"u"?_.responseText:_.response),0===mt&&(mt=qt?200:0);let ci=mt>=200&&mt<300;if("json"===e.responseType&&"string"==typeof qt){const iv=qt;qt=qt.replace(Hy,"");try{qt=""!==qt?JSON.parse(qt):null}catch(jf){qt=iv,ci&&(ci=!1,qt={error:jf,text:qt})}}ci?(f.next(new Jl({body:qt,headers:at,status:mt,statusText:Ft,url:Mt||void 0})),f.complete()):f.error(new Sg({error:qt,headers:at,status:mt,statusText:Ft,url:Mt||void 0}))},Y=at=>{const{url:mt}=k(),Ft=new Sg({error:at,status:_.status||0,statusText:_.statusText||"Unknown Error",url:mt||void 0});f.error(Ft),i()};let me=!1;const Oe=at=>{me||(f.next(k()),me=!0);let mt={type:cr.DownloadProgress,loaded:at.loaded};at.lengthComputable&&(mt.total=at.total),"text"===e.responseType&&_.responseText&&(mt.partialText=_.responseText),f.next(mt)},Je=at=>{let mt={type:cr.UploadProgress,loaded:at.loaded};at.lengthComputable&&(mt.total=at.total),f.next(mt)};_.addEventListener("load",j),_.addEventListener("error",Y),_.addEventListener("timeout",Y),_.addEventListener("abort",Y),e.reportProgress&&(_.addEventListener("progress",Oe),null!==I&&_.upload&&_.upload.addEventListener("progress",Je));const st=()=>i();_.addEventListener("loadend",st);try{_.send(I)}catch(at){Y(at)}return f.next({type:cr.Sent}),()=>{_.removeEventListener("loadend",st),_.removeEventListener("error",Y),_.removeEventListener("abort",Y),_.removeEventListener("load",j),_.removeEventListener("timeout",Y),i(),e.reportProgress&&(_.removeEventListener("progress",Oe),null!==I&&_.upload&&_.upload.removeEventListener("progress",Je)),_.readyState!==_.DONE&&_.abort()}})))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ya))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const XE=new c.OlP("XSRF_ENABLED"),ew=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tw=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $y{}let nw=(()=>{class n{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(c.Lbi),c.LFG(ew))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function vA(n,t){const e=n.url.toLowerCase();if(!(0,c.f3M)(XE)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,c.f3M)($y).getToken(),a=(0,c.f3M)(tw);return null!=i&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,i)})),t(n)}var Wn=(()=>((Wn=Wn||{})[Wn.Interceptors=0]="Interceptors",Wn[Wn.LegacyInterceptors=1]="LegacyInterceptors",Wn[Wn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wn[Wn.NoXsrfProtection=3]="NoXsrfProtection",Wn[Wn.JsonpSupport=4]="JsonpSupport",Wn[Wn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wn))();function _u(n,t){return{\u0275kind:n,\u0275providers:t}}function rw(...n){const t=[Ff,QE,YE,{provide:Nf,useExisting:YE},{provide:Vy,useExisting:QE},{provide:Rg,useValue:vA,multi:!0},{provide:XE,useValue:!0},{provide:$y,useClass:nw}];for(const e of n)t.push(...e.\u0275providers);return(0,c.MR2)(t)}const xg=new c.OlP("LEGACY_INTERCEPTOR_FN");let hT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rw(_u(Wn.LegacyInterceptors,[{provide:xg,useFactory:XD},{provide:Rg,useExisting:xg,multi:!0}]))]}),n})();const TA=function(n,t){return{"content-bottom-right-mid-bottom-status-btn":n,"content-bottom-right-mid-bottom-status-btn2":t}};function SA(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",2)(2,"span",3)(3,"h1",4),c._uU(4),c.qZA(),c.TgZ(5,"h2",5),c._uU(6,"Collezione 2023"),c.qZA()()(),c.TgZ(7,"div",6)(8,"div",7)(9,"div",8),c._UZ(10,"img",9)(11,"img",10)(12,"img",11),c.qZA(),c.TgZ(13,"div",12),c._UZ(14,"img",13),c.qZA()(),c.TgZ(15,"div",14)(16,"div",15)(17,"h1",16),c._uU(18),c.qZA(),c.TgZ(19,"h2",17),c._uU(20),c.qZA()(),c.TgZ(21,"div",18)(22,"button",19)(23,"a",20),c._uU(24,"ACQUISTA ORA"),c.qZA()(),c.TgZ(25,"span",21),c._uU(26),c.qZA(),c.TgZ(27,"h4",22),c._uU(28," Spedizione con corriere SDA "),c.qZA(),c.TgZ(29,"div",23)(30,"span",24),c._uU(31," Descrizione e dettagli "),c.qZA(),c.TgZ(32,"button",25),c._uU(33),c.qZA()()(),c.TgZ(34,"div",26)(35,"span",27),c._uU(36),c.qZA()()()(),c.TgZ(37,"div",28)(38,"div",29)(39,"span",30),c._UZ(40,"img",31),c.qZA(),c.TgZ(41,"span",32),c._UZ(42,"img",33),c.qZA(),c.TgZ(43,"span",34),c._UZ(44,"img",35),c.qZA()()(),c.TgZ(45,"div",36)(46,"div",37)(47,"h1",38),c._uU(48),c.qZA(),c.TgZ(49,"h2",39),c._uU(50),c.qZA(),c.TgZ(51,"button",40)(52,"a",20),c._uU(53),c.qZA()()(),c.TgZ(54,"div",41)(55,"span",24),c._uU(56," Descrizione e dettagli "),c.qZA(),c.TgZ(57,"button",42),c._uU(58),c.qZA()(),c.TgZ(59,"div",43),c._UZ(60,"span",27),c.qZA()(),c.BQk()),2&n){const e=c.oxw();c.xp6(4),c.hij(" ",e.data.nome," "),c.xp6(6),c.s9C("src",e.data.foto2,c.LSH),c.xp6(1),c.s9C("src",e.data.foto3,c.LSH),c.xp6(1),c.s9C("src",e.data.foto4,c.LSH),c.xp6(2),c.s9C("src",e.data.foto1,c.LSH),c.xp6(4),c.hij(" ",e.data.nome," "),c.xp6(2),c.hij(" ",e.data.descrizione," "),c.xp6(6),c.hij(" ",e.data.prezzo," \u20ac "),c.xp6(6),c.Q6J("ngClass",c.WLB(18,TA,e.disponibile,!e.disponibile)),c.xp6(1),c.hij(" ",e.data.disponibilita," "),c.xp6(3),c.Oqu(e.data.dettagli),c.xp6(4),c.s9C("src",e.data.foto2,c.LSH),c.xp6(2),c.s9C("src",e.data.foto3,c.LSH),c.xp6(2),c.s9C("src",e.data.foto4,c.LSH),c.xp6(4),c.hij(" ",e.data.nome," "),c.xp6(2),c.hij(" ",e.data.descrizione," "),c.xp6(3),c.hij("ACQUISTA ORA \u20ac ",e.data.prezzo," "),c.xp6(5),c.hij(" ",e.data.disponibilita," ")}}let gT=(()=>{class n{constructor(e,i,a){this.route=e,this.http=i,this.firebase=a,this.disponibile=!1,this.dbUrl=Ls_firebase.databaseURL}ngOnInit(){this.route.queryParams.subscribe(e=>{this.bijouxID=e.bijoux,this.bijouxType=e.bijoux_type,this.firebase.getDataFromDB(this.bijouxType).subscribe(i=>{this.data=Object.values(i);let a=this.bijouxID,d=this.data.find(f=>f.id.toString().includes(a));d?(console.log(d),this.data=d,console.log("ok?",this.data.disponibilita),"disponibile"==this.data.disponibilita&&(this.disponibile=!0)):console.log(`${this.bijouxType} non trovato`)})})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ra),c.Y36(Ff),c.Y36(ql))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bijoux-buy"]],decls:4,vars:1,consts:[[1,"content"],[4,"ngIf"],[1,"content-top"],[1,"content-top-container"],["id","nameebuyhtmlpage2",1,"content-top-container-text"],[1,"content-top-container-text2"],[1,"content-bottom"],[1,"content-bottom-left"],[1,"content-bottom-left-left"],["id","foto2",1,"content-bottom-left-left-img2",3,"src"],["id","foto3",1,"content-bottom-left-left-img2",3,"src"],["id","foto4",1,"content-bottom-left-left-img3",3,"src"],[1,"content-bottom-left-right"],["id","foto1",1,"content-bottom-left-left-img",3,"src"],[1,"content-bottom-right"],[1,"content-bottom-right-top"],["id","nameebuyhtmlpage",1,"content-bottom-right-top-text1"],["id","descriptionbuyhtmlpage",1,"content-bottom-right-top-text2"],[1,"content-bottom-right-mid"],[1,"content-bottom-right-mid-button"],["href","https://www.facebook.com/groups/249494716844104/"],["id","pricebuyhtmlpage",1,"content-bottom-right-mid-text"],[1,"content-bottom-right-mid-text2"],[1,"content-bottom-right-mid-bottom"],[1,"content-bottom-right-mid-bottom-text3"],[3,"ngClass"],[1,"content-bottom-right-bottom"],[1,"content-bottom-right-bottom-text"],[1,"content-top-mobile"],[1,"content-photoholder"],[1,"content-photoholder-boxphoto"],["id","foto4mobile","alt","diva",1,"content-photoholder-photo",3,"src"],[1,"content-photoholder-boxphoto2"],["id","fotomobile","alt","diva",1,"content-photoholder-photo",3,"src"],[1,"content-photoholder-boxphoto3"],["id","foto2mobile","alt","diva",1,"content-photoholder-photo","content-photoholder-photoend",3,"src"],[1,"content-bottom-mobile"],[1,"content-bottom-top-mobile"],["id","nameebuyhtmlpagemobile",1,"content-bottom-top-text"],["id","descriptionbuyhtmlpagemobile",1,"content-bottom-top-text2"],["id","pricebuyhtmlpagemobile",1,"content-bottom-top-btn"],[1,"content-bottom-mid-mobile"],[1,"content-bottom-right-mid-bottom-status-btn"],[1,"content-bottom-bottom-mobile"]],template:function(e,i){1&e&&(c._UZ(0,"app-top"),c.TgZ(1,"div",0),c.YNc(2,SA,61,21,"ng-container",1),c._UZ(3,"app-bottom"),c.qZA()),2&e&&(c.xp6(2),c.Q6J("ngIf",i.data))},dependencies:[vo,Ks,Kl,Yl],styles:[".content[_ngcontent-%COMP%]{width:100%;height:77.5vh;min-height:735px;font-family:var(--principal-font)}.content-top[_ngcontent-%COMP%]{width:100%;height:25%;max-height:180px}.content-bottom[_ngcontent-%COMP%]{width:100%;height:75%;display:flex}.content-top-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-wrap:wrap;justify-content:center}.content-top-container-text[_ngcontent-%COMP%]{width:100%;height:69%;font-size:12.5rem;font-family:var(--principal-font);text-align:center;overflow:hidden;color:var(--third-color);text-transform:uppercase}.content-top-container-text2[_ngcontent-%COMP%]{width:100%;height:9%;font-size:1.5rem;font-family:var(--second-font);text-align:center;color:var(--third-color)}.content-bottom-left[_ngcontent-%COMP%]{width:52%;height:100%;display:flex}.content-bottom-left-left[_ngcontent-%COMP%]{width:450px;height:500px;margin-left:26px;display:flex;flex-direction:column;margin-top:25px}.content-bottom-left-left-img2[_ngcontent-%COMP%]{width:142px;height:142px;max-width:142px;margin-left:auto;border:1px solid var(--second-color);margin-bottom:29px}.content-bottom-left-left-img3[_ngcontent-%COMP%]{width:142px;height:142px;max-width:142px;margin-left:auto;border:1px solid var(--second-color)}.content-bottom-left-left-img[_ngcontent-%COMP%]{width:489px;height:489px;max-width:489px;border:1px solid var(--second-color)}.content-bottom-left-right[_ngcontent-%COMP%]{width:55%;min-width:550px;height:500px;display:flex;justify-content:center;margin-top:25px}.content-bottom-right[_ngcontent-%COMP%]{width:43%;height:100%;display:flex;flex-direction:column}.content-bottom-right-top[_ngcontent-%COMP%]{width:100%;height:136px;margin-top:25px}.content-bottom-right-top-text1[_ngcontent-%COMP%]{width:100%;height:23%;font-size:2.5rem;color:var(--third-color);font-family:var(--second-font);font-weight:700;overflow:hidden;margin-bottom:20px;margin-top:15px;text-transform:capitalize}.content-bottom-right-top-text2[_ngcontent-%COMP%]{width:100%;height:19%;font-size:1.875rem;color:var(--third-color);font-family:var(--second-font);overflow:hidden}.content-bottom-right-mid[_ngcontent-%COMP%]{width:100%;height:191px}.content-bottom-right-bottom[_ngcontent-%COMP%]{width:98.7%;height:152px;padding:5px;overflow-y:auto;border:1px solid var(--second-color)}.content-bottom-right-mid-button[_ngcontent-%COMP%]{width:231px;height:55px;color:var(--fourth-color);background-color:var(--second-color);font-size:1.4rem;font-weight:700;font-family:var(--second-font);border:0px}.content-bottom-right-mid-text[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--fifth-color);font-weight:700;font-family:var(--second-font);margin-left:18px}.content-bottom-right-mid-text2[_ngcontent-%COMP%]{color:var(--third-color);font-size:1.25rem;font-family:var(--second-font);margin-top:30px;margin-bottom:57px}.content-bottom-right-mid-bottom[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.content-bottom-right-mid-bottom-text3[_ngcontent-%COMP%]{width:100%;font-size:1.563rem;font-weight:700;color:var(--fifth-color);font-family:var(--second-font)}.content-bottom-right-mid-bottom-status-btn[_ngcontent-%COMP%]{width:90px;height:30px;color:var(--avaible-color);font-family:var(--second-font);font-size:.938rem;font-weight:700;background-color:var(--principal-color);border:1px solid var(--second-color);border-bottom:0px}.content-bottom-right-mid-bottom-status-btn2[_ngcontent-%COMP%]{width:90px;height:30px;color:var(--notavaible-color);font-family:var(--second-font);font-size:.938rem;font-weight:700;background-color:var(--principal-color);border:1px solid var(--second-color);border-bottom:0px}.content-bottom-right-bottom-text[_ngcontent-%COMP%]{color:var(--third-color);font-size:1.25rem;font-family:var(--second-font)}.content-bottom-left-left-mobile[_ngcontent-%COMP%], .content-bottom-left-left-mobile-container[_ngcontent-%COMP%], .content-top-mobile[_ngcontent-%COMP%], .content-bottom-mobile[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 1400px){.content-bottom-left-left[_ngcontent-%COMP%]{display:none}.content-bottom-left-right[_ngcontent-%COMP%]{width:95%;min-width:0px;margin-top:25px;justify-content:flex-end;padding-right:30px}.content-top-container-text[_ngcontent-%COMP%]{width:100%;height:60%;font-size:9.8rem;font-family:var(--principal-font);text-align:center;overflow:hidden;color:var(--third-color)}.content-top-container-text2[_ngcontent-%COMP%]{width:100%;height:18%;font-size:1.5rem;font-family:var(--second-font);text-align:center;color:var(--third-color)}}@media only screen and (max-width: 1100px){.content-top[_ngcontent-%COMP%], .content-bottom[_ngcontent-%COMP%]{display:none}.content-top-mobile[_ngcontent-%COMP%], .content-bottom-mobile[_ngcontent-%COMP%]{display:block}.content-photoholder-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg);position:absolute;margin-top:26%;margin-left:3%;cursor:pointer}.content-photoholder-arrow2[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;margin-top:26%;margin-left:86%;cursor:pointer}.content-photoholder[_ngcontent-%COMP%]{width:100%;height:40%;display:flex}.content-photoholder-boxphoto[_ngcontent-%COMP%]{width:12.5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-boxphoto2[_ngcontent-%COMP%]{width:75%;height:100%;border-bottom:1px solid var(--second-color);border-left:1px solid var(--second-color);border-right:1px solid var(--second-color)}.content-photoholder-boxphoto3[_ngcontent-%COMP%]{width:12.5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:100%}.content-photoholder-photoend[_ngcontent-%COMP%]{object-position:0%}.content-bottom-top-mobile[_ngcontent-%COMP%]{width:100%;height:130px;display:flex;justify-content:center;align-items:center;flex-direction:column}.content-bottom-top-text[_ngcontent-%COMP%]{height:30%;color:var(--fifth-color);font-size:1.3rem;font-weight:700;font-family:var(--second-font);text-align:center}.content-bottom-top-text2[_ngcontent-%COMP%]{height:30%;color:var(--third-color);font-size:.938rem;font-family:var(--second-font);text-align:center}.content-bottom-top-btn[_ngcontent-%COMP%]{width:200px;height:30px;color:var(--fourth-color);background-color:var(--second-color);font-size:.85rem;font-weight:700;font-family:var(--second-font);border:0px}.content-bottom-mid-mobile[_ngcontent-%COMP%]{width:83.5%;display:flex;justify-content:space-between;margin:10px auto auto}.content-bottom-right-mid-bottom-text3[_ngcontent-%COMP%]{width:100%;font-size:.938rem;margin-top:10px;font-weight:700;color:var(--fifth-color);font-family:var(--second-font)}.content-bottom-right-mid-bottom-status-btn[_ngcontent-%COMP%]{width:90px;height:30px;color:var(--avaible-color);font-family:var(--second-font);font-size:.938rem;font-weight:700;background-color:var(--principal-color);border:1px solid var(--second-color);border-bottom:0px}.content-bottom-right-mid-bottom-status-btn2[_ngcontent-%COMP%]{width:90px;height:30px;color:var(--notavaible-color);font-family:var(--second-font);font-size:.938rem;font-weight:700;background-color:var(--principal-color);border:1px solid var(--second-color);border-bottom:0px}.content-bottom-bottom-mobile[_ngcontent-%COMP%]{width:80%;height:20%;border:1px solid var(--second-color);margin:auto;overflow-y:auto;padding:5px}.content-bottom-right-bottom-text[_ngcontent-%COMP%]{color:var(--third-color);font-size:.938rem;font-family:var(--second-font)}}@media only screen and (max-width: 500px){.content-bottom-bottom-mobile[_ngcontent-%COMP%]{width:80%;height:20vh;border:1px solid var(--second-color);margin:auto;overflow-y:auto;padding:5px}}"]}),n})();var Ql=L(1389);let mT=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this.authStateSubject=new kr.x,this.authState$=this.authStateSubject.asObservable(),this.apiKey=Ls_firebase.apiKey,this.signUpURL=`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${this.apiKey}`,this.signInURL=`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${this.apiKey}`,(0,po.ZF)(Ls_firebase),this.initializeAuth()}initializeAuth(){console.log("inizializzazione");const e=(0,Ql.o)();console.log("inizializzazione ayth",e),(0,Ql.x)(e,i=>{console.log("user:",i),i?(console.log("Sei loggato come:",i.email),this.isLoggedIn=!0,console.log("inizializzazione auth pt.2",e),this.authStateSubject.next(this.isLoggedIn)):(console.log("Non sei ancora loggato/Ti sei appena disconnesso"),this.isLoggedIn=!1)})}isLoggedInFn(){const e=(0,Ql.o)();return new gr.y(i=>{const a=(0,Ql.x)(e,d=>{d?(console.log("Sei loggato come:",d.email),this.isLoggedIn=!0,this.authStateSubject.next(this.isLoggedIn),i.next(!0)):(console.log("Non sei loggato"),this.isLoggedIn=!1,this.authStateSubject.next(this.isLoggedIn),this.router.navigate([""]),i.next(!1))});return()=>{a()}})}signIn(e){return this.http.post(this.signInURL,e)}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ff),c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_T=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),qd=(()=>{class n extends _T{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Zs=new c.OlP("NgValueAccessor"),o={provide:Zs,useExisting:(0,c.Gpc)(()=>u),multi:!0},l=new c.OlP("CompositionEventMode");let u=(()=>{class n extends _T{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(l,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[c._Bn([o]),c.qOj]}),n})();const v=new c.OlP("NgValidators"),E=new c.OlP("NgAsyncValidators");function X(n){return function h(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function ht(n){return null}function Lt(n){return null!=n}function tn(n){return(0,c.QGY)(n)?(0,Tn.D)(n):n}function $o(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Wy(n,t){return t.map(e=>e(n))}function RA(n){return n.map(t=>function lR(n){return!n.validate}(t)?t:e=>t.validate(e))}function yT(n){return null!=n?function PA(n){if(!n)return null;const t=n.filter(Lt);return 0==t.length?null:function(e){return $o(Wy(e,t))}}(RA(n)):null}function vT(n){return null!=n?function xA(n){if(!n)return null;const t=n.filter(Lt);return 0==t.length?null:function(e){return function AA(...n){const t=(0,Ri.jO)(n),{args:e,keys:i}=Pi(n),a=new gr.y(d=>{const{length:f}=e;if(!f)return void d.complete();const _=new Array(f);let I=f,A=f;for(let k=0;k<f;k++){let j=!1;(0,Zr.Xf)(e[k]).subscribe((0,jn.x)(d,Y=>{j||(j=!0,A--),_[k]=Y},()=>I--,void 0,()=>{(!I||!j)&&(A||d.next(i?Po(i,_):_),d.complete())}))}});return t?a.pipe(Fr(t)):a}(Wy(e,t).map(tn)).pipe((0,Et.U)($o))}}(RA(n)):null}function OA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function CT(n){return n?Array.isArray(n)?n:[n]:[]}function iw(n,t){return Array.isArray(n)?n.includes(t):n===t}function LA(n,t){const e=CT(t);return CT(n).forEach(a=>{iw(e,a)||e.push(a)}),e}function FA(n,t){return CT(t).filter(e=>!iw(n,e))}class UA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class go extends UA{get formDirective(){return null}get path(){return null}}class Kd extends UA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ow=(()=>{class n extends VA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kd,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),bT=(()=>{class n extends VA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(go,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const Gy="VALID",aw="INVALID",Ng="PENDING",Zy="DISABLED";function IT(n){return(lw(n)?n.validators:n)||null}function DT(n,t){return(lw(t)?t.asyncValidators:n)||null}function lw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $A{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gy}get invalid(){return this.status===aw}get pending(){return this.status==Ng}get disabled(){return this.status===Zy}get enabled(){return this.status!==Zy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FA(t,this._rawAsyncValidators))}hasValidator(t){return iw(this._rawValidators,t)}hasAsyncValidator(t){return iw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ng,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zy,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gy||this.status===Ng)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zy:Gy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ng,this._hasOwnPendingAsyncValidator=!0;const e=tn(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Zy:this.errors?aw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ng)?Ng:this._anyControlsHaveStatus(aw)?aw:Gy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function hR(n){return Array.isArray(n)?yT(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function fR(n){return Array.isArray(n)?vT(n):n||null}(this._rawAsyncValidators)}}class TT extends $A{constructor(t,e,i){super(IT(e),DT(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function HA(n,t,e){n._forEachChild((i,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function jA(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const a=this.controls[i];a&&a.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,a)=>((i.enabled||this.disabled)&&(e[a]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,d)=>{i=e(i,a,d)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Uf=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qy}),qy="always";function Ky(n,t,e=qy){ST(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function mR(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zA(n,t)})}(n,t),function yR(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function _R(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zA(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gR(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function dw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ST(n,t){const e=function NA(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(OA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function kA(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(OA(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();dw(t._rawValidators,a),dw(t._rawAsyncValidators,a)}function zA(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const wR={provide:go,useExisting:(0,c.Gpc)(()=>Jy)},Yy=(()=>Promise.resolve())();let Jy=(()=>{class n extends go{constructor(e,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new TT({},yT(e),vT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Yy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ky(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Yy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Yy.then(()=>{const i=this._findContainer(e.path),a=new TT({});(function WA(n,t){ST(n,t)})(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Yy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Yy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function GA(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(v,10),c.Y36(E,10),c.Y36(Uf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([wR]),c.qOj]}),n})();function ZA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function qA(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const KA=class extends $A{constructor(t=null,e,i){super(IT(e),DT(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qA(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){qA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},TR={provide:Kd,useExisting:(0,c.Gpc)(()=>Qy)},QA=(()=>Promise.resolve())();let Qy=(()=>{class n extends Kd{constructor(e,i,a,d,f,_){super(),this._changeDetectorRef=f,this.callSetDisabledState=_,this.control=new KA,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function RT(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(d=>{d.constructor===u?e=d:function bR(n){return Object.getPrototypeOf(n.constructor)===qd}(d)?i=d:a=d}),a||i||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function MT(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ky(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){QA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,c.D6c)(i);QA.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function cw(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(go,9),c.Y36(v,10),c.Y36(E,10),c.Y36(Zs,10),c.Y36(c.sBO,8),c.Y36(Uf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([TR]),c.qOj,c.TTD]}),n})(),PT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const SR={provide:Zs,useExisting:(0,c.Gpc)(()=>xT),multi:!0};let xT=(()=>{class n extends qd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([SR]),c.qOj]}),n})();const AR={provide:Zs,useExisting:(0,c.Gpc)(()=>OT),multi:!0};let XA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),MR=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:XA}),n})(),OT=(()=>{class n extends qd{constructor(e,i,a,d){super(e,i),this._registry=a,this._injector=d,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.f3M)(Uf,{optional:!0})??qy}ngOnInit(){this._control=this._injector.get(Kd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(MR),c.Y36(c.zs3))},n.\u0275dir=c.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([AR]),c.qOj]}),n})();const NT=new c.OlP("NgModelWithFormControlWarning");let Vf=(()=>{class n{constructor(){this._validator=ht}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ht,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const zR={provide:v,useExisting:(0,c.Gpc)(()=>Xy),multi:!0};let Xy=(()=>{class n extends Vf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=e=>X}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([zR]),c.qOj]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[XA]}),n})(),JR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Uf,useValue:e.callSetDisabledState??qy}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gM]}),n})(),QR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:NT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Uf,useValue:e.callSetDisabledState??qy}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gM]}),n})(),XR=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}onSubmit(e){if(e.valid){const i=e.value.email,a=e.value.password;if(this.authService.validateEmail(i)){const d=(0,Ql.o)();(0,Ql.a9)(d,i,a).then(f=>{console.log("ti sei appena loggato come:",i)}).catch(f=>{console.log("credenziali errate,",f.code,", ",f.message)})}else console.log("email non valida")}}signOutt(){const e=(0,Ql.o)();(0,Ql.B)(e).then(()=>{this.router.navigate([""])}).catch(i=>{console.log("errore",i)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(mT),c.Y36(Vr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:1,consts:[["id","divtodestroy"],[2,"margin","30px","font-family","var(--second-font)"],[1,"h1"],[3,"ngSubmit"],["homeform","ngForm"],["matInput","","type","email","name","email","ngModel","","required","",1,"input"],["matInput","","type","password","name","password","ngModel","","required","",1,"input"],["type","submit",1,"button",3,"disabled"],[1,"buttons"],[1,"button2",3,"click"],["routerLink","admin",1,"button2",2,"margin-bottom","50px"]],template:function(e,i){if(1&e){const a=c.EpF();c.TgZ(0,"div",0),c._UZ(1,"app-top"),c.TgZ(2,"div",1)(3,"h1",2),c._uU(4,"Login page"),c.qZA(),c.TgZ(5,"form",3,4),c.NdJ("ngSubmit",function(){c.CHM(a);const f=c.MAs(6);return c.KtG(i.onSubmit(f))}),c.TgZ(7,"span"),c._uU(8," Email: "),c.qZA(),c._UZ(9,"input",5)(10,"br"),c.TgZ(11,"span"),c._uU(12," Password: "),c.qZA(),c._UZ(13,"input",6)(14,"br"),c.TgZ(15,"button",7),c._uU(16,"Login"),c.qZA()(),c.TgZ(17,"div",8)(18,"button",9),c.NdJ("click",function(){return i.signOutt()}),c._uU(19,"Logout"),c.qZA(),c.TgZ(20,"button",10),c._uU(21,"ADMIN"),c.qZA()()(),c._UZ(22,"app-bottom"),c.qZA(),c._UZ(23,"router-outlet")}if(2&e){const a=c.MAs(6);c.xp6(15),c.Q6J("disabled",!a.valid)}},dependencies:[PT,u,ow,bT,Xy,Qy,Jy,Xu,zt,Kl,Yl],styles:[".h1[_ngcontent-%COMP%]{font-size:50px;text-align:center;margin-bottom:20px}.input[_ngcontent-%COMP%]{width:90%;height:25px;margin-bottom:10px;border:1px solid var(--second-color);padding-left:10px}.input[_ngcontent-%COMP%]:focus{border:1px solid var(--fourth-color)}.button[_ngcontent-%COMP%]{width:200px;height:25px;margin:10px auto auto;display:block;font-weight:700}.buttons[_ngcontent-%COMP%]{display:flex;margin-top:20px}.button2[_ngcontent-%COMP%]{width:150px;height:25px;margin:10px auto auto;display:block;font-weight:700}"]}),n})(),eP=(()=>{class n{constructor(e,i,a){this.router=e,this.FirebaseService=i,this.db=a,this.dbUrl=Ls_firebase.databaseURL}ngOnInit(){document.getElementById("divtodestroy").style.display="none",this.FirebaseService.getDataFromDB("announce").subscribe(e=>{this.announce=e.announce,console.log(this.announce)})}ruoterLink(e){this.router.navigate(["/login/bijoux2"],{queryParams:{type2:e}})}announceChange(){this.FirebaseService.sendDataToDB("announce",{announce:this.announce})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Vr),c.Y36(ql),c.Y36(Gd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin"]],decls:26,vars:2,consts:[["routerLink","/login/newbijoux",1,"content-bottom-right-mid-button"],[1,"divRuoter"],[1,"btnRuoter",3,"click"],["src","/assets/photo/stebijoux.jpg",1,"imgRuoter"],["src","/assets/photo/bracciali.jpg",1,"imgRuoter"],["src","/assets/photo/orecchini.jpg",1,"imgRuoter"],["src","/assets/photo/collane.jpg",1,"imgRuoter"],["src","/assets/photo/foto.jpg",1,"imgRuoter"],[1,"formh1",2,"margin-top","80px"],["type","text","name","announce","id","announce",1,"input",3,"ngModel","placeholder","ngModelChange"],[1,"content-bottom-right-mid-button",3,"click"]],template:function(e,i){1&e&&(c._UZ(0,"app-top"),c.TgZ(1,"button",0),c._uU(2," CREA NUOVO GIOIELLO "),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"div",1)(5,"button",2),c.NdJ("click",function(){return i.ruoterLink("setbijoux")}),c._uU(6," setbijoux "),c._UZ(7,"img",3),c.qZA(),c.TgZ(8,"button",2),c.NdJ("click",function(){return i.ruoterLink("bracciali")}),c._uU(9," bracciali "),c._UZ(10,"img",4),c.qZA(),c.TgZ(11,"button",2),c.NdJ("click",function(){return i.ruoterLink("orecchini")}),c._uU(12," orecchini "),c._UZ(13,"img",5),c.qZA(),c.TgZ(14,"button",2),c.NdJ("click",function(){return i.ruoterLink("collane")}),c._uU(15," collane "),c._UZ(16,"img",6),c.qZA(),c.TgZ(17,"button",2),c.NdJ("click",function(){return i.ruoterLink("anelli")}),c._uU(18," ANELLI "),c._UZ(19,"img",7),c.qZA()(),c.TgZ(20,"div",8),c._uU(21," CAMBIA ANNUNCIO "),c.qZA(),c.TgZ(22,"input",9),c.NdJ("ngModelChange",function(d){return i.announce=d}),c.qZA(),c.TgZ(23,"button",10),c.NdJ("click",function(){return i.announceChange()}),c._uU(24,"conferma cambio annuncio"),c.qZA(),c._UZ(25,"app-bottom")),2&e&&(c.xp6(22),c.Q6J("ngModel",i.announce)("placeholder",i.announce))},dependencies:[u,ow,Qy,zt,Kl,Yl],styles:[".content-bottom-right-mid-button[_ngcontent-%COMP%]{width:231px;height:55px;color:var(--fourth-color);background-color:var(--second-color);font-size:1.4rem;font-weight:700;font-family:var(--second-font);border:0px;margin:50px auto;display:block}.imgRuoter[_ngcontent-%COMP%]{width:200px;height:180px;margin-bottom:10px;text-align:center;display:block}.btnRuoter[_ngcontent-%COMP%]{font-size:30px;font-weight:700;font-family:var(--second-font);padding:20px 10px 10px;background-color:var(--primary-color);margin:auto auto 30px;display:block}.divRuoter[_ngcontent-%COMP%]{width:80%;margin:auto}.input[_ngcontent-%COMP%]{margin:auto;text-align:center;display:block;width:80%;height:40px;background-color:transparent;border:solid 1px black;font-size:20px}.formh1[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:center;font-family:var(--second-font);margin-top:13px;margin-bottom:13px}"]}),n})();const mM="firebasestorage.googleapis.com",_M="storageBucket";class ur extends U.ZR{constructor(t,e,i=0){super(BT(t),`Firebase Storage: ${e} (${BT(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return BT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dt=(()=>((Dt=Dt||{}).UNKNOWN="unknown",Dt.OBJECT_NOT_FOUND="object-not-found",Dt.BUCKET_NOT_FOUND="bucket-not-found",Dt.PROJECT_NOT_FOUND="project-not-found",Dt.QUOTA_EXCEEDED="quota-exceeded",Dt.UNAUTHENTICATED="unauthenticated",Dt.UNAUTHORIZED="unauthorized",Dt.UNAUTHORIZED_APP="unauthorized-app",Dt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Dt.INVALID_CHECKSUM="invalid-checksum",Dt.CANCELED="canceled",Dt.INVALID_EVENT_NAME="invalid-event-name",Dt.INVALID_URL="invalid-url",Dt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Dt.NO_DEFAULT_BUCKET="no-default-bucket",Dt.CANNOT_SLICE_BLOB="cannot-slice-blob",Dt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Dt.NO_DOWNLOAD_URL="no-download-url",Dt.INVALID_ARGUMENT="invalid-argument",Dt.INVALID_ARGUMENT_COUNT="invalid-argument-count",Dt.APP_DELETED="app-deleted",Dt.INVALID_ROOT_OPERATION="invalid-root-operation",Dt.INVALID_FORMAT="invalid-format",Dt.INTERNAL_ERROR="internal-error",Dt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Dt))();function BT(n){return"storage/"+n}function jT(){return new ur(Dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yM(){return new ur(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vM(){return new ur(Dt.CANCELED,"User canceled the upload/download.")}function CM(){return new ur(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HT(n){return new ur(Dt.INVALID_ARGUMENT,n)}function bM(){return new ur(Dt.APP_DELETED,"The Firebase app was deleted.")}function ev(n,t){return new ur(Dt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function tv(n){throw new ur(Dt.INTERNAL_ERROR,"Internal error: "+n)}class mo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=mo.makeFromUrl(t,e)}catch{return new mo(t,"")}if(""===i.path)return i;throw function dP(n){return new ur(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+a+"(/(.*))?$","i");function A(Mt){Mt.path_=decodeURIComponent(Mt.path)}const j=e.replace(/[.]/g,"\\."),Ft=[{regex:_,indices:{bucket:1,path:3},postModify:function d(Mt){"/"===Mt.path.charAt(Mt.path.length-1)&&(Mt.path_=Mt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${j}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${e===mM?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let Mt=0;Mt<Ft.length;Mt++){const qt=Ft[Mt],ci=qt.regex.exec(t);if(ci){let jf=ci[qt.indices.path];jf||(jf=""),i=new mo(ci[qt.indices.bucket],jf),qt.postModify(i);break}}if(null==i)throw function uP(n){return new ur(Dt.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class _P{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function fw(n){return"string"==typeof n||n instanceof String}function EM(n){return $T()&&n instanceof Blob}function $T(){return typeof Blob<"u"&&!(0,U.UG)()}function zT(n,t,e,i){if(i<t)throw HT(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw HT(`Invalid value for '${n}'. Expected ${e} or less.`)}function yu(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wM(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var zo=(()=>((zo=zo||{})[zo.NO_ERROR=0]="NO_ERROR",zo[zo.NETWORK_ERROR=1]="NETWORK_ERROR",zo[zo.ABORT=2]="ABORT",zo))();function IM(n,t){const e=n>=500&&n<600,a=-1!==[408,429].indexOf(n),d=-1!==t.indexOf(n);return e||a||d}class wP{constructor(t,e,i,a,d,f,_,I,A,k,j,Y=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=d,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=I,this.timeout_=A,this.progressCallback_=k,this.connectionFactory_=j,this.retry=Y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((me,Oe)=>{this.resolve_=me,this.reject_=Oe,this.start_()})}start_(){const e=(i,a)=>{const d=this.resolve_,f=this.reject_,_=a.connection;if(a.wasSuccessCode)try{const I=this.callback_(_,_.getResponse());!function CP(n){return void 0!==n}(I)?d():d(I)}catch(I){f(I)}else if(null!==_){const I=jT();I.serverResponse=_.getErrorText(),f(this.errorCallback_?this.errorCallback_(_,I):I)}else f(a.canceled?this.appDelete_?bM():vM():yM())};this.canceled_?e(0,new pw(!1,null,!0)):this.backoffId_=function yP(n,t,e){let i=1,a=null,d=null,f=!1,_=0;function I(){return 2===_}let A=!1;function k(...st){A||(A=!0,t.apply(null,st))}function j(st){a=setTimeout(()=>{a=null,n(me,I())},st)}function Y(){d&&clearTimeout(d)}function me(st,...at){if(A)return void Y();if(st)return Y(),void k.call(null,st,...at);if(I()||f)return Y(),void k.call(null,st,...at);let Ft;i<64&&(i*=2),1===_?(_=2,Ft=0):Ft=1e3*(i+Math.random()),j(Ft)}let Oe=!1;function Je(st){Oe||(Oe=!0,Y(),!A&&(null!==a?(st||(_=2),clearTimeout(a),j(0)):st||(_=1)))}return j(0),d=setTimeout(()=>{f=!0,Je(!0)},e),Je}((i,a)=>{if(a)return void i(!1,new pw(!1,null,!0));const d=this.connectionFactory_();this.pendingConnection_=d;const f=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&d.addUploadProgressListener(f),d.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&d.removeUploadProgressListener(f),this.pendingConnection_=null;const _=d.getErrorCode()===zo.NO_ERROR,I=d.getStatus();if(!_||IM(I,this.additionalRetryCodes_)&&this.retry){const k=d.getErrorCode()===zo.ABORT;return void i(!1,new pw(!1,null,k))}const A=-1!==this.successCodes_.indexOf(I);i(!0,new pw(A,d))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function vP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pw{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function RP(...n){const t=function MP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if($T())return new Blob(n);throw new ur(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class WT{constructor(t,e){this.data=t,this.contentType=e||null}}function TM(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function SM(n,t){switch(n){case Wa.BASE64:{const a=-1!==t.indexOf("-"),d=-1!==t.indexOf("_");if(a||d)throw ev(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wa.BASE64URL:{const a=-1!==t.indexOf("+"),d=-1!==t.indexOf("/");if(a||d)throw ev(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function xP(n){if(typeof atob>"u")throw function gP(n){return new ur(Dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(a){throw a.message.includes("polyfill")?a:ev(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class AM{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw ev(Wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function LP(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class vu{constructor(t,e){let i=0,a="";EM(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(EM(this.data_)){const a=function PP(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new vu(a)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new vu(i,!0)}}static getBlob(...t){if($T()){const e=t.map(i=>i instanceof vu?i.data_:i);return new vu(RP.apply(null,e))}{const e=t.map(f=>fw(f)?function DM(n,t){switch(n){case Wa.RAW:return new WT(TM(t));case Wa.BASE64:case Wa.BASE64URL:return new WT(SM(n,t));case Wa.DATA_URL:return new WT(function NP(n){const t=new AM(n);return t.base64?SM(Wa.BASE64,t.rest):function OP(n){let t;try{t=decodeURIComponent(n)}catch{throw ev(Wa.DATA_URL,"Malformed data URL.")}return TM(t)}(t.rest)}(t),function kP(n){return new AM(n).contentType}(t))}throw jT()}(Wa.RAW,f).data:f.data_);let i=0;e.forEach(f=>{i+=f.byteLength});const a=new Uint8Array(i);let d=0;return e.forEach(f=>{for(let _=0;_<f.length;_++)a[d++]=f[_]}),new vu(a,!0)}}uploadData(){return this.data_}}function GT(n){let t;try{t=JSON.parse(n)}catch{return null}return function EP(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function MM(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function VP(n,t){return t}class _o{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||VP}}let gw=null;function nv(){if(gw)return gw;const n=[];n.push(new _o("bucket")),n.push(new _o("generation")),n.push(new _o("metageneration")),n.push(new _o("name","fullPath",!0));const e=new _o("name");e.xform=function t(d,f){return function BP(n){return!fw(n)||n.length<2?n:MM(n)}(f)},n.push(e);const a=new _o("size");return a.xform=function i(d,f){return void 0!==f?Number(f):f},n.push(a),n.push(new _o("timeCreated")),n.push(new _o("updated")),n.push(new _o("md5Hash",null,!0)),n.push(new _o("cacheControl",null,!0)),n.push(new _o("contentDisposition",null,!0)),n.push(new _o("contentEncoding",null,!0)),n.push(new _o("contentLanguage",null,!0)),n.push(new _o("contentType",null,!0)),n.push(new _o("metadata","customMetadata",!0)),gw=n,gw}function RM(n,t,e){const i=GT(t);return null===i?null:function HP(n,t,e){const i={type:"file"},a=e.length;for(let d=0;d<a;d++){const f=e[d];i[f.local]=f.xform(i,t[f.server])}return function jP(n,t){Object.defineProperty(n,"ref",{get:function e(){const d=new mo(n.bucket,n.fullPath);return t._makeStorageReference(d)}})}(i,n),i}(n,i,e)}function ZT(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const d=t[a];d.writable&&(e[d.server]=n[d.local])}return JSON.stringify(e)}class Xl{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ec(n){if(!n)throw jT()}function mw(n,t){return function e(i,a){const d=RM(n,a,t);return ec(null!==d),d}}function kg(n){return function t(e,i){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function lP(){return new ur(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function aP(){return new ur(Dt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function sP(n){return new ur(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function cP(n){return new ur(Dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,a.status=e.getStatus(),a.serverResponse=i.serverResponse,a}}function rv(n){const t=kg(n);return function e(i,a){let d=t(i,a);return 404===i.getStatus()&&(d=function oP(n){return new ur(Dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),d.serverResponse=a.serverResponse,d}}function kM(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function QP(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class _w{constructor(t,e,i,a){this.current=t,this.total=e,this.finalized=!!i,this.metadata=a||null}}function qT(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{ec(!1)}return ec(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Wo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KT(n){switch(n){case"running":case"pausing":case"canceling":return Wo.RUNNING;case"paused":return Wo.PAUSED;case"success":return Wo.SUCCESS;case"canceled":return Wo.CANCELED;default:return Wo.ERROR}}class nx{constructor(t,e,i){if(function bP(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const d=t;this.next=d.next,this.error=d.error,this.complete=d.complete}}}function Lg(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let UM=null;class rx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a){if(this.sent_)throw tv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const d in a)a.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,a[d].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class ix extends rx{initXhr(){this.xhr_.responseType="text"}}function Ga(){return UM?UM():new ix}class cx{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=nv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const d=this.isExponentialBackoffExpired();if(IM(a.status,[])){if(!d)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();a=yM()}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Dt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,d)=>{this._resolve=a,this._reject=d,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function XP(n,t,e,i,a){const d=t.bucketOnlyServerUrl(),f=kM(t,i,a),_={name:f.fullPath},I=yu(d,n.host,n._protocol),k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},j=ZT(f,e),Oe=new Xl(I,"POST",function me(Je){let st;qT(Je);try{st=Je.getResponseHeader("X-Goog-Upload-URL")}catch{ec(!1)}return ec(fw(st)),st},n.maxUploadRetryTime);return Oe.urlParams=_,Oe.headers=k,Oe.body=j,Oe.errorHandler=kg(t),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ga,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._uploadUrl=d,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const a=function ex(n,t,e,i){const I=new Xl(e,"POST",function d(A){const k=qT(A,["active","final"]);let j=null;try{j=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ec(!1)}j||ec(!1);const Y=Number(j);return ec(!isNaN(Y)),new _w(Y,i.size(),"final"===k)},n.maxUploadRetryTime);return I.headers={"X-Goog-Upload-Command":"query"},I.errorHandler=kg(t),I}(this._ref.storage,this._ref._location,t,this._blob),d=this._ref.storage._makeRequest(a,Ga,e,i);this._request=d,d.getPromise().then(f=>{this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _w(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,d)=>{let f;try{f=function tx(n,t,e,i,a,d,f,_){const I=new _w(0,0);if(f?(I.current=f.current,I.total=f.total):(I.current=0,I.total=i.size()),i.size()!==I.total)throw function fP(){return new ur(Dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const A=I.total-I.current;let k=A;a>0&&(k=Math.min(k,a));const j=I.current;let me="";me=0===k?"finalize":A===k?"upload, finalize":"upload";const Oe={"X-Goog-Upload-Command":me,"X-Goog-Upload-Offset":`${I.current}`},Je=i.slice(j,j+k);if(null===Je)throw CM();const Ft=new Xl(e,"POST",function st(Mt,qt){const ci=qT(Mt,["active","final"]),iv=I.current+k,jf=i.size();let eS;return eS="final"===ci?mw(t,d)(Mt,qt):null,new _w(iv,jf,"final"===ci,eS)},t.maxUploadRetryTime);return Ft.headers=Oe,Ft.body=Je.uploadData(),Ft.progressCallback=_||null,Ft.errorHandler=kg(n),Ft}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(I){return this._error=I,void this._transition("error")}const _=this._ref.storage._makeRequest(f,Ga,a,d,!1);this._request=_,_.getPromise().then(I=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(I.current),I.finalized?(this._metadata=I.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=function OM(n,t,e){const a=yu(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new Xl(a,"GET",mw(n,e),f);return _.errorHandler=rv(t),_}(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Ga,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function LM(n,t,e,i,a){const d=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},I=function _(){let Ft="";for(let Mt=0;Mt<2;Mt++)Ft+=Math.random().toString().slice(2);return Ft}();f["Content-Type"]="multipart/related; boundary="+I;const A=kM(t,i,a),k=ZT(A,e),me=vu.getBlob("--"+I+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+k+"\r\n--"+I+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",i,"\r\n--"+I+"--");if(null===me)throw CM();const Oe={name:A.fullPath},Je=yu(d,n.host,n._protocol),at=n.maxUploadRetryTime,mt=new Xl(Je,"POST",mw(n,e),at);return mt.urlParams=Oe,mt.headers=f,mt.body=me.uploadData(),mt.errorHandler=kg(t),mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ga,t,e);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=vM(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=KT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,a){const d=new nx(e||void 0,i||void 0,a||void 0);return this._addObserver(d),()=>{this._removeObserver(d)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(KT(this._state)){case Wo.SUCCESS:Lg(this._resolve.bind(null,this.snapshot))();break;case Wo.CANCELED:case Wo.ERROR:Lg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(KT(this._state)){case Wo.RUNNING:case Wo.PAUSED:t.next&&Lg(t.next.bind(t,this.snapshot))();break;case Wo.SUCCESS:t.complete&&Lg(t.complete.bind(t))();break;default:t.error&&Lg(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Bf{constructor(t,e){this._service=t,this._location=e instanceof mo?e:mo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Bf(t,e)}get root(){const t=new mo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MM(this._location.path)}get storage(){return this._service}get parent(){const t=function FP(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new mo(this._location.bucket,t);return new Bf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function mP(n){return new ur(Dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function _x(n){n._throwIfRoot("getDownloadURL");const t=function KP(n,t,e){const a=yu(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new Xl(a,"GET",function ZP(n,t){return function e(i,a){const d=RM(n,a,t);return ec(null!==d),function $P(n,t,e,i){const a=GT(t);if(null===a||!fw(a.downloadTokens))return null;const d=a.downloadTokens;if(0===d.length)return null;const f=encodeURIComponent;return d.split(",").map(A=>{const j=n.fullPath;return yu("/b/"+f(n.bucket)+"/o/"+f(j),e,i)+wM({alt:"media",token:A})})[0]}(d,a,n.host,n._protocol)}}(n,e),f);return _.errorHandler=rv(t),_}(n.storage,n._location,nv());return n.storage.makeRequestWithTokens(t,Ga).then(e=>{if(null===e)throw function pP(){return new ur(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function $M(n,t){if(n instanceof JT){const e=n;if(null==e._bucket)throw function hP(){return new ur(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_M+"' property when initializing the app?")}();const i=new Bf(e,e._bucket);return null!=t?$M(i,t):i}return void 0!==t?function HM(n,t){const e=function UP(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new mo(n._location.bucket,e);return new Bf(n.storage,i)}(n,t):n}function zM(n,t){const e=t?.[_M];return null==e?null:mo.makeFromBucketSpec(e,n)}class JT{constructor(t,e,i,a,d){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=d,this._bucket=null,this._host=mM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?mo.makeFromBucketSpec(a,this._host):zM(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?mo.makeFromBucketSpec(this._url,t):zM(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Vi.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Vi.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bf(this,t)}_makeRequest(t,e,i,a,d=!0){if(this._deleted)return new _P(bM());{const f=function AP(n,t,e,i,a,d,f=!0){const _=wM(n.urlParams),I=n.url+_,A=Object.assign({},n.headers);return function TP(n,t){t&&(n["X-Firebase-GMPID"]=t)}(A,t),function IP(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(A,e),function DP(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(A,d),function SP(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(A,i),new wP(I,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,f)}(t,this._appId,i,a,e,this._firebaseVersion,d);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}makeRequestWithTokens(t,e){var i=this;return(0,Vi.Z)(function*(){const[a,d]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,a,d).getPromise()})()}}const WM="@firebase/storage",ZM="storage";function yw(n,t,e){return function hx(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new cx(n,new vu(t),e)}(n=(0,U.m9)(n),t,e)}function vw(n){return _x(n=(0,U.m9)(n))}function Cw(n,t){return function bx(n,t){if(t&&function vx(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof JT)return function Cx(n,t){return new Bf(n,t)}(n,t);throw HT("To use ref(service, url), the first argument must be a Storage instance.")}return $M(n,t)}(n=(0,U.m9)(n),t)}function bw(n=(0,Bi.getApp)(),t){n=(0,U.m9)(n);const i=(0,Bi._getProvider)(n,ZM).getImmediate({identifier:t}),a=(0,U.P0)("storage");return a&&function wx(n,t,e,i={}){!function Ex(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,U.Sg)(a,n.app.options.projectId))}(n,t,e,i)}(i,...a),i}function Ix(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new JT(e,i,a,t,Bi.SDK_VERSION)}function Sx(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div")(1,"div",22)(2,"img",23),c.NdJ("click",function(){const d=c.CHM(e).$implicit,f=c.oxw();return c.KtG(f.ruoterLink(d.id,f.type2))}),c.qZA(),c.TgZ(3,"a",24),c._uU(4),c.qZA(),c.TgZ(5,"span",25),c._uU(6),c.qZA(),c.TgZ(7,"button",26),c.NdJ("click",function(){const d=c.CHM(e).$implicit,f=c.oxw();return c.KtG(f.deleteBijoux(d.nome))}),c._uU(8," ELIMINA "),c.qZA()()()}if(2&n){const e=t.$implicit;c.xp6(2),c.MGl("src","",e.foto1," ",c.LSH),c.xp6(2),c.hij(" ",e.nome," "),c.xp6(2),c.hij(" ",e.prezzo," \u20ac ")}}!function Dx(){(0,Bi._registerComponent)(new uo.wA(ZM,Ix,"PUBLIC").setMultipleInstances(!0)),(0,Bi.registerVersion)(WM,"0.11.2",""),(0,Bi.registerVersion)(WM,"0.11.2","esm2017")}();const Ax=[{path:"",component:GE},{path:"bijoux",component:aA},{path:"bijoux_buy",component:gT},{path:"login",component:XR,canActivateChild:[(n,t)=>(0,c.f3M)(mT).isLoggedInFn()],children:[{path:"admin",component:eP},{path:"newbijoux",component:(()=>{class n{constructor(e,i,a){this.FirebaseService=e,this._location=i,this.db=a,this.dbUrl=Ls_firebase.databaseURL}sendInnerText(){this.nomeGioielloFoto=this.nomeGioiello.replace(/ /g,"_")}ngOnInit(){document.getElementById("divtodestroy").style.display="none",this.FirebaseService.getDataFromDB("lastID").subscribe(e=>{this.lastID=e.lastID,this.lastID++})}onSubmit(){const e={[this.nomeGioiello]:{descrizione:this.descrizioneGioiello,dettagli:"",nome:this.nomeGioiello,prezzo:this.prezzoGioiello,foto1:this.urlfoto1,foto2:this.urlfoto2,foto3:this.urlfoto3,foto4:this.urlfoto4,fotoprincipale:this.urlfoto1,id:this.lastID,disponibilita:"disponibile"}};this.FirebaseService.sendDataToDB("lastID",{lastID:this.lastID}),this.FirebaseService.sendDataToDB(this.tipoGioiello,e),this._location.back()}onFileSelected(e,i){const a=e.target.files[0],f=Cw(bw(),`${this.nomeGioielloFoto}_1`);yw(f,a).on("state_changed",I=>{console.log("Progresso:",I.bytesTransferred/I.totalBytes*100+"%")},I=>{console.error("Errore durante l'upload",I)},()=>{vw(f).then(I=>{this.urlfoto1=I,console.log("URL di download:",I),document.getElementById("formFile1").style.backgroundImage=`url('${I}')`,this.urlfoto1&&this.urlfoto2&&this.urlfoto3&&this.urlfoto4&&i.valid&&(console.log("Tutte le foto sono state caricate"),this.newbijouxformisformvalid=!0)}).catch(I=>{console.error("Errore durante l'ottenimento dell'URL di download",I)})})}onFileSelected2(e,i){const a=e.target.files[0],f=Cw(bw(),`${this.nomeGioielloFoto}_2`);yw(f,a).on("state_changed",I=>{console.log("Progresso:",I.bytesTransferred/I.totalBytes*100+"%")},I=>{console.error("Errore durante l'upload",I)},()=>{vw(f).then(I=>{this.urlfoto2=I,console.log("URL di download:",I),document.getElementById("formFile2").style.backgroundImage=`url('${I}')`,this.urlfoto1&&this.urlfoto2&&this.urlfoto3&&this.urlfoto4&&i.valid&&(console.log("Tutte le foto sono state caricate"),this.newbijouxformisformvalid=!0)}).catch(I=>{console.error("Errore durante l'ottenimento dell'URL di download",I)})})}onFileSelected3(e,i){const a=e.target.files[0],f=Cw(bw(),`${this.nomeGioielloFoto}_3`);yw(f,a).on("state_changed",I=>{console.log("Progresso:",I.bytesTransferred/I.totalBytes*100+"%")},I=>{console.error("Errore durante l'upload",I)},()=>{vw(f).then(I=>{this.urlfoto3=I,console.log("URL di download:",I),document.getElementById("formFile3").style.backgroundImage=`url('${I}')`,this.urlfoto1&&this.urlfoto2&&this.urlfoto3&&this.urlfoto4&&i.valid&&(console.log("Tutte le foto sono state caricate"),this.newbijouxformisformvalid=!0)}).catch(I=>{console.error("Errore durante l'ottenimento dell'URL di download",I)})})}onFileSelected4(e,i){const a=e.target.files[0],f=Cw(bw(),`${this.nomeGioielloFoto}_4`);yw(f,a).on("state_changed",I=>{console.log("Progresso:",I.bytesTransferred/I.totalBytes*100+"%")},I=>{console.error("Errore durante l'upload",I)},()=>{vw(f).then(I=>{this.urlfoto4=I,console.log("URL di download:",I),document.getElementById("formFile4").style.backgroundImage=`url('${I}')`,this.urlfoto1&&this.urlfoto2&&this.urlfoto3&&this.urlfoto4&&i.valid&&(console.log("Tutte le foto sono state caricate"),this.newbijouxformisformvalid=!0)}).catch(I=>{console.error("Errore durante l'ottenimento dell'URL di download",I)})})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ql),c.Y36(le),c.Y36(Gd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-newbijoux"]],decls:49,vars:9,consts:[[3,"ngSubmit"],["newbijouxform","ngForm"],[1,"formh1","formh11"],[1,"formh1"],[1,"formradios"],["type","radio","id","orecchini","name","gioiello","value","orecchini","required","",3,"ngModel","ngModelChange"],["for","orecchini"],["type","radio","id","collane","name","gioiello","value","collane","required","",3,"ngModel","ngModelChange"],["for","collane"],["type","radio","id","anelli","name","gioiello","value","anelli","required","",3,"ngModel","ngModelChange"],["for","anelli"],["type","radio","id","bracciali","name","gioiello","value","bracciali","required","",3,"ngModel","ngModelChange"],["for","bracciali"],["type","radio","id","setbijoux","name","setbijoux","value","setbijoux","required","",3,"ngModel","ngModelChange"],["for","setbijoux"],["matInput","","type","text","name","nome","ngModel","","required","",1,"form",3,"ngModel","ngModelChange","blur"],["matInput","","type","text","name","descrizione","ngModel","","required","",1,"form",3,"ngModel","ngModelChange"],["matInput","","type","number","name","prezzo","ngModel","","required","",1,"form",3,"ngModel","ngModelChange"],[1,"formsFile"],["id","formFile1",1,"formFile"],["type","file","name","foto1","accept","image/*","required","",3,"change"],["id","formFile2",1,"formFile"],["type","file","name","foto2","accept","image/*","required","",3,"change"],["id","formFile3",1,"formFile"],["type","file","name","foto3","accept","image/*","required","",3,"change"],["id","formFile4",1,"formFile"],["type","file","name","foto4","accept","image/*","required","",3,"change"],["title","Bisogna compilare tutti i campi prima di inviare","type","submit",1,"formButton",3,"disabled"]],template:function(e,i){if(1&e){const a=c.EpF();c._UZ(0,"app-top"),c.TgZ(1,"form",0,1),c.NdJ("ngSubmit",function(){return i.onSubmit()}),c.TgZ(3,"div",2),c._uU(4," COMPILARE TUTTI I CAMPI IN ORDINE DI SEQUENZA "),c.qZA(),c.TgZ(5,"div",3),c._uU(6," Tipo gioiello "),c.qZA(),c.TgZ(7,"div",4)(8,"input",5),c.NdJ("ngModelChange",function(f){return i.tipoGioiello=f}),c.qZA(),c.TgZ(9,"label",6),c._uU(10,"Orecchini"),c.qZA(),c.TgZ(11,"input",7),c.NdJ("ngModelChange",function(f){return i.tipoGioiello=f}),c.qZA(),c.TgZ(12,"label",8),c._uU(13,"Collane"),c.qZA(),c.TgZ(14,"input",9),c.NdJ("ngModelChange",function(f){return i.tipoGioiello=f}),c.qZA(),c.TgZ(15,"label",10),c._uU(16,"Anelli"),c.qZA(),c._UZ(17,"br"),c.TgZ(18,"input",11),c.NdJ("ngModelChange",function(f){return i.tipoGioiello=f}),c.qZA(),c.TgZ(19,"label",12),c._uU(20,"Bracciali"),c.qZA(),c.TgZ(21,"input",13),c.NdJ("ngModelChange",function(f){return i.tipoGioiello=f}),c.qZA(),c.TgZ(22,"label",14),c._uU(23,"Setbijoux"),c.qZA()(),c.TgZ(24,"div",3),c._uU(25," Nome gioiello "),c.qZA(),c.TgZ(26,"input",15),c.NdJ("ngModelChange",function(f){return i.nomeGioiello=f})("blur",function(){return i.sendInnerText()}),c.qZA(),c.TgZ(27,"div",3),c._uU(28," Descrizione gioiello "),c.qZA(),c.TgZ(29,"input",16),c.NdJ("ngModelChange",function(f){return i.descrizioneGioiello=f}),c.qZA(),c.TgZ(30,"div",3),c._uU(31," Prezzo gioiello "),c.qZA(),c.TgZ(32,"input",17),c.NdJ("ngModelChange",function(f){return i.prezzoGioiello=f}),c.qZA(),c.TgZ(33,"div",18)(34,"label",19),c._uU(35,"Carica foto 1"),c.TgZ(36,"input",20),c.NdJ("change",function(f){c.CHM(a);const _=c.MAs(2);return c.KtG(i.onFileSelected(f,_))}),c.qZA()(),c.TgZ(37,"label",21),c._uU(38,"Carica foto 2"),c.TgZ(39,"input",22),c.NdJ("change",function(f){c.CHM(a);const _=c.MAs(2);return c.KtG(i.onFileSelected2(f,_))}),c.qZA()(),c.TgZ(40,"label",23),c._uU(41,"Carica foto 3"),c.TgZ(42,"input",24),c.NdJ("change",function(f){c.CHM(a);const _=c.MAs(2);return c.KtG(i.onFileSelected3(f,_))}),c.qZA()(),c.TgZ(43,"label",25),c._uU(44,"Carica foto 4"),c.TgZ(45,"input",26),c.NdJ("change",function(f){c.CHM(a);const _=c.MAs(2);return c.KtG(i.onFileSelected4(f,_))}),c.qZA()()(),c.TgZ(46,"button",27),c._uU(47,"AGGIUNGI"),c.qZA()(),c._UZ(48,"app-bottom")}2&e&&(c.xp6(8),c.Q6J("ngModel",i.tipoGioiello),c.xp6(3),c.Q6J("ngModel",i.tipoGioiello),c.xp6(3),c.Q6J("ngModel",i.tipoGioiello),c.xp6(4),c.Q6J("ngModel",i.tipoGioiello),c.xp6(3),c.Q6J("ngModel",i.tipoGioiello),c.xp6(5),c.Q6J("ngModel",i.nomeGioiello),c.xp6(3),c.Q6J("ngModel",i.descrizioneGioiello),c.xp6(3),c.Q6J("ngModel",i.prezzoGioiello),c.xp6(14),c.Q6J("disabled",!i.newbijouxformisformvalid))},dependencies:[PT,u,xT,OT,ow,bT,Xy,Qy,Jy,Kl,Yl],styles:[".formh1[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:center;font-family:var(--second-font);margin-top:13px;margin-bottom:13px}.formh11[_ngcontent-%COMP%]{font-size:45px;margin-top:20px;margin-bottom:20px}.form[_ngcontent-%COMP%]{margin:auto;text-align:center;display:block;width:80%;height:40px;background-color:transparent;border:solid 1px black;font-size:20px}.formradios[_ngcontent-%COMP%]{display:table;margin:13px auto}.formsFile[_ngcontent-%COMP%]{width:434px;display:flex;flex-wrap:wrap;gap:20px;margin:50px auto 0 5px}.formFile[_ngcontent-%COMP%]{width:180px;height:135px;border:1px solid red;background-size:cover;text-align:center;padding-top:50px;font-weight:700;font-family:var(--second-font);font-size:40px}input[type=file][_ngcontent-%COMP%]{display:none}.formButton[_ngcontent-%COMP%]{width:300px;display:block;margin:30px auto;color:#000;height:50px;font-size:30px;font-weight:700;background-color:var(--fourth-color)}.formButton[_ngcontent-%COMP%]:disabled{opacity:50%}"]}),n})()},{path:"bijoux2",component:(()=>{class n{constructor(e,i,a){this.route=e,this.router=i,this.firebase=a,this.dbUrl=Ls_firebase.databaseURL}ngOnInit(){this.route.queryParams.subscribe(e=>{this.type2=e.type2,this.firebase.getDataFromDB(this.type2).subscribe(i=>{this.data=Object.values(i),this.data?console.log("valore ",this.data):console.log(`${this.type2} non trovato`)})}),document.getElementById("divtodestroy").style.display="none"}ruoterLink(e,i){this.router.navigate(["bijoux_buy"],{queryParams:{bijoux:e,bijoux_type:i}})}deleteBijoux(e){console.log("il bijoux da togliere",e),document.getElementById("displayPopUp").style.display="block",this.daEliminare=e}ifTrue(){document.getElementById("true").innerText="VUOI DAVVERO ELIMINARE",this.deleteBijouxTrue(this.daEliminare)}ifFalse(){document.getElementById("displayPopUp").style.display="none"}deleteBijouxTrue(e){console.log("eliminato",e),this.firebase.deleteDataFromDB(this.type2,e),document.getElementById("displayPopUp").style.display="none"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ra),c.Y36(Vr),c.Y36(ql))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bijoux2"]],decls:32,vars:2,consts:[[1,"content"],[1,"content-photoholder"],[1,"content-photoholder-boxphoto2"],[1,"content-textbox"],[1,"content-textbox-text"],[1,"content-textbox-text2"],[1,"content-top"],[1,"content-top-h1"],[1,"content-top-text"],[1,"content-bottom"],[1,"content-bottom-sudgested"],[1,"content-bottom-jewels"],[4,"ngFor","ngForOf"],[1,"content-bottom-ads"],[1,"content-bottommobile"],[1,"content-bottommobile-button"],["href","https://www.facebook.com/groups/249494716844104/"],[1,"content-bottommobile-text"],["id","displayPopUp",1,"popAlert",2,"display","none"],["id","true",1,"popAlertDivBtn"],[1,"popAlertBtn",3,"click"],[1,"popAlertBtn2",3,"click"],[1,"content-bottom-jewels-box"],["alt","f",1,"content-bottom-jewels-box-img",3,"src","click"],["href","",1,"content-bottom-jewels-box-name"],[1,"content-bottom-jewels-box-price"],[1,"buttonForDeleteBijoux",3,"click"]],template:function(e,i){1&e&&(c._UZ(0,"app-top"),c.TgZ(1,"div",0)(2,"div",1),c._UZ(3,"span",2),c.TgZ(4,"div",3)(5,"h1",4),c._uU(6),c.qZA(),c.TgZ(7,"h2",5),c._uU(8,"Collezione 2023"),c.qZA()()(),c.TgZ(9,"div",6)(10,"span",7),c._uU(11,"COLLANE"),c.qZA(),c.TgZ(12,"span",8),c._uU(13,"Le collane di emy sono create interamente a mano partendo da perle di pietre preziosissime"),c.qZA()(),c.TgZ(14,"div",9),c._UZ(15,"div",10),c.TgZ(16,"div",11),c.YNc(17,Sx,9,3,"div",12),c.qZA(),c._UZ(18,"div",13),c.qZA(),c.TgZ(19,"div",14)(20,"button",15)(21,"a",16),c._uU(22,"GRUPPO FACEBOOK"),c.qZA()(),c.TgZ(23,"span",17),c._uU(24,"Spedizione con corriere SDA"),c.qZA()()(),c.TgZ(25,"div",18)(26,"div",19)(27,"button",20),c.NdJ("click",function(){return i.ifTrue()}),c._uU(28," SI VOGLIO ELIMINARLO "),c.qZA(),c.TgZ(29,"button",21),c.NdJ("click",function(){return i.ifFalse()}),c._uU(30," NO NON VOGLIO ELIMINARLO "),c.qZA()()(),c._UZ(31,"app-bottom")),2&e&&(c.xp6(6),c.Oqu(i.type2),c.xp6(11),c.Q6J("ngForOf",i.data))},dependencies:[qs,Kl,Yl],styles:[".content[_ngcontent-%COMP%]{width:100%;height:77.5vh;min-height:735px;font-family:var(--principal-font)}.content-photoholder-arrow[_ngcontent-%COMP%]{transform:rotate(-90deg);position:absolute;margin-top:4.7%;margin-left:1.5%;cursor:pointer}.content-photoholder-arrow2[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;margin-top:4.7%;margin-left:96.2%;cursor:pointer}.content-photoholder[_ngcontent-%COMP%]{width:100%;height:30%;display:flex}.content-photoholder-boxphoto[_ngcontent-%COMP%]{width:5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-boxphoto2[_ngcontent-%COMP%]{width:100%;height:100%;border-bottom:1px solid var(--second-color);border-left:1px solid var(--second-color);border-right:1px solid var(--second-color)}.content-photoholder-boxphoto3[_ngcontent-%COMP%]{width:5%;border-bottom:1px solid var(--second-color);background-color:var(--fifth-color);filter:brightness(.3)}.content-photoholder-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:100%}.content-photoholder-photoend[_ngcontent-%COMP%]{object-position:0%}.content-textbox[_ngcontent-%COMP%]{width:100%;height:2vh;padding-top:2.5%;position:absolute}.content-textbox-text[_ngcontent-%COMP%]{color:var(--third-color);line-height:7.5rem;font-size:12.5rem;text-align:center;max-lines:2;text-transform:uppercase}.content-textbox-text2[_ngcontent-%COMP%]{color:var(--third-color);font-size:1.5rem;text-align:center;font-weight:400;font-family:var(--second-font)}.content-bottom[_ngcontent-%COMP%]{width:100%;height:70%;display:flex}.content-bottom-sudgested[_ngcontent-%COMP%]{width:20%;height:100%;flex-wrap:wrap;display:flex;justify-content:center;align-items:center}.content-bottom-sudgested-box[_ngcontent-%COMP%]{width:70%;max-width:270px;height:90%;max-height:530px;border:1px solid var(--third-color);background-color:var(--second-color);overflow:hidden;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.content-bottom-sudgested-box-text[_ngcontent-%COMP%]{width:100%;color:var(--fourth-color);font-size:1.25rem;font-weight:700;font-family:var(--second-font);display:flex;justify-content:center}.content-bottom-sudgested-box-img[_ngcontent-%COMP%]{width:80%;margin:auto}.content-bottom-sudgested-box-text2[_ngcontent-%COMP%]{width:85%;color:var(--third-color);font-size:1.125rem;font-family:var(--second-font);text-align:center}.content-bottom-jewels[_ngcontent-%COMP%]{width:60%;border-left:1px solid var(--third-color);height:100%;overflow-y:scroll;display:flex;justify-content:space-evenly;flex-wrap:wrap;gap:1.5%}.content-bottom-jewels-box[_ngcontent-%COMP%]{width:25%;height:67%;width:286px;height:370px;margin-top:3%;display:flex;flex-wrap:wrap;gap:3.5%}.content-bottom-jewels-box-img[_ngcontent-%COMP%]{width:100%;height:290px}.content-bottom-jewels-box-name[_ngcontent-%COMP%]{width:100%;color:var(--third-color);font-size:1.25rem;font-family:var(--second-font)}.content-bottom-jewels-box-price[_ngcontent-%COMP%]{color:var(--fifth-color);font-size:1.25rem;font-family:var(--second-font);font-weight:700}.content-bottom-ads[_ngcontent-%COMP%]{width:20%;height:100%}.content-bottommobile[_ngcontent-%COMP%], .content-top[_ngcontent-%COMP%]{display:none}.popAlert[_ngcontent-%COMP%]{width:100%;height:150px;background-color:#353333;position:fixed;bottom:70%;opacity:90%}.popAlertDivBtn[_ngcontent-%COMP%]{height:-webkit-fill-available;display:flex;justify-content:center;align-items:center;gap:20px}.popAlertBtn[_ngcontent-%COMP%]{width:170px;height:60px;background-color:#ff3434;font-weight:700;padding:10px;font-size:15px}.popAlertBtn2[_ngcontent-%COMP%]{width:170px;height:60px;background-color:#59ff49;font-weight:700;padding:10px;font-size:15px}.buttonForDeleteBijoux[_ngcontent-%COMP%]{width:130px;height:25px;display:block;margin-left:80px;background-color:var(--fourth-color);border:unset;color:red;font-weight:700;text-align:center;font-size:20px}@media only screen and (max-width: 500px){.content-bottom-sudgested[_ngcontent-%COMP%], .content-bottom-ads[_ngcontent-%COMP%], .content-photoholder[_ngcontent-%COMP%]{display:none}.content-bottom[_ngcontent-%COMP%]{width:100%;height:49.4vh;display:flex}.content-bottom-jewels[_ngcontent-%COMP%]{width:100%;height:100%;border-left:1px solid var(--third-color);overflow-y:scroll;display:flex;justify-content:space-evenly;flex-wrap:wrap;gap:2%}.content-bottom-jewels-box[_ngcontent-%COMP%]{width:130px;height:175px;margin-top:20px;display:flex;flex-wrap:wrap;gap:4%}.content-bottom-jewels-box-img[_ngcontent-%COMP%]{width:100%;height:125px}.content-bottom-jewels-box-name[_ngcontent-%COMP%]{color:var(--third-color);font-size:.8rem;font-family:var(--second-font)}.content-bottom-jewels-box-price[_ngcontent-%COMP%]{color:var(--fifth-color);font-size:.8rem;font-family:var(--second-font);font-weight:700}.content-top[_ngcontent-%COMP%]{width:100%;height:13.8vh;border-bottom:1px solid var(--second-color);display:flex;justify-content:center;text-align:center;flex-wrap:wrap}.content-top-h1[_ngcontent-%COMP%]{width:100%;height:25%;font-size:3.125rem;font-weight:700}.content-top-text[_ngcontent-%COMP%]{width:85%;font-size:1.25rem;color:var(--third-color);font-family:var(--second-font)}.content-bottommobile[_ngcontent-%COMP%]{width:100%;height:13.8vh;border-top:1px solid var(--second-color);display:flex;flex-wrap:wrap;align-items:center}.content-bottommobile-button[_ngcontent-%COMP%]{width:60%;height:40%;margin:auto;background-color:var(--second-color);color:var(--fourth-color);border:0px solid;font-family:var(--second-font);font-weight:700}.content-bottommobile-text[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.25rem;font-family:var(--second-font);color:var(--third-color)}}"]}),n})()}]}];let Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hv.forRoot(Ax),Hv]}),n})(),Rx=(()=>{class n{constructor(){this.title="bijouxemy"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[Xu],styles:['[_ngcontent-%COMP%]:root{--principal-color: #EBDCC1;--second-color: #C1A571;--third-color: #463F3F;--fourth-color: #046F9D;--fifth-color: #000000;--avaible-color: #347133;--notavaible-color: #960808;--principal-font: "Jomhuria", cursive;--second-font: "Josefin Sans", sans-serif}body[_ngcontent-%COMP%]{font-family:var(--principal-font);background-color:var(--principal-color);-webkit-user-select:none;user-select:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--fourth-color)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--third-color)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], big[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], del[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], q[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], small[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], var[_ngcontent-%COMP%], b[_ngcontent-%COMP%], u[_ngcontent-%COMP%], i[_ngcontent-%COMP%], center[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], table[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], details[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], output[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], time[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], details[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]{line-height:1}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], q[_ngcontent-%COMP%]{quotes:none}blockquote[_ngcontent-%COMP%]:before, blockquote[_ngcontent-%COMP%]:after, q[_ngcontent-%COMP%]:before, q[_ngcontent-%COMP%]:after{content:"";content:none}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0}']}),n})();class QT{constructor(t){return t}}const XT=new c.OlP("angularfire2.auth-instances");function Ox(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new QT(i)}}const Nx={provide:class Px{constructor(){return(0,nr.vb)("auth")}},deps:[[new c.FiY,XT]]},kx={provide:QT,useFactory:function xx(n,t){const e=(0,nr.JM)("auth",n,t);return e&&new QT(e)},deps:[[new c.FiY,XT],class If{constructor(t){return t}}]};let Lx=(()=>{class n{constructor(){(0,po.KN)("angularfire",nr.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kx,Nx]}),n})();function Fx(n,...t){return{ngModule:Lx,providers:[{provide:XT,useFactory:Ox(n),multi:!0,deps:[c.R0b,c.zs3,nr.HU,hg,[new c.FiY,xf],...t]}]}}const Ux=(0,nr.u3)(Ql.o,!0);let Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Rx]}),n.\u0275inj=c.cJS({providers:[ql],imports:[ml,JR,QR,Mx,hT,My,ko.hO.initializeApp(Ls_firebase),Fx(()=>Ux()),GD]}),n})();Sc().bootstrapModule(Vx).catch(n=>console.error(n))},9751:(rt,De,L)=>{L.d(De,{y:()=>pe});var c=L(930),B=L(727),x=L(8822),ne=L(9635),ie=L(2416),oe=L(576),fe=L(2806);let pe=(()=>{class K{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Ze=new K;return Ze.source=this,Ze.operator=Ee,Ze}subscribe(Ee,Ze,Qe){const le=function z(K){return K&&K instanceof c.Lv||function G(K){return K&&(0,oe.m)(K.next)&&(0,oe.m)(K.error)&&(0,oe.m)(K.complete)}(K)&&(0,B.Nn)(K)}(Ee)?Ee:new c.Hp(Ee,Ze,Qe);return(0,fe.x)(()=>{const{operator:Ae,source:Re}=this;le.add(Ae?Ae.call(le,Re):Re?this._subscribe(le):this._trySubscribe(le))}),le}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ze){Ee.error(Ze)}}forEach(Ee,Ze){return new(Ze=he(Ze))((Qe,le)=>{const Ae=new c.Hp({next:Re=>{try{Ee(Re)}catch(Le){le(Le),Ae.unsubscribe()}},error:le,complete:Qe});this.subscribe(Ae)})}_subscribe(Ee){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ee)}[x.L](){return this}pipe(...Ee){return(0,ne.U)(Ee)(this)}toPromise(Ee){return new(Ee=he(Ee))((Ze,Qe)=>{let le;this.subscribe(Ae=>le=Ae,Ae=>Qe(Ae),()=>Ze(le))})}}return K.create=ke=>new K(ke),K})();function he(K){var ke;return null!==(ke=K??ie.config.Promise)&&void 0!==ke?ke:Promise}},7579:(rt,De,L)=>{L.d(De,{x:()=>fe});var c=L(9751),B=L(727);const ne=(0,L(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(8737),oe=L(2806);let fe=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const K=new pe(this,this);return K.operator=z,K}_throwIfClosed(){if(this.closed)throw new ne}next(z){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(z)}})}error(z){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:K}=this;for(;K.length;)K.shift().error(z)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:K,isStopped:ke,observers:Ee}=this;return K||ke?B.Lc:(this.currentObservers=null,Ee.push(z),new B.w0(()=>{this.currentObservers=null,(0,ie.P)(Ee,z)}))}_checkFinalizedStatuses(z){const{hasError:K,thrownError:ke,isStopped:Ee}=this;K?z.error(ke):Ee&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return he.create=(G,z)=>new pe(G,z),he})();class pe extends fe{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===K||K.call(z,G)}error(G){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===K||K.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,K;return null!==(K=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==K?K:B.Lc}}},930:(rt,De,L)=>{L.d(De,{Hp:()=>Qe,Lv:()=>K});var c=L(576),B=L(727),x=L(2416),ne=L(7849),ie=L(5032);const oe=he("C",void 0,void 0);function he(Ce,_e,ve){return{kind:Ce,value:_e,error:ve}}var G=L(3410),z=L(2806);class K extends B.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,B.Nn)(_e)&&_e.add(this)):this.destination=Le}static create(_e,ve,Te){return new Qe(_e,ve,Te)}next(_e){this.isStopped?Re(function pe(Ce){return he("N",Ce,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Re(function fe(Ce){return he("E",void 0,Ce)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Re(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ee(Ce,_e){return ke.call(Ce,_e)}class Ze{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ve}=this;if(ve.next)try{ve.next(_e)}catch(Te){le(Te)}}error(_e){const{partialObserver:ve}=this;if(ve.error)try{ve.error(_e)}catch(Te){le(Te)}else le(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ve){le(ve)}}}class Qe extends K{constructor(_e,ve,Te){let ye;if(super(),(0,c.m)(_e)||!_e)ye={next:_e??void 0,error:ve??void 0,complete:Te??void 0};else{let ee;this&&x.config.useDeprecatedNextContext?(ee=Object.create(_e),ee.unsubscribe=()=>this.unsubscribe(),ye={next:_e.next&&Ee(_e.next,ee),error:_e.error&&Ee(_e.error,ee),complete:_e.complete&&Ee(_e.complete,ee)}):ye=_e}this.destination=new Ze(ye)}}function le(Ce){x.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ce):(0,ne.h)(Ce)}function Re(Ce,_e){const{onStoppedNotification:ve}=x.config;ve&&G.z.setTimeout(()=>ve(Ce,_e))}const Le={closed:!0,next:ie.Z,error:function Ae(Ce){throw Ce},complete:ie.Z}},727:(rt,De,L)=>{L.d(De,{Lc:()=>oe,w0:()=>ie,Nn:()=>fe});var c=L(576);const x=(0,L(3888).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((K,ke)=>`${ke+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ne=L(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ee of z)Ee.remove(this);else z.remove(this);const{initialTeardown:K}=this;if((0,c.m)(K))try{K()}catch(Ee){G=Ee instanceof x?Ee.errors:[Ee]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ee of ke)try{pe(Ee)}catch(Ze){G=G??[],Ze instanceof x?G=[...G,...Ze.errors]:G.push(Ze)}}if(G)throw new x(G)}}add(G){var z;if(G&&G!==this)if(this.closed)pe(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ne.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ne.P)(z,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const oe=ie.EMPTY;function fe(he){return he instanceof ie||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function pe(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(rt,De,L)=>{L.d(De,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,De,L)=>{L.d(De,{E:()=>B});const B=new(L(9751).y)(ie=>ie.complete())},8996:(rt,De,L)=>{L.d(De,{D:()=>_e});var c=L(8421),B=L(5363),x=L(9468),oe=L(9751),pe=L(2202),he=L(576),G=L(9672);function K(ve,Te){if(!ve)throw new Error("Iterable cannot be null");return new oe.y(ye=>{(0,G.f)(ye,Te,()=>{const ee=ve[Symbol.asyncIterator]();(0,G.f)(ye,Te,()=>{ee.next().then(We=>{We.done?ye.complete():ye.next(We.value)})},0,!0)})})}var ke=L(3670),Ee=L(8239),Ze=L(1144),Qe=L(6495),le=L(2206),Ae=L(4532),Re=L(3260);function _e(ve,Te){return Te?function Ce(ve,Te){if(null!=ve){if((0,ke.c)(ve))return function ne(ve,Te){return(0,c.Xf)(ve).pipe((0,x.R)(Te),(0,B.Q)(Te))}(ve,Te);if((0,Ze.z)(ve))return function fe(ve,Te){return new oe.y(ye=>{let ee=0;return Te.schedule(function(){ee===ve.length?ye.complete():(ye.next(ve[ee++]),ye.closed||this.schedule())})})}(ve,Te);if((0,Ee.t)(ve))return function ie(ve,Te){return(0,c.Xf)(ve).pipe((0,x.R)(Te),(0,B.Q)(Te))}(ve,Te);if((0,le.D)(ve))return K(ve,Te);if((0,Qe.T)(ve))return function z(ve,Te){return new oe.y(ye=>{let ee;return(0,G.f)(ye,Te,()=>{ee=ve[pe.h](),(0,G.f)(ye,Te,()=>{let We,je;try{({value:We,done:je}=ee.next())}catch(Kt){return void ye.error(Kt)}je?ye.complete():ye.next(We)},0,!0)}),()=>(0,he.m)(ee?.return)&&ee.return()})}(ve,Te);if((0,Re.L)(ve))return function Le(ve,Te){return K((0,Re.Q)(ve),Te)}(ve,Te)}throw(0,Ae.z)(ve)}(ve,Te):(0,c.Xf)(ve)}},8421:(rt,De,L)=>{L.d(De,{Xf:()=>ke});var c=L(655),B=L(1144),x=L(8239),ne=L(9751),ie=L(3670),oe=L(2206),fe=L(4532),pe=L(6495),he=L(3260),G=L(576),z=L(7849),K=L(8822);function ke(Ce){if(Ce instanceof ne.y)return Ce;if(null!=Ce){if((0,ie.c)(Ce))return function Ee(Ce){return new ne.y(_e=>{const ve=Ce[K.L]();if((0,G.m)(ve.subscribe))return ve.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,B.z)(Ce))return function Ze(Ce){return new ne.y(_e=>{for(let ve=0;ve<Ce.length&&!_e.closed;ve++)_e.next(Ce[ve]);_e.complete()})}(Ce);if((0,x.t)(Ce))return function Qe(Ce){return new ne.y(_e=>{Ce.then(ve=>{_e.closed||(_e.next(ve),_e.complete())},ve=>_e.error(ve)).then(null,z.h)})}(Ce);if((0,oe.D)(Ce))return Ae(Ce);if((0,pe.T)(Ce))return function le(Ce){return new ne.y(_e=>{for(const ve of Ce)if(_e.next(ve),_e.closed)return;_e.complete()})}(Ce);if((0,he.L)(Ce))return function Re(Ce){return Ae((0,he.Q)(Ce))}(Ce)}throw(0,fe.z)(Ce)}function Ae(Ce){return new ne.y(_e=>{(function Le(Ce,_e){var ve,Te,ye,ee;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ve=(0,c.KL)(Ce);!(Te=yield ve.next()).done;)if(_e.next(Te.value),_e.closed)return}catch(We){ye={error:We}}finally{try{Te&&!Te.done&&(ee=ve.return)&&(yield ee.call(ve))}finally{if(ye)throw ye.error}}_e.complete()})})(Ce,_e).catch(ve=>_e.error(ve))})}},6451:(rt,De,L)=>{L.d(De,{T:()=>oe});var c=L(8189),B=L(8421),x=L(515),ne=L(7669),ie=L(8996);function oe(...fe){const pe=(0,ne.yG)(fe),he=(0,ne._6)(fe,1/0),G=fe;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,c.J)(he)((0,ie.D)(G,pe)):x.E}},5403:(rt,De,L)=>{L.d(De,{x:()=>B});var c=L(930);function B(ne,ie,oe,fe,pe){return new x(ne,ie,oe,fe,pe)}class x extends c.Lv{constructor(ie,oe,fe,pe,he,G){super(ie),this.onFinalize=he,this.shouldUnsubscribe=G,this._next=oe?function(z){try{oe(z)}catch(K){ie.error(K)}}:super._next,this._error=pe?function(z){try{pe(z)}catch(K){ie.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(z){ie.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(rt,De,L)=>{L.d(De,{U:()=>x});var c=L(4482),B=L(5403);function x(ne,ie){return(0,c.e)((oe,fe)=>{let pe=0;oe.subscribe((0,B.x)(fe,he=>{fe.next(ne.call(ie,he,pe++))}))})}},8189:(rt,De,L)=>{L.d(De,{J:()=>x});var c=L(5577),B=L(4671);function x(ne=1/0){return(0,c.z)(B.y,ne)}},5577:(rt,De,L)=>{L.d(De,{z:()=>pe});var c=L(4004),B=L(8421),x=L(4482),ne=L(9672),ie=L(5403),fe=L(576);function pe(he,G,z=1/0){return(0,fe.m)(G)?pe((K,ke)=>(0,c.U)((Ee,Ze)=>G(K,Ee,ke,Ze))((0,B.Xf)(he(K,ke))),z):("number"==typeof G&&(z=G),(0,x.e)((K,ke)=>function oe(he,G,z,K,ke,Ee,Ze,Qe){const le=[];let Ae=0,Re=0,Le=!1;const Ce=()=>{Le&&!le.length&&!Ae&&G.complete()},_e=Te=>Ae<K?ve(Te):le.push(Te),ve=Te=>{Ee&&G.next(Te),Ae++;let ye=!1;(0,B.Xf)(z(Te,Re++)).subscribe((0,ie.x)(G,ee=>{ke?.(ee),Ee?_e(ee):G.next(ee)},()=>{ye=!0},void 0,()=>{if(ye)try{for(Ae--;le.length&&Ae<K;){const ee=le.shift();Ze?(0,ne.f)(G,Ze,()=>ve(ee)):ve(ee)}Ce()}catch(ee){G.error(ee)}}))};return he.subscribe((0,ie.x)(G,_e,()=>{Le=!0,Ce()})),()=>{Qe?.()}}(K,ke,he,z)))}},5363:(rt,De,L)=>{L.d(De,{Q:()=>ne});var c=L(9672),B=L(4482),x=L(5403);function ne(ie,oe=0){return(0,B.e)((fe,pe)=>{fe.subscribe((0,x.x)(pe,he=>(0,c.f)(pe,ie,()=>pe.next(he),oe),()=>(0,c.f)(pe,ie,()=>pe.complete(),oe),he=>(0,c.f)(pe,ie,()=>pe.error(he),oe)))})}},3099:(rt,De,L)=>{L.d(De,{B:()=>ie});var c=L(8421),B=L(7579),x=L(930),ne=L(4482);function ie(fe={}){const{connector:pe=(()=>new B.x),resetOnError:he=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=fe;return K=>{let ke,Ee,Ze,Qe=0,le=!1,Ae=!1;const Re=()=>{Ee?.unsubscribe(),Ee=void 0},Le=()=>{Re(),ke=Ze=void 0,le=Ae=!1},Ce=()=>{const _e=ke;Le(),_e?.unsubscribe()};return(0,ne.e)((_e,ve)=>{Qe++,!Ae&&!le&&Re();const Te=Ze=Ze??pe();ve.add(()=>{Qe--,0===Qe&&!Ae&&!le&&(Ee=oe(Ce,z))}),Te.subscribe(ve),!ke&&Qe>0&&(ke=new x.Hp({next:ye=>Te.next(ye),error:ye=>{Ae=!0,Re(),Ee=oe(Le,he,ye),Te.error(ye)},complete:()=>{le=!0,Re(),Ee=oe(Le,G),Te.complete()}}),(0,c.Xf)(_e).subscribe(ke))})(K)}}function oe(fe,pe,...he){if(!0===pe)return void fe();if(!1===pe)return;const G=new x.Hp({next:()=>{G.unsubscribe(),fe()}});return(0,c.Xf)(pe(...he)).subscribe(G)}},9468:(rt,De,L)=>{L.d(De,{R:()=>B});var c=L(4482);function B(x,ne=0){return(0,c.e)((ie,oe)=>{oe.add(x.schedule(()=>ie.subscribe(oe),ne))})}},8505:(rt,De,L)=>{L.d(De,{b:()=>ie});var c=L(576),B=L(4482),x=L(5403),ne=L(4671);function ie(oe,fe,pe){const he=(0,c.m)(oe)||fe||pe?{next:oe,error:fe,complete:pe}:oe;return he?(0,B.e)((G,z)=>{var K;null===(K=he.subscribe)||void 0===K||K.call(he);let ke=!0;G.subscribe((0,x.x)(z,Ee=>{var Ze;null===(Ze=he.next)||void 0===Ze||Ze.call(he,Ee),z.next(Ee)},()=>{var Ee;ke=!1,null===(Ee=he.complete)||void 0===Ee||Ee.call(he),z.complete()},Ee=>{var Ze;ke=!1,null===(Ze=he.error)||void 0===Ze||Ze.call(he,Ee),z.error(Ee)},()=>{var Ee,Ze;ke&&(null===(Ee=he.unsubscribe)||void 0===Ee||Ee.call(he)),null===(Ze=he.finalize)||void 0===Ze||Ze.call(he)}))}):ne.y}},4408:(rt,De,L)=>{L.d(De,{o:()=>ie});var c=L(727);class B extends c.w0{constructor(fe,pe){super()}schedule(fe,pe=0){return this}}const x={setInterval(oe,fe,...pe){const{delegate:he}=x;return he?.setInterval?he.setInterval(oe,fe,...pe):setInterval(oe,fe,...pe)},clearInterval(oe){const{delegate:fe}=x;return(fe?.clearInterval||clearInterval)(oe)},delegate:void 0};var ne=L(8737);class ie extends B{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe,this.pending=!1}schedule(fe,pe=0){var he;if(this.closed)return this;this.state=fe;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,pe)),this.pending=!0,this.delay=pe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(z,this.id,pe),this}requestAsyncId(fe,pe,he=0){return x.setInterval(fe.flush.bind(fe,this),he)}recycleAsyncId(fe,pe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return pe;null!=pe&&x.clearInterval(pe)}execute(fe,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(fe,pe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,pe){let G,he=!1;try{this.work(fe)}catch(z){he=!0,G=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:fe,scheduler:pe}=this,{actions:he}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(he,this),null!=fe&&(this.id=this.recycleAsyncId(pe,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,De,L)=>{L.d(De,{v:()=>x});var c=L(6063);class B{constructor(ie,oe=B.now){this.schedulerActionCtor=ie,this.now=oe}schedule(ie,oe=0,fe){return new this.schedulerActionCtor(this,ie).schedule(fe,oe)}}B.now=c.l.now;class x extends B{constructor(ie,oe=B.now){super(ie,oe),this.actions=[],this._active=!1}flush(ie){const{actions:oe}=this;if(this._active)return void oe.push(ie);let fe;this._active=!0;do{if(fe=ie.execute(ie.state,ie.delay))break}while(ie=oe.shift());if(this._active=!1,fe){for(;ie=oe.shift();)ie.unsubscribe();throw fe}}}},4986:(rt,De,L)=>{L.d(De,{z:()=>x});var c=L(4408);const x=new(L(7565).v)(c.o)},6063:(rt,De,L)=>{L.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(rt,De,L)=>{L.d(De,{z:()=>c});const c={setTimeout(B,x,...ne){const{delegate:ie}=c;return ie?.setTimeout?ie.setTimeout(B,x,...ne):setTimeout(B,x,...ne)},clearTimeout(B){const{delegate:x}=c;return(x?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(rt,De,L)=>{L.d(De,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,De,L)=>{L.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,De,L)=>{L.d(De,{_6:()=>oe,jO:()=>ne,yG:()=>ie});var c=L(576);function x(fe){return fe[fe.length-1]}function ne(fe){return(0,c.m)(x(fe))?fe.pop():void 0}function ie(fe){return function B(fe){return fe&&(0,c.m)(fe.schedule)}(x(fe))?fe.pop():void 0}function oe(fe,pe){return"number"==typeof x(fe)?fe.pop():pe}},8737:(rt,De,L)=>{function c(B,x){if(B){const ne=B.indexOf(x);0<=ne&&B.splice(ne,1)}}L.d(De,{P:()=>c})},3888:(rt,De,L)=>{function c(B){const ne=B(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}L.d(De,{d:()=>c})},2806:(rt,De,L)=>{L.d(De,{O:()=>ne,x:()=>x});var c=L(2416);let B=null;function x(ie){if(c.config.useDeprecatedSynchronousErrorHandling){const oe=!B;if(oe&&(B={errorThrown:!1,error:null}),ie(),oe){const{errorThrown:fe,error:pe}=B;if(B=null,fe)throw pe}}else ie()}function ne(ie){c.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ie)}},9672:(rt,De,L)=>{function c(B,x,ne,ie=0,oe=!1){const fe=x.schedule(function(){ne(),oe?B.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(B.add(fe),!oe)return fe}L.d(De,{f:()=>c})},4671:(rt,De,L)=>{function c(B){return B}L.d(De,{y:()=>c})},1144:(rt,De,L)=>{L.d(De,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(rt,De,L)=>{L.d(De,{D:()=>B});var c=L(576);function B(x){return Symbol.asyncIterator&&(0,c.m)(x?.[Symbol.asyncIterator])}},576:(rt,De,L)=>{function c(B){return"function"==typeof B}L.d(De,{m:()=>c})},3670:(rt,De,L)=>{L.d(De,{c:()=>x});var c=L(8822),B=L(576);function x(ne){return(0,B.m)(ne[c.L])}},6495:(rt,De,L)=>{L.d(De,{T:()=>x});var c=L(2202),B=L(576);function x(ne){return(0,B.m)(ne?.[c.h])}},8239:(rt,De,L)=>{L.d(De,{t:()=>B});var c=L(576);function B(x){return(0,c.m)(x?.then)}},3260:(rt,De,L)=>{L.d(De,{L:()=>ne,Q:()=>x});var c=L(655),B=L(576);function x(ie){return(0,c.FC)(this,arguments,function*(){const fe=ie.getReader();try{for(;;){const{value:pe,done:he}=yield(0,c.qq)(fe.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{fe.releaseLock()}})}function ne(ie){return(0,B.m)(ie?.getReader)}},4482:(rt,De,L)=>{L.d(De,{A:()=>B,e:()=>x});var c=L(576);function B(ne){return(0,c.m)(ne?.lift)}function x(ne){return ie=>{if(B(ie))return ie.lift(function(oe){try{return ne(oe,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,De,L)=>{function c(){}L.d(De,{Z:()=>c})},9635:(rt,De,L)=>{L.d(De,{U:()=>x,z:()=>B});var c=L(4671);function B(...ne){return x(ne)}function x(ne){return 0===ne.length?c.y:1===ne.length?ne[0]:function(oe){return ne.reduce((fe,pe)=>pe(fe),oe)}}},7849:(rt,De,L)=>{L.d(De,{h:()=>x});var c=L(2416),B=L(3410);function x(ne){B.z.setTimeout(()=>{const{onUnhandledError:ie}=c.config;if(!ie)throw ne;ie(ne)})}},4532:(rt,De,L)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(De,{z:()=>c})},655:(rt,De,L)=>{function ne(ce,de){var be={};for(var Me in ce)Object.prototype.hasOwnProperty.call(ce,Me)&&de.indexOf(Me)<0&&(be[Me]=ce[Me]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Me=Object.getOwnPropertySymbols(ce);Ue<Me.length;Ue++)de.indexOf(Me[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ce,Me[Ue])&&(be[Me[Ue]]=ce[Me[Ue]])}return be}function K(ce,de,be,Me){return new(be||(be=Promise))(function(xe,Se){function Ke(_t){try{Xe(Me.next(_t))}catch(Ut){Se(Ut)}}function un(_t){try{Xe(Me.throw(_t))}catch(Ut){Se(Ut)}}function Xe(_t){_t.done?xe(_t.value):function Ue(xe){return xe instanceof be?xe:new be(function(Se){Se(xe)})}(_t.value).then(Ke,un)}Xe((Me=Me.apply(ce,de||[])).next())})}function Ce(ce){return this instanceof Ce?(this.v=ce,this):new Ce(ce)}function _e(ce,de,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Me=be.apply(ce,de||[]),xe=[];return Ue={},Se("next"),Se("throw"),Se("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Se($t){Me[$t]&&(Ue[$t]=function(en){return new Promise(function(Gn,An){xe.push([$t,en,Gn,An])>1||Ke($t,en)})})}function Ke($t,en){try{!function un($t){$t.value instanceof Ce?Promise.resolve($t.value.v).then(Xe,_t):Ut(xe[0][2],$t)}(Me[$t](en))}catch(Gn){Ut(xe[0][3],Gn)}}function Xe($t){Ke("next",$t)}function _t($t){Ke("throw",$t)}function Ut($t,en){$t(en),xe.shift(),xe.length&&Ke(xe[0][0],xe[0][1])}}function Te(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,de=ce[Symbol.asyncIterator];return de?de.call(ce):(ce=function Qe(ce){var de="function"==typeof Symbol&&Symbol.iterator,be=de&&ce[de],Me=0;if(be)return be.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Me>=ce.length&&(ce=void 0),{value:ce&&ce[Me++],done:!ce}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),be={},Me("next"),Me("throw"),Me("return"),be[Symbol.asyncIterator]=function(){return this},be);function Me(xe){be[xe]=ce[xe]&&function(Se){return new Promise(function(Ke,un){!function Ue(xe,Se,Ke,un){Promise.resolve(un).then(function(Xe){xe({value:Xe,done:Ke})},Se)}(Ke,un,(Se=ce[xe](Se)).done,Se.value)})}}}L.d(De,{FC:()=>_e,KL:()=>Te,_T:()=>ne,mG:()=>K,qq:()=>Ce})},2223:(rt,De,L)=>{L.d(De,{$8M:()=>no,$WT:()=>Ys,$Z:()=>Fm,AFp:()=>$v,AaK:()=>pe,BQk:()=>Td,CHM:()=>fa,CRH:()=>vE,D6c:()=>pT,EJc:()=>JS,EpF:()=>au,F4k:()=>tf,FYo:()=>Ls,FiY:()=>Ye,GfV:()=>eC,Gpc:()=>z,HDt:()=>uT,JOm:()=>ai,KtG:()=>Nu,LFG:()=>Nt,LSH:()=>ym,Lbi:()=>Em,Lck:()=>WI,MAs:()=>Qh,MGl:()=>Hp,MMx:()=>Yb,MR2:()=>kv,NdJ:()=>d_,Ojb:()=>_S,OlP:()=>zt,Oqu:()=>Yp,P3R:()=>Ov,PXZ:()=>zD,Q6J:()=>su,QGY:()=>jp,Qsj:()=>xm,R0b:()=>Jr,RDi:()=>Uw,Rgc:()=>fg,SBq:()=>ud,Sil:()=>eA,Suo:()=>yE,TTD:()=>Cs,TgZ:()=>js,VKq:()=>nE,WLB:()=>rE,X6Q:()=>Gs,XFs:()=>et,Xpm:()=>Ks,Xts:()=>Mh,Y36:()=>dd,YKP:()=>Kb,YNc:()=>Va,Yjl:()=>qa,Yz7:()=>_t,Z0I:()=>Gn,ZZ4:()=>Pg,_Bn:()=>qb,_UZ:()=>a_,_c5:()=>sT,_uU:()=>yb,aQg:()=>Hy,c2e:()=>xf,cJS:()=>$t,cg1:()=>rg,dDg:()=>BD,dqk:()=>ze,eFA:()=>Gd,eJc:()=>fu,ekj:()=>Md,eoX:()=>Oy,f3M:()=>Rt,g9A:()=>zv,h0i:()=>Ud,hGG:()=>ew,hij:()=>Jp,iGM:()=>mE,ifc:()=>R,ip1:()=>Dy,jDz:()=>ry,kEZ:()=>rD,kL8:()=>Od,lG2:()=>gs,lqb:()=>Zc,lri:()=>xy,n5z:()=>Hn,oAB:()=>Go,oxw:()=>YC,q4F:()=>tC,qFp:()=>Zs,qLn:()=>uo,qOj:()=>Jm,qZA:()=>Dd,rWj:()=>Wd,s9C:()=>h_,sBO:()=>YD,s_b:()=>Bd,soG:()=>zd,tb:()=>Ly,tp0:()=>dt,uIk:()=>gn,vHH:()=>le,vpe:()=>po,wAp:()=>vt,xp6:()=>Fh,ynx:()=>ef,z2F:()=>Zd,zSh:()=>Rh,zs3:()=>Pl});var c=L(7579),B=L(727),x=L(9751),ne=L(6451),ie=L(3099);function oe(r){for(let o in r)if(r[o]===oe)return o;throw Error("Could not find renamed property on target object.")}function fe(r,o){for(const s in o)o.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=o[s])}function pe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(pe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function he(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const G=oe({__forward_ref__:oe});function z(r){return r.__forward_ref__=z,r.toString=function(){return pe(this())},r}function K(r){return ke(r)?r():r}function ke(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===z}function Ee(r){return r&&!!r.\u0275providers}const Qe="https://g.co/ng/security#xss";class le extends Error{constructor(o,s){super(function Ae(r,o){return`NG0${Math.abs(r)}${o?": "+o:""}`}(o,s)),this.code=o}}function Re(r){return"string"==typeof r?r:null==r?"":String(r)}function Te(r,o){throw new le(-201,!1)}function xe(r,o){null==r&&function Se(r,o,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${o} <=Actual]`))}(o,r,null,"!=")}function _t(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function $t(r){return{providers:r.providers||[],imports:r.imports||[]}}function en(r){return An(r,an)||An(r,yo)}function Gn(r){return null!==en(r)}function An(r,o){return r.hasOwnProperty(o)?r[o]:null}function Bn(r){return r&&(r.hasOwnProperty(Pr)||r.hasOwnProperty(ui))?r[Pr]:null}const an=oe({\u0275prov:oe}),Pr=oe({\u0275inj:oe}),yo=oe({ngInjectableDef:oe}),ui=oe({ngInjectorDef:oe});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let bn;function mn(r){const o=bn;return bn=r,o}function Bt(r,o,s){const l=en(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&et.Optional?null:void 0!==o?o:void Te(pe(r))}const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dn={},hn="__NG_DI_FLAG__",Cr="ngTempTokenPath",Qr=/\n/gm,En="__source";let or;function fn(r){const o=or;return or=r,o}function Mn(r,o=et.Default){if(void 0===or)throw new le(-203,!1);return null===or?Bt(r,void 0,o):or.get(r,o&et.Optional?null:void 0,o)}function Nt(r,o=et.Default){return(function vr(){return bn}()||Mn)(K(r),o)}function Rt(r,o=et.Default){return Nt(r,yn(o))}function yn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function di(r){const o=[];for(let s=0;s<r.length;s++){const l=K(r[s]);if(Array.isArray(l)){if(0===l.length)throw new le(900,!1);let u,h=et.Default;for(let m=0;m<l.length;m++){const v=l[m],E=jr(v);"number"==typeof E?-1===E?u=v.token:h|=E:u=v}o.push(Nt(u,h))}else o.push(Nt(l))}return o}function qn(r,o){return r[hn]=o,r.prototype[hn]=o,r}function jr(r){return r[hn]}function O(r){return{toString:r}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),R=(()=>{return(r=R||(R={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",R;var r})();const J={},re=[],$e=oe({\u0275cmp:oe}),ft=oe({\u0275dir:oe}),ut=oe({\u0275pipe:oe}),Wt=oe({\u0275mod:oe}),ct=oe({\u0275fac:oe}),Qt=oe({__NG_ELEMENT_ID__:oe}),At=oe({__NG_ENV_ID__:oe});function Kn(r,o,s){let l=r.length;for(;;){const u=r.indexOf(o,s);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=o.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}s=u+1}}function hi(r,o,s){let l=0;for(;l<s.length;){const u=s[l];if("number"==typeof u){if(0!==u)break;l++;const h=s[l++],m=s[l++],v=s[l++];r.setAttribute(o,m,v,h)}else{const h=u,m=s[++l];te(h)?r.setProperty(o,h,m):r.setAttribute(o,h,m),l++}}return l}function ue(r){return 3===r||4===r||6===r}function te(r){return 64===r.charCodeAt(0)}function Pe(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let s=-1;for(let l=0;l<o.length;l++){const u=o[l];"number"==typeof u?s=u:0===s||tt(r,s,u,null,-1===s||2===s?o[++l]:null)}}return r}function tt(r,o,s,l,u){let h=0,m=r.length;if(-1===o)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===o){m=-1;break}if(v>o){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===s){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,o),h=m+1),r.splice(h++,0,s),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}const yt="ng-template";function Pt(r,o,s){let l=0,u=!0;for(;l<r.length;){let h=r[l++];if("string"==typeof h&&u){const m=r[l++];if(s&&"class"===h&&-1!==Kn(m.toLowerCase(),o,0))return!0}else{if(1===h){for(;l<r.length&&"string"==typeof(h=r[l++]);)if(h.toLowerCase()===o)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function Gt(r){return 4===r.type&&r.value!==yt}function sr(r,o,s){return o===(4!==r.type||s?r.value:yt)}function Rn(r,o,s){let l=4;const u=r.attrs||[],h=function vo(r){for(let o=0;o<r.length;o++)if(ue(r[o]))return o;return r.length}(u);let m=!1;for(let v=0;v<o.length;v++){const E=o[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!sr(r,E,s)||""===E&&1===o.length){if(Yn(l))return!1;m=!0}}else{const D=8&l?E:o[++v];if(8&l&&null!==r.attrs){if(!Pt(r.attrs,D,s)){if(Yn(l))return!1;m=!0}continue}const V=hs(8&l?"class":E,u,Gt(r),s);if(-1===V){if(Yn(l))return!1;m=!0;continue}if(""!==D){let Z;Z=V>h?"":u[V+1].toLowerCase();const X=8&l?Z:null;if(X&&-1!==Kn(X,D,0)||2&l&&D!==Z){if(Yn(l))return!1;m=!0}}}}else{if(!m&&!Yn(l)&&!Yn(E))return!1;if(m&&Yn(E))continue;m=!1,l=E|1&l}}return Yn(l)||m}function Yn(r){return 0==(1&r)}function hs(r,o,s,l){if(null===o)return-1;let u=0;if(l||!s){let h=!1;for(;u<o.length;){const m=o[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=o[++u];for(;"string"==typeof v;)v=o[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function Co(r,o){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===o)return s;s++}return-1}(o,r)}function fs(r,o,s=!1){for(let l=0;l<o.length;l++)if(Rn(r,o[l],s))return!0;return!1}function bu(r,o){return r?":not("+o.trim()+")":o}function qs(r){let o=r[0],s=1,l=2,u="",h=!1;for(;s<r.length;){let m=r[s];if("string"==typeof m)if(2&l){const v=r[++s];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!Yn(m)&&(o+=bu(h,u),u=""),l=m,h=h||!Yn(l);s++}return""!==u&&(o+=bu(h,u)),o}function Ks(r){return O(()=>{const o=Ka(r),s={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,data:r.data||{},encapsulation:r.encapsulation||R.Emulated,styles:r.styles||re,_:null,schemas:r.schemas||null,tView:null,id:""};ar(s);const l=r.dependencies;return s.directiveDefs=Zo(l,!1),s.pipeDefs=Zo(l,!0),s.id=function Yd(r){let o=0;const s=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const u of s)o=Math.imul(31,o)+u.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(s),s})}function Eu(r){return Zt(r)||Jn(r)}function Za(r){return null!==r}function Go(r){return O(()=>({type:r.type,bootstrap:r.bootstrap||re,declarations:r.declarations||re,imports:r.imports||re,exports:r.exports||re,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function wu(r,o){if(null==r)return J;const s={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=l,o&&(o[u]=h)}return s}function gs(r){return O(()=>{const o=Ka(r);return ar(o),o})}function qa(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Zt(r){return r[$e]||null}function Jn(r){return r[ft]||null}function dr(r){return r[ut]||null}function Ys(r){const o=Zt(r)||Jn(r)||dr(r);return null!==o&&o.standalone}function nn(r,o){const s=r[Wt]||null;if(!s&&!0===o)throw new Error(`Type ${pe(r)} does not have '\u0275mod' property.`);return s}function Ka(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,exportAs:r.exportAs||null,standalone:!0===r.standalone,selectors:r.selectors||re,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wu(r.inputs,o),outputs:wu(r.outputs)}}function ar(r){r.features?.forEach(o=>o(r))}function Zo(r,o){if(!r)return null;const s=o?dr:Eu;return()=>("function"==typeof r?r():r).map(l=>s(l)).filter(Za)}const In=0,Ge=1,Ct=2,pn=3,Hr=4,Gi=5,Qn=6,ms=7,rn=8,Js=9,bo=10,bt=11,Xr=12,qo=13,_s=14,Xt=15,Qs=16,Eo=17,ei=18,Zi=19,Jd=20,qi=21,Ki=22,Xs=23,ys=24,wt=25,rc=1,wo=2,Io=7,ea=8,$r=9,On=11;function zr(r){return Array.isArray(r)&&"object"==typeof r[rc]}function br(r){return Array.isArray(r)&&!0===r[rc]}function Ya(r){return 0!=(4&r.flags)}function ti(r){return r.componentOffset>-1}function Ko(r){return 1==(1&r.flags)}function Wr(r){return!!r.template}function oc(r){return 0!=(512&r[Ct])}function Yi(r,o){return r.hasOwnProperty(ct)?r[ct]:null}let Fg=ze.WeakRef??class Mu{constructor(o){this.ref=o}deref(){return this.ref}},Ru=0,Or=null,Do=!1;function Xn(r){const o=Or;return Or=r,o}class dc{constructor(){this.id=Ru++,this.ref=function Ji(r){return new Fg(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,s]of this.producers){const l=s.producerNode.deref();if(void 0!==l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(o),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Do;Do=!0;try{for(const[s,l]of this.consumers){const u=l.consumerNode.deref();void 0!==u&&u.trackingVersion===l.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),u?.producers.delete(this.id))}}finally{Do=o}}producerAccessed(){if(Do)throw new Error("");if(null===Or)return;let o=Or.producers.get(this.id);void 0===o?(o={consumerNode:Or.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Or.trackingVersion},Or.producers.set(this.id,o),this.consumers.set(Or.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Or.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Or?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let gc=null;const nh=()=>{};class er extends dc{constructor(o,s,l){super(),this.watch=o,this.schedule=s,this.dirty=!1,this.cleanupFn=nh,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Xn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=nh,this.watch(this.registerOnCleanup)}finally{Xn(o)}}cleanup(){this.cleanupFn()}}class Gf{constructor(o,s,l){this.previousValue=o,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Cs(){return rh}function rh(r){return r.type.prototype.ngOnChanges&&(r.setInput=ih),il}function il(){const r=mc(this),o=r?.current;if(o){const s=r.previous;if(s===J)r.previous=o;else for(let l in o)s[l]=o[l];r.current=null,this.ngOnChanges(o)}}function ih(r,o,s,l){const u=this.declaredInputs[s],h=mc(r)||function sa(r,o){return r[oa]=o}(r,{previous:J,current:null}),m=h.current||(h.current={}),v=h.previous,E=v[u];m[u]=new Gf(E&&E.currentValue,o,v===J),r[l]=o}Cs.ngInherit=!0;const oa="__ngSimpleChanges__";function mc(r){return r[oa]||null}const Ai=function(r,o,s){};function cn(r){for(;Array.isArray(r);)r=r[In];return r}function aa(r,o){return cn(o[r])}function Er(r,o){return cn(o[r.index])}function al(r,o){return r.data[o]}function wr(r,o){const s=o[r];return zr(s)?s:s[In]}function ca(r){return 128==(128&r[Ct])}function pi(r,o){return null==o?null:r[o]}function oh(r){r[Eo]=0}function cl(r){1024&r[Ct]||(r[Ct]|=1024,xu(r,1))}function bc(r){1024&r[Ct]&&(r[Ct]&=-1025,xu(r,-1))}function xu(r,o){let s=r[pn];if(null===s)return;s[Gi]+=o;let l=s;for(s=s[pn];null!==s&&(1===o&&1===l[Gi]||-1===o&&0===l[Gi]);)s[Gi]+=o,l=s,s=s[pn]}const pt={lFrame:ws(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hl(){return pt.bindingsEnabled}function we(){return pt.lFrame.lView}function Ot(){return pt.lFrame.tView}function fa(r){return pt.lFrame.contextLView=r,r[rn]}function Nu(r){return pt.lFrame.contextLView=null,r}function fr(){let r=fl();for(;null!==r&&64===r.type;)r=r.parent;return r}function fl(){return pt.lFrame.currentTNode}function Gr(r,o){const s=pt.lFrame;s.currentTNode=r,s.isParent=o}function pa(){return pt.lFrame.isParent}function ga(){pt.lFrame.isParent=!1}function Nr(){const r=pt.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function Qi(){return pt.lFrame.bindingIndex++}function Tc(r,o){const s=pt.lFrame;s.bindingIndex=s.bindingRootIndex=r,Sc(o)}function Sc(r){pt.lFrame.currentDirectiveIndex=r}function gl(){return pt.lFrame.currentQueryIndex}function Xi(r){pt.lFrame.currentQueryIndex=r}function ml(r){const o=r[Ge];return 2===o.type?o.declTNode:1===o.type?r[Qn]:null}function lh(r,o,s){if(s&et.SkipSelf){let u=o,h=r;for(;!(u=u.parent,null!==u||s&et.Host||(u=ml(h),null===u||(h=h[_s],10&u.type))););if(null===u)return!1;o=u,r=h}const l=pt.lFrame=Lu();return l.currentTNode=o,l.lView=r,!0}function ma(r){const o=Lu(),s=r[Ge];pt.lFrame=o,o.currentTNode=s.firstChild,o.lView=r,o.tView=s,o.contextLView=r,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function Lu(){const r=pt.lFrame,o=null===r?null:r.child;return null===o?ws(r):o}function ws(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Ac(){const r=pt.lFrame;return pt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Qo=Ac;function gi(){const r=Ac();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function pr(){return pt.lFrame.selectedIndex}function eo(r){pt.lFrame.selectedIndex=r}function Dn(){const r=pt.lFrame;return al(r.tView,r.selectedIndex)}let Mc=!0;function yl(){return Mc}function to(r){Mc=r}function Rc(r,o){for(let s=o.directiveStart,l=o.directiveEnd;s<l;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:M}=h;m&&(r.contentHooks??=[]).push(-s,m),v&&((r.contentHooks??=[]).push(s,v),(r.contentCheckHooks??=[]).push(s,v)),E&&(r.viewHooks??=[]).push(-s,E),D&&((r.viewHooks??=[]).push(s,D),(r.viewCheckHooks??=[]).push(s,D)),null!=M&&(r.destroyHooks??=[]).push(s,M)}}function Pc(r,o,s){xc(r,o,3,s)}function Is(r,o,s,l){(3&r[Ct])===s&&xc(r,o,s,l)}function vl(r,o){let s=r[Ct];(3&s)===o&&(s&=4095,s+=1,r[Ct]=s)}function xc(r,o,s,l){const h=l??-1,m=o.length-1;let v=0;for(let E=void 0!==l?65535&r[Eo]:0;E<m;E++)if("number"==typeof o[E+1]){if(v=o[E],null!=l&&v>=l)break}else o[E]<0&&(r[Eo]+=65536),(v<h||-1==h)&&(Bu(r,s,o,E),r[Eo]=(4294901760&r[Eo])+E+2),E++}function Vu(r,o){Ai(4,r,o);const s=Xn(null);try{o.call(r)}finally{Xn(s),Ai(5,r,o)}}function Bu(r,o,s,l){const u=s[l]<0,h=s[l+1],v=r[u?-s[l]:s[l]];u?r[Ct]>>12<r[Eo]>>16&&(3&r[Ct])===o&&(r[Ct]+=4096,Vu(v,h)):Vu(v,h)}const _a=-1;class Ds{constructor(o,s,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function kr(r){return r!==_a}function Lr(r){return 32767&r}function Cl(r,o){let s=function ya(r){return r>>16}(r),l=o;for(;s>0;)l=l[_s],s--;return l}let mi=!0;function Ss(r){const o=mi;return mi=r,o}const Nc=255,Ro=5;let Et=0;const ri={};function Fr(r,o){const s=jn(r,o);if(-1!==s)return s;const l=o[Ge];l.firstCreatePass&&(r.injectorIndex=o.length,Po(l.data,r),Po(o,null),Po(l.blueprint,null));const u=va(r,o),h=r.injectorIndex;if(kr(u)){const m=Lr(u),v=Cl(u,o),E=v[Ge].data;for(let D=0;D<8;D++)o[h+D]=v[m+D]|E[m+D]}return o[h+8]=u,h}function Po(r,o){r.push(0,0,0,0,0,0,0,0,o)}function jn(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function va(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,u=o;for(;null!==u;){if(l=Ln(u),null===l)return _a;if(s++,u=u[_s],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return _a}function As(r,o,s){!function Hu(r,o,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Qt)&&(l=s[Qt]),null==l&&(l=s[Qt]=Et++);const u=l&Nc;o.data[r+(u>>Ro)]|=1<<u}(r,o,s)}function Ca(r,o,s){if(s&et.Optional||void 0!==r)return r;Te()}function zu(r,o,s,l){if(s&et.Optional&&void 0===l&&(l=null),!(s&(et.Self|et.Host))){const u=r[Js],h=mn(void 0);try{return u?u.get(o,l,s&et.Optional):Bt(o,l,s&et.Optional)}finally{mn(h)}}return Ca(l,0,s)}function _i(r,o,s,l=et.Default,u){if(null!==r){if(2048&o[Ct]&&!(l&et.Self)){const m=function bl(r,o,s,l,u){let h=r,m=o;for(;null!==h&&null!==m&&2048&m[Ct]&&!(512&m[Ct]);){const v=ba(h,m,s,l|et.Self,ri);if(v!==ri)return v;let E=h.parent;if(!E){const D=m[Jd];if(D){const M=D.get(s,ri,l);if(M!==ri)return M}E=Ln(m),m=m[_s]}h=E}return u}(r,o,s,l,ri);if(m!==ri)return m}const h=ba(r,o,s,l,ri);if(h!==ri)return h}return zu(o,s,l,u)}function ba(r,o,s,l,u){const h=function kc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Qt)?r[Qt]:void 0;return"number"==typeof o?o>=0?o&Nc:Wu:o}(s);if("function"==typeof h){if(!lh(o,r,l))return l&et.Host?Ca(u,0,l):zu(o,s,l,u);try{const m=h(l);if(null!=m||l&et.Optional)return m;Te()}finally{Qo()}}else if("number"==typeof h){let m=null,v=jn(r,o),E=_a,D=l&et.Host?o[Xt][Qn]:null;for((-1===v||l&et.SkipSelf)&&(E=-1===v?va(r,o):o[v+8],E!==_a&&Ms(l,!1)?(m=o[Ge],v=Lr(E),o=Cl(E,o)):v=-1);-1!==v;){const M=o[Ge];if(ph(h,v,M.data)){const V=Kf(v,o,s,m,l,D);if(V!==ri)return V}E=o[v+8],E!==_a&&Ms(l,o[Ge].data[v+8]===D)&&ph(h,v,o)?(m=M,v=Lr(E),o=Cl(E,o)):v=-1}}return u}function Kf(r,o,s,l,u,h){const m=o[Ge],v=m.data[r+8],M=yi(v,m,s,null==l?ti(v)&&mi:l!=m&&0!=(3&v.type),u&et.Host&&h===v);return null!==M?Zr(o,m,M,v):ri}function yi(r,o,s,l,u){const h=r.providerIndexes,m=o.data,v=1048575&h,E=r.directiveStart,M=h>>20,Z=u?v+M:r.directiveEnd;for(let X=l?v:v+M;X<Z;X++){const ge=m[X];if(X<E&&s===ge||X>=E&&ge.type===s)return X}if(u){const X=m[E];if(X&&Wr(X)&&X.type===s)return E}return null}function Zr(r,o,s,l){let u=r[s];const h=o.data;if(function ju(r){return r instanceof Ds}(u)){const m=u;m.resolving&&function Ce(r,o){const s=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new le(-200,`Circular dependency in DI detected for ${r}${s}`)}(function Le(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Re(r)}(h[s]));const v=Ss(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?mn(m.injectImpl):null;lh(r,l,et.Default);try{u=r[s]=m.factory(void 0,h,r,l),o.firstCreatePass&&s>=l.directiveStart&&function Uu(r,o,s){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=o.type.prototype;if(l){const m=rh(o);(s.preOrderHooks??=[]).push(r,m),(s.preOrderCheckHooks??=[]).push(r,m)}u&&(s.preOrderHooks??=[]).push(0-r,u),h&&((s.preOrderHooks??=[]).push(r,h),(s.preOrderCheckHooks??=[]).push(r,h))}(s,h[s],o)}finally{null!==E&&mn(E),Ss(v),m.resolving=!1,Qo()}}return u}function ph(r,o,s){return!!(s[o+(r>>Ro)]&1<<r)}function Ms(r,o){return!(r&et.Self||r&et.Host&&o)}class Ur{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,l){return _i(this._tNode,this._lView,o,yn(l),s)}}function Wu(){return new Ur(fr(),we())}function Hn(r){return O(()=>{const o=r.prototype.constructor,s=o[ct]||Rs(o),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[ct]||Rs(u);if(h&&h!==s)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Rs(r){return ke(r)?()=>{const o=Rs(K(r));return o&&o()}:Yi(r)}function Ln(r){const o=r[Ge],s=o.type;return 2===s?o.declTNode:1===s?r[Qn]:null}function no(r){return function $u(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const s=r.attrs;if(s){const l=s.length;let u=0;for(;u<l;){const h=s[u];if(ue(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof s[u];)u++;else{if(h===o)return s[u+1];u+=2}}}return null}(fr(),r)}const mr="__parameters__";function io(r,o,s){return O(()=>{const l=function El(r){return function(...s){if(r){const l=r(...s);for(const u in l)this[u]=l[u]}}}(o);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(E,D,M){const V=E.hasOwnProperty(mr)?E[mr]:Object.defineProperty(E,mr,{value:[]})[mr];for(;V.length<=M;)V.push(null);return(V[M]=V[M]||[]).push(m),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}function $n(r,o){r.forEach(s=>Array.isArray(s)?$n(s,o):o(s))}function Da(r,o,s){o>=r.length?r.push(s):r.splice(o,0,s)}function Ta(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function qr(r,o,s){let l=ts(r,o);return l>=0?r[1|l]=s:(l=~l,function Oo(r,o,s,l){let u=r.length;if(u==o)r.push(s,l);else if(1===u)r.push(l,r[0]),r[0]=s;else{for(u--,r.push(r[u-1],r[u]);u>o;)r[u]=r[u-2],u--;r[o]=s,r[o+1]=l}}(r,l,o,s)),l}function wl(r,o){const s=ts(r,o);if(s>=0)return r[1|s]}function ts(r,o){return function ns(r,o,s){let l=0,u=r.length>>s;for(;u!==l;){const h=l+(u-l>>1),m=r[h<<s];if(o===m)return h<<s;m>o?u=h:l=h+1}return~(u<<s)}(r,o,1)}const Ye=qn(io("Optional"),8),dt=qn(io("SkipSelf"),4);function Aa(r){return 128==(128&r.flags)}var ai=(()=>((ai=ai||{})[ai.Important=1]="Important",ai[ai.DashCase=2]="DashCase",ai))();const jc=/^>|^->|<!--|-->|--!>|<!-$/g,Hc=/(<|>)/,Wg="\u200b$1\u200b";const Gg=new Map;let Ew=0;const lv="__ngContext__";function li(r,o){zr(o)?(r[lv]=o[Zi],function Iw(r){Gg.set(r[Zi],r)}(o)):r[lv]=o}let Qg;function Qu(r,o){return Qg(r,o)}function $c(r){const o=r[pn];return br(o)?o[pn]:o}function yh(r){return pv(r[Xr])}function Xu(r){return pv(r[Hr])}function pv(r){for(;null!==r&&!br(r);)r=r[Hr];return r}function Pa(r,o,s,l,u){if(null!=l){let h,m=!1;br(l)?h=l:zr(l)&&(m=!0,l=l[In]);const v=cn(l);0===r&&null!==s?null==u?bv(o,s,v):Wc(o,s,v,u||null,!0):1===r&&null!==s?Wc(o,s,v,u||null,!0):2===r?function rp(r,o,s){const l=Dl(r,o);l&&function is(r,o,s,l){r.removeChild(o,s,l)}(r,l,o,s)}(o,v,m):3===r&&o.destroyNode(v),null!=h&&function Pw(r,o,s,l,u){const h=s[Io];h!==cn(s)&&Pa(o,r,l,h,u);for(let v=On;v<s.length;v++){const E=s[v];Ch(E[Ge],E,r,o,l,h)}}(o,r,h,s,u)}}function zc(r,o){return r.createComment(function sv(r){return r.replace(jc,o=>o.replace(Hc,Wg))}(o))}function ep(r,o,s){return r.createElement(o,s)}function tm(r,o){const s=r[$r],l=s.indexOf(o);bc(o),s.splice(l,1)}function nm(r,o){if(r.length<=On)return;const s=On+o,l=r[s];if(l){const u=l[Qs];null!==u&&u!==r&&tm(u,l),o>0&&(r[s-1][Hr]=l[Hr]);const h=Ta(r,On+o);!function Sw(r,o){Ch(r,o,o[bt],2,null,null),o[In]=null,o[Qn]=null}(l[Ge],l);const m=h[ei];null!==m&&m.detachView(h[Ge]),l[pn]=null,l[Hr]=null,l[Ct]&=-129}return l}function Aw(r,o){if(!(256&o[Ct])){const s=o[bt];o[Xs]?.destroy(),o[ys]?.destroy(),s.destroyNode&&Ch(r,o,s,3,null,null),function _v(r){let o=r[Xr];if(!o)return Cv(r[Ge],r);for(;o;){let s=null;if(zr(o))s=o[Xr];else{const l=o[On];l&&(s=l)}if(!s){for(;o&&!o[Hr]&&o!==r;)zr(o)&&Cv(o[Ge],o),o=o[pn];null===o&&(o=r),zr(o)&&Cv(o[Ge],o),s=o&&o[Hr]}o=s}}(o)}}function Cv(r,o){if(!(256&o[Ct])){o[Ct]&=-129,o[Ct]|=256,function nS(r,o){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const u=o[s[l]];if(!(u instanceof Ds)){const h=s[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],E=h[m+1];Ai(4,v,E);try{E.call(v)}finally{Ai(5,v,E)}}else{Ai(4,u,h);try{h.call(u)}finally{Ai(5,u,h)}}}}}(r,o),function tS(r,o){const s=r.cleanup,l=o[ms];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+3];m>=0?l[m]():l[-m].unsubscribe(),h+=2}else s[h].call(l[s[h+1]]);null!==l&&(o[ms]=null);const u=o[qi];if(null!==u){o[qi]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(r,o),1===o[Ge].type&&o[bt].destroy();const s=o[Qs];if(null!==s&&br(o[pn])){s!==o[pn]&&tm(s,o);const l=o[ei];null!==l&&l.detachView(r)}!function Dw(r){Gg.delete(r[Zi])}(o)}}function rm(r,o,s){return function Mw(r,o,s){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return s[In];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:h}=r.data[l.directiveStart+u];if(h===R.None||h===R.Emulated)return null}return Er(l,s)}}(r,o.parent,s)}function Wc(r,o,s,l,u){r.insertBefore(o,s,l,u)}function bv(r,o,s){r.appendChild(o,s)}function tp(r,o,s,l,u){null!==l?Wc(r,o,s,l,u):bv(r,o,s)}function Dl(r,o){return r.parentNode(o)}let ed,sm,ip,im=function wv(r,o,s){return 40&r.type?Er(r,s):null};function np(r,o,s,l){const u=rm(r,l,o),h=o[bt],v=function Ev(r,o,s){return im(r,o,s)}(l.parent||o[Qn],l,o);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)tp(h,u,s[E],v,!1);else tp(h,u,s,v,!1);void 0!==ed&&ed(h,l,o,s,u)}function Ns(r,o){if(null!==o){const s=o.type;if(3&s)return Er(o,r);if(4&s)return om(-1,r[o.index]);if(8&s){const l=o.child;if(null!==l)return Ns(r,l);{const u=r[o.index];return br(u)?om(-1,u):cn(u)}}if(32&s)return Qu(o,r)()||cn(r[o.index]);{const l=td(r,o);return null!==l?Array.isArray(l)?l[0]:Ns($c(r[Xt]),l):Ns(r,o.next)}}return null}function td(r,o){return null!==o?r[Xt][Qn].projection[o.projection]:null}function om(r,o){const s=On+r+1;if(s<o.length){const l=o[s],u=l[Ge].firstChild;if(null!==u)return Ns(l,u)}return o[Io]}function Gc(r,o,s,l,u,h,m){for(;null!=s;){const v=l[s.index],E=s.type;if(m&&0===o&&(v&&li(cn(v),l),s.flags|=2),32!=(32&s.flags))if(8&E)Gc(r,o,s.child,l,u,h,!1),Pa(o,r,u,v,h);else if(32&E){const D=Qu(s,l);let M;for(;M=D();)Pa(o,r,u,M,h);Pa(o,r,u,v,h)}else 16&E?Dv(r,o,l,s,u,h):Pa(o,r,u,v,h);s=m?s.projectionNext:s.next}}function Ch(r,o,s,l,u,h){Gc(s,l,r.firstChild,o,u,h,!1)}function Dv(r,o,s,l,u,h){const m=s[Xt],E=m[Qn].projection[l.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)Pa(o,r,u,E[D],h);else{let D=E;const M=m[pn];Aa(l)&&(D.flags|=128),Gc(r,o,D,M,u,h,!0)}}function Nw(r,o,s){""===s?r.removeAttribute(o,"class"):r.setAttribute(o,"class",s)}function Tv(r,o,s){const{mergedAttrs:l,classes:u,styles:h}=s;null!==l&&hi(r,o,l),null!==u&&Nw(r,o,u),null!==h&&function Ow(r,o,s){r.setAttribute(o,"style",s)}(r,o,h)}function Uw(r){sm=r}function wh(r){return function am(){if(void 0===ip&&(ip=null,ze.trustedTypes))try{ip=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ip}()?.createScriptURL(r)||r}class cm{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}function ks(r){return r instanceof cm?r.changingThisBreaksApplicationSecurity:r}function Ih(r,o){const s=function um(r){return r instanceof cm&&r.getTypeName()||null}(r);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${Qe})`)}return s===o}const Gw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function ym(r){const o=Ah();return o?o.sanitize(yr.URL,r)||"":Ih(r,"URL")?ks(r):function dm(r){return(r=String(r)).match(Gw)?r:"unsafe:"+r}(Re(r))}function Pv(r){const o=Ah();if(o)return wh(o.sanitize(yr.RESOURCE_URL,r)||"");if(Ih(r,"ResourceURL"))return wh(ks(r));throw new le(904,!1)}function Ov(r,o,s){return function Xw(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?Pv:ym}(o,s)(r)}function Ah(){const r=we();return r&&r[bo].sanitizer}class zt{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=_t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mh=new zt("ENVIRONMENT_INITIALIZER"),Nv=new zt("INJECTOR",-1),vm=new zt("INJECTOR_DEF_TYPES");class e0{get(o,s=dn){if(s===dn){const l=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw l.name="NullInjectorError",l}return s}}function kv(r){return{\u0275providers:r}}function t0(...r){return{\u0275providers:ap(0,r),\u0275fromNgModule:!0}}function ap(r,...o){const s=[],l=new Set;let u;return $n(o,h=>{const m=h;Lv(m,s,[],l)&&(u||=[],u.push(m))}),void 0!==u&&Cm(u,s),s}function Cm(r,o){for(let s=0;s<r.length;s++){const{providers:u}=r[s];ss(u,h=>{o.push(h)})}}function Lv(r,o,s,l){if(!(r=K(r)))return!1;let u=null,h=Bn(r);const m=!h&&Zt(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const E=r.ngModule;if(h=Bn(E),!h)return!1;u=E}const v=l.has(u);if(m){if(v)return!1;if(l.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const D of E)Lv(D,o,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let D;l.add(u);try{$n(h.imports,M=>{Lv(M,o,s,l)&&(D||=[],D.push(M))})}finally{}void 0!==D&&Cm(D,o)}if(!v){const D=Yi(u)||(()=>new u);o.push({provide:u,useFactory:D,deps:re},{provide:vm,useValue:u,multi:!0},{provide:Mh,useValue:()=>Nt(u),multi:!0})}const E=h.providers;null==E||v||ss(E,M=>{o.push(M)})}}return u!==r&&void 0!==r.providers}function ss(r,o){for(let s of r)Ee(s)&&(s=s.\u0275providers),Array.isArray(s)?ss(s,o):o(s)}const r0=oe({provide:String,useValue:oe});function Fv(r){return null!==r&&"object"==typeof r&&r0 in r}function Tl(r){return"function"==typeof r}const Rh=new zt("Set Injector scope."),lp={},a0={};let Vv;function Ph(){return void 0===Vv&&(Vv=new e0),Vv}class Zc{}class Bv extends Zc{get destroyed(){return this._destroyed}constructor(o,s,l,u){super(),this.parent=s,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bm(o,m=>this.processProvider(m)),this.records.set(Nv,qc(void 0,this)),u.has("environment")&&this.records.set(Zc,qc(void 0,this));const h=this.records.get(Rh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(vm.multi,re,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of o)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const s=fn(this),l=mn(void 0);try{return o()}finally{fn(s),mn(l)}}get(o,s=dn,l=et.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(At))return o[At](this);l=yn(l);const u=fn(this),h=mn(void 0);try{if(!(l&et.SkipSelf)){let v=this.records.get(o);if(void 0===v){const E=function Hv(r){return"function"==typeof r||"object"==typeof r&&r instanceof zt}(o)&&en(o);v=E&&this.injectableDefInScope(E)?qc(jv(o),lp):null,this.records.set(o,v)}if(null!=v)return this.hydrate(o,v)}return(l&et.Self?Ph():this.parent).get(o,s=l&et.Optional&&s===dn?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Cr]=m[Cr]||[]).unshift(pe(o)),u)throw m;return function $(r,o,s,l){const u=r[Cr];throw o[En]&&u.unshift(o[En]),r.message=function H(r,o,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=pe(o);if(Array.isArray(o))u=o.map(pe).join(" -> ");else if("object"==typeof o){let h=[];for(let m in o)if(o.hasOwnProperty(m)){let v=o[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):pe(v)))}u=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${u}]: ${r.replace(Qr,"\n  ")}`}("\n"+r.message,u,s,l),r.ngTokenPath=u,r[Cr]=null,r}(m,o,"R3InjectorError",this.source)}throw m}finally{mn(h),fn(u)}}resolveInjectorInitializers(){const o=fn(this),s=mn(void 0);try{const l=this.get(Mh.multi,re,et.Self);for(const u of l)u()}finally{fn(o),mn(s)}}toString(){const o=[],s=this.records;for(const l of s.keys())o.push(pe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(o){let s=Tl(o=K(o))?o:K(o&&o.provide);const l=function l0(r){return Fv(r)?qc(void 0,r.useValue):qc(c0(r),lp)}(o);if(Tl(o)||!0!==o.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=qc(void 0,lp,!0),u.factory=()=>di(u.multi),this.records.set(s,u)),s=o,u.multi.push(o)}this.records.set(s,l)}hydrate(o,s){return s.value===lp&&(s.value=a0,s.value=s.factory()),"object"==typeof s.value&&s.value&&function d0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(o){if(!o.providedIn)return!1;const s=K(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(o){const s=this._onDestroyHooks.indexOf(o);-1!==s&&this._onDestroyHooks.splice(s,1)}}function jv(r){const o=en(r),s=null!==o?o.factory:Yi(r);if(null!==s)return s;if(r instanceof zt)throw new le(204,!1);if(r instanceof Function)return function gS(r){const o=r.length;if(o>0)throw function Ir(r,o){const s=[];for(let l=0;l<r;l++)s.push(o);return s}(o,"?"),new le(204,!1);const s=function ir(r){return r&&(r[an]||r[yo])||null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new le(204,!1)}function c0(r,o,s){let l;if(Tl(r)){const u=K(r);return Yi(u)||jv(u)}if(Fv(r))l=()=>K(r.useValue);else if(function s0(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...di(r.deps||[]));else if(function o0(r){return!(!r||!r.useExisting)}(r))l=()=>Nt(K(r.useExisting));else{const u=K(r&&(r.useClass||r.provide));if(!function u0(r){return!!r.deps}(r))return Yi(u)||jv(u);l=()=>new u(...di(r.deps))}return l}function qc(r,o,s=!1){return{factory:r,value:o,multi:s?[]:void 0}}function bm(r,o){for(const s of r)Array.isArray(s)?bm(s,o):s&&Ee(s)?bm(s.\u0275providers,o):o(s)}const $v=new zt("AppId",{providedIn:"root",factory:()=>h0}),h0="ng",zv=new zt("Platform Initializer"),Em=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_S=new zt("CSP nonce",{providedIn:"root",factory:()=>function Eh(){if(void 0!==sm)return sm;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let p0=(r,o)=>null;function g0(r,o){return p0(r,o)}class ES{}class _0{}class y0{resolveComponentFactory(o){throw function wS(r){const o=Error(`No component factory found for ${pe(r)}.`);return o.ngComponent=r,o}(o)}}let dp=(()=>{class r{}return r.NULL=new y0,r})();function v0(){return Sl(fr(),we())}function Sl(r,o){return new ud(Er(r,o))}let ud=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=v0,r})();function Oa(r){return r instanceof ud?r.nativeElement:r}class Ls{}let xm=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Xv(){const r=we(),s=wr(fr().index,r);return(zr(s)?s:r)[bt]}(),r})(),C0=(()=>{class r{}return r.\u0275prov=_t({token:r,providedIn:"root",factory:()=>null}),r})();class eC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const tC=new eC("16.0.3"),Om={};function nr(r){for(;r;){r[Ct]|=64;const o=$c(r);if(oc(r)&&!o)return r;r=o}return null}function Nm(r){return r.ngOriginalError}class uo{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&Nm(o);for(;s&&Nm(s);)s=Nm(s);return s||null}}const U=new zt("",{providedIn:"root",factory:()=>!1});function vi(r){return r instanceof Function?r():r}class Dr extends dc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){nr(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,s,l){const u=Xn(this);this.trackingVersion++;try{o(s,l)}finally{Xn(u)}}destroy(){this.trackingVersion++}}let Ml=null;function gp(){return Ml??=new Dr,Ml}function as(r,o){return r[o]??gp()}function Kr(r,o){const s=gp();s.hasReadASignal&&(r[o]=Ml,s.lView=r,Ml=new Dr)}const xt={};function Fh(r){aC(Ot(),we(),pr()+r,!1)}function aC(r,o,s,l){if(!l)if(3==(3&o[Ct])){const h=r.preOrderCheckHooks;null!==h&&Pc(o,h,s)}else{const h=r.preOrderHooks;null!==h&&Is(o,h,0,s)}eo(s)}function uC(r,o=null,s=null,l){const u=dC(r,o,s,l);return u.resolveInjectorInitializers(),u}function dC(r,o=null,s=null,l,u=new Set){const h=[s||re,t0(r)];return l=l||("object"==typeof r?void 0:pe(r)),new Bv(h,o||Ph(),l||null,u)}let Pl=(()=>{class r{static create(s,l){if(Array.isArray(s))return uC({name:""},l,s,"");{const u=s.name??"";return uC({name:u},s.parent,s.providers,u)}}}return r.THROW_IF_NOT_FOUND=dn,r.NULL=new e0,r.\u0275prov=_t({token:r,providedIn:"any",factory:()=>Nt(Nv)}),r.__NG_ELEMENT_ID__=-1,r})();function dd(r,o=et.Default){const s=we();return null===s?Nt(r,o):_i(fr(),s,K(r),o)}function Fm(){throw new Error("invalid")}function _p(r,o,s,l,u,h,m,v,E,D,M){const V=o.blueprint.slice();return V[In]=u,V[Ct]=140|l,(null!==D||r&&2048&r[Ct])&&(V[Ct]|=2048),oh(V),V[pn]=V[_s]=r,V[rn]=s,V[bo]=m||r&&r[bo],V[bt]=v||r&&r[bt],V[Js]=E||r&&r[Js]||null,V[Qn]=h,V[Zi]=function ww(){return Ew++}(),V[Ki]=M,V[Jd]=D,V[Xt]=2==o.type?r[Xt]:V,V}function Fs(r,o,s,l,u){let h=r.data[o];if(null===h)h=function Um(r,o,s,l,u){const h=fl(),m=pa(),E=r.data[o]=function T0(r,o,s,l,u,h){let m=o?o.injectorIndex:-1,v=0;return function So(){return null!==pt.skipHydrationRootTNode}()&&(v|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,o,l,u);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(r,o,s,l,u),function Dc(){return pt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=u;const m=function Es(){const r=pt.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Gr(h,!0),h}function Vh(r,o,s,l){if(0===s)return-1;const u=o.length;for(let h=0;h<s;h++)o.push(l),r.blueprint.push(l),r.data.push(null);return u}function fd(r,o,s,l,u){const h=as(o,Xs),m=pr(),v=2&l;try{if(eo(-1),v&&o.length>wt&&aC(r,o,wt,!1),Ai(v?2:0,u),v)h.runInContext(s,l,u);else{const D=Xn(null);try{s(l,u)}finally{Xn(D)}}}finally{v&&null===o[Xs]&&Kr(o,Xs),eo(m),Ai(v?3:1,u)}}function pd(r,o,s){if(Ya(o)){const l=Xn(null);try{const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=r.data[m];v.contentQueries&&v.contentQueries(1,s[m],m)}}finally{Xn(l)}}}function yp(r,o,s){hl()&&(function CC(r,o,s,l){const u=s.directiveStart,h=s.directiveEnd;ti(s)&&function k0(r,o,s){const l=Er(o,r),m=ka(r,_p(r,Vm(s),null,s.onPush?64:16,l,o,null,r[bo].rendererFactory.createRenderer(l,s),null,null,null));r[o.index]=m}(o,s,r.data[u+s.componentOffset]),r.firstCreatePass||Fr(s,o),li(l,o);const m=s.initialInputs;for(let v=u;v<h;v++){const E=r.data[v],D=Zr(o,r,v,s);li(D,o),null!==m&&xl(0,v-u,D,E,0,m),Wr(E)&&(wr(s.index,o)[rn]=Zr(o,r,v,s))}}(r,o,s,Er(s,o)),64==(64&s.flags)&&Wm(r,o,s))}function vp(r,o,s=Er){const l=o.localNames;if(null!==l){let u=o.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?s(o,r):r[m];r[u++]=v}}}function Vm(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Cp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):o}function Cp(r,o,s,l,u,h,m,v,E,D,M){const V=wt+l,Z=V+u,X=function hC(r,o){const s=[];for(let l=0;l<o;l++)s.push(l<r?null:xt);return s}(V,Z),ge="function"==typeof D?D():D;return X[Ge]={type:r,blueprint:X,template:s,queries:null,viewQuery:v,declTNode:o,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ge,incompleteFirstPass:!1,ssrId:M}}let bp=r=>null;function jm(r,o,s,l){for(let u in r)if(r.hasOwnProperty(u)){s=null===s?{}:s;const h=r[u];null===l?_C(s,o,u,h):l.hasOwnProperty(u)&&_C(s,o,l[u],h)}return s}function _C(r,o,s,l){r.hasOwnProperty(s)?r[s].push(o,l):r[s]=[o,l]}function Ci(r,o,s,l,u,h,m,v){const E=Er(o,s);let M,D=o.inputs;!v&&null!=D&&(M=D[l])?(Dp(r,s,M,l,u),ti(o)&&function S0(r,o){const s=wr(o,r);16&s[Ct]||(s[Ct]|=64)}(s,o.index)):3&o.type&&(l=function $m(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,o.value||"",l):u,h.setProperty(E,l,u))}function zm(r,o,s,l){if(hl()){const u=null===l?null:{"":-1},h=function x0(r,o){const s=r.directiveRegistry;let l=null,u=null;if(s)for(let h=0;h<s.length;h++){const m=s[h];if(fs(o,m.selectors,!1))if(l||(l=[]),Wr(m))if(null!==m.findHostDirectiveDefs){const v=[];u=u||new Map,m.findHostDirectiveDefs(m,v,u),l.unshift(...v,m),Gm(r,o,v.length)}else l.unshift(m),Gm(r,o,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,l,u),l.push(m)}return null===l?null:[l,u]}(r,s);let m,v;null===h?m=v=null:[m,v]=h,null!==m&&yC(r,o,s,m,u,v),u&&function O0(r,o,s){if(o){const l=r.localNames=[];for(let u=0;u<o.length;u+=2){const h=s[o[u+1]];if(null==h)throw new le(-301,!1);l.push(o[u],h)}}}(s,l,u)}s.mergedAttrs=Pe(s.mergedAttrs,s.attrs)}function yC(r,o,s,l,u,h){for(let D=0;D<l.length;D++)As(Fr(s,o),r,l[D].type);!function bC(r,o,s){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+s,r.providerIndexes=o}(s,r.data.length,l.length);for(let D=0;D<l.length;D++){const M=l[D];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,E=Vh(r,o,l.length,null);for(let D=0;D<l.length;D++){const M=l[D];s.mergedAttrs=Pe(s.mergedAttrs,M.hostAttrs),EC(r,s,o,E,M),N0(E,M,u),null!==M.contentQueries&&(s.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=64);const V=M.type.prototype;!m&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((r.preOrderHooks??=[]).push(s.index),m=!0),!v&&(V.ngOnChanges||V.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(s.index),v=!0),E++}!function Hm(r,o,s){const u=o.directiveEnd,h=r.data,m=o.attrs,v=[];let E=null,D=null;for(let M=o.directiveStart;M<u;M++){const V=h[M],Z=s?s.get(V):null,ge=Z?Z.outputs:null;E=jm(V.inputs,M,E,Z?Z.inputs:null),D=jm(V.outputs,M,D,ge);const Ne=null===E||null===m||Gt(o)?null:L0(E,M,m);v.push(Ne)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=v,o.inputs=E,o.outputs=D}(r,s,h)}function Wm(r,o,s){const l=s.directiveStart,u=s.directiveEnd,h=s.index,m=function Nn(){return pt.lFrame.currentDirectiveIndex}();try{eo(h);for(let v=l;v<u;v++){const E=r.data[v],D=o[v];Sc(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&P0(E,D)}}finally{eo(-1),Sc(m)}}function P0(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Gm(r,o,s){o.componentOffset=s,(r.components??=[]).push(o.index)}function N0(r,o,s){if(s){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)s[o.exportAs[l]]=r;Wr(o)&&(s[""]=r)}}function EC(r,o,s,l,u){r.data[l]=u;const h=u.factory||(u.factory=Yi(u.type)),m=new Ds(h,Wr(u),dd);r.blueprint[l]=m,s[l]=m,function R0(r,o,s,l,u){const h=u.hostBindings;if(h){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~o.index;(function vC(r){let o=r.length;for(;o>0;){const s=r[--o];if("number"==typeof s&&s<0)return s}return 0})(m)!=v&&m.push(v),m.push(s,l,h)}}(r,o,l,Vh(r,s,u.hostVars,xt),u)}function Us(r,o,s,l,u,h){const m=Er(r,o);!function Zm(r,o,s,l,u,h,m){if(null==h)r.removeAttribute(o,u,s);else{const v=null==m?Re(h):m(h,l||"",u);r.setAttribute(o,u,v,s)}}(o[bt],m,h,r.value,s,l,u)}function xl(r,o,s,l,u,h){const m=h[o];if(null!==m)for(let v=0;v<m.length;)Ep(l,s,m[v++],m[v++],m[v++])}function Ep(r,o,s,l,u){const h=Xn(null);try{null!==r.setInput?r.setInput(o,u,s,l):o[l]=u}finally{Xn(h)}}function L0(r,o,s){let l=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===l&&(l=[]);const m=r[h];for(let v=0;v<m.length;v+=2)if(m[v]===o){l.push(h,m[v+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function wC(r,o,s,l){return[r,!0,!1,o,null,0,l,s,null,null,null]}function Bh(r,o){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const m=r.data[h];Xi(s[l]),m.contentQueries(2,o[h],h)}}}function ka(r,o){return r[Xr]?r[qo][Hr]=o:r[Xr]=o,r[qo]=o,o}function wp(r,o,s){Xi(0);const l=Xn(null);try{o(r,s)}finally{Xn(l)}}function IC(r){return r[ms]||(r[ms]=[])}function DC(r){return r.cleanup||(r.cleanup=[])}function Ip(r,o){const s=r[Js],l=s?s.get(uo,null):null;l&&l.handleError(o)}function Dp(r,o,s,l,u){for(let h=0;h<s.length;){const m=s[h++],v=s[h++];Ep(r.data[m],o[m],l,v,u)}}function SC(r,o){const s=wr(o,r),l=s[Ge];!function F0(r,o){for(let s=o.length;s<r.blueprint.length;s++)o.push(r.blueprint[s])}(l,s);const u=s[In];null!==u&&null===s[Ki]&&(s[Ki]=g0(u,s[Js])),Tp(l,s,s[rn])}function Tp(r,o,s){ma(o);try{const l=r.viewQuery;null!==l&&wp(1,l,s);const u=r.template;null!==u&&fd(r,o,u,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Bh(r,o),r.staticViewQueries&&wp(2,r.viewQuery,s);const h=r.components;null!==h&&function AC(r,o){for(let s=0;s<o.length;s++)SC(r,o[s])}(o,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{o[Ct]&=-5,gi()}}let qm=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(s,l,u){const h=typeof Zone>"u"?null:Zone.current,m=new er(s,D=>{this.all.has(D)&&this.queue.set(D,h)},u);let v;this.all.add(m),m.notify();const E=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=l?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return r.\u0275prov=_t({token:r,providedIn:"root",factory:()=>new r}),r})();function jh(r,o,s){let l=s?r.styles:null,u=s?r.classes:null,h=0;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:1==h?u=he(u,v):2==h&&(l=he(l,v+": "+o[++m]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=u:r.classesWithoutHost=u}function Ol(r,o,s,l,u=!1){for(;null!==s;){const h=o[s.index];if(null!==h&&l.push(cn(h)),br(h)){for(let v=On;v<h.length;v++){const E=h[v],D=E[Ge].firstChild;null!==D&&Ol(E[Ge],E,D,l)}h[Io]!==h[In]&&l.push(h[Io])}const m=s.type;if(8&m)Ol(r,o,s.child,l);else if(32&m){const v=Qu(s,o);let E;for(;E=v();)l.push(E)}else if(16&m){const v=td(o,s);if(Array.isArray(v))l.push(...v);else{const E=$c(o[Xt]);Ol(E[Ge],E,v,l,!0)}}s=u?s.projectionNext:s.next}return l}function Hh(r,o,s,l=!0){const u=o[bo].rendererFactory;u.begin&&u.begin();try{Jt(r,o,r.template,s)}catch(m){throw l&&Ip(o,m),m}finally{u.end&&u.end(),o[bo].effectManager?.flush()}}function Jt(r,o,s,l){const u=o[Ct];if(256!=(256&u)){o[bo].effectManager?.flush(),ma(o);try{oh(o),function pl(r){return pt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&fd(r,o,s,2,l);const m=3==(3&u);if(m){const D=r.preOrderCheckHooks;null!==D&&Pc(o,D,null)}else{const D=r.preOrderHooks;null!==D&&Is(o,D,0,null),vl(o,0)}if(function Nl(r){for(let o=yh(r);null!==o;o=Xu(o)){if(!o[wo])continue;const s=o[$r];for(let l=0;l<s.length;l++){cl(s[l])}}}(o),function Vt(r){for(let o=yh(r);null!==o;o=Xu(o))for(let s=On;s<o.length;s++){const l=o[s],u=l[Ge];ca(l)&&Jt(u,l,u.template,l[rn])}}(o),null!==r.contentQueries&&Bh(r,o),m){const D=r.contentCheckHooks;null!==D&&Pc(o,D)}else{const D=r.contentHooks;null!==D&&Is(o,D,1),vl(o,1)}!function hd(r,o){const s=r.hostBindingOpCodes;if(null===s)return;const l=as(o,ys);try{for(let u=0;u<s.length;u++){const h=s[u];if(h<0)eo(~h);else{const m=h,v=s[++u],E=s[++u];Tc(v,m),l.runInContext(E,2,o[m])}}}finally{null===o[ys]&&Kr(o,ys),eo(-1)}}(r,o);const v=r.components;null!==v&&function V0(r,o){for(let s=0;s<o.length;s++)vn(r,o[s])}(o,v);const E=r.viewQuery;if(null!==E&&wp(2,E,l),m){const D=r.viewCheckHooks;null!==D&&Pc(o,D)}else{const D=r.viewHooks;null!==D&&Is(o,D,2),vl(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[Ct]&=-73,bc(o)}finally{gi()}}}function vn(r,o){const s=wr(o,r);if(ca(s)){const l=s[Ge];80&s[Ct]?Jt(l,s,l.template,s[rn]):s[Gi]>0&&$h(s)}}function $h(r){for(let l=yh(r);null!==l;l=Xu(l))for(let u=On;u<l.length;u++){const h=l[u];if(ca(h))if(1024&h[Ct]){const m=h[Ge];Jt(m,h,m.template,h[rn])}else h[Gi]>0&&$h(h)}const s=r[Ge].components;if(null!==s)for(let l=0;l<s.length;l++){const u=wr(s[l],r);ca(u)&&u[Gi]>0&&$h(u)}}class Fa{get rootNodes(){const o=this._lView,s=o[Ge];return Ol(s,o,s.firstChild,[])}constructor(o,s){this._lView=o,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(o){this._lView[rn]=o}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[pn];if(br(o)){const s=o[ea],l=s?s.indexOf(this):-1;l>-1&&(nm(o,l),Ta(s,l))}this._attachedToViewContainer=!1}Aw(this._lView[Ge],this._lView)}onDestroy(o){!function Ec(r,o){if(256==(256&r[Ct]))throw new le(911,!1);null===r[qi]&&(r[qi]=[]),r[qi].push(o)}(this._lView,o)}markForCheck(){nr(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){Hh(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mv(r,o){Ch(r,o,o[bt],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=o}}class xC extends Fa{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Hh(o[Ge],o,o[rn],!1)}checkNoChanges(){}get context(){return null}}class xn extends dp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=Zt(o);return new Qc(s,this.ngModule)}}function kt(r){const o=[];for(let s in r)r.hasOwnProperty(s)&&o.push({propName:r[s],templateName:s});return o}class B0{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,l){l=yn(l);const u=this.injector.get(o,Om,l);return u!==Om||s===Om?u:this.parentInjector.get(o,s,l)}}class Qc extends _0{get inputs(){return kt(this.componentDef.inputs)}get outputs(){return kt(this.componentDef.outputs)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function Pn(r){return r.map(qs).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,l,u){let h=(u=u||this.ngModule)instanceof Zc?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new B0(o,h):o,v=m.get(Ls,null);if(null===v)throw new le(407,!1);const M={rendererFactory:v,sanitizer:m.get(C0,null),effectManager:m.get(qm,null)},V=v.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",X=l?function fC(r,o,s,l){const h=l.get(U,!1)||s===R.ShadowDom,m=r.selectRootElement(o,h);return function pC(r){bp(r)}(m),m}(V,l,this.componentDef.encapsulation,m):ep(V,Z,function bi(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(Z)),ge=this.componentDef.onPush?576:528,Ne=Cp(0,null,null,1,0,null,null,null,null,null,null),He=_p(null,Ne,null,ge,null,null,M,V,m,null,null);let it,Ie;ma(He);try{const ht=this.componentDef;let Lt,tn=null;ht.findHostDirectiveDefs?(Lt=[],tn=new Map,ht.findHostDirectiveDefs(ht,Lt,tn),Lt.push(ht)):Lt=[ht];const $o=function j0(r,o){const s=r[Ge],l=wt;return r[l]=o,Fs(s,l,2,"#host",null)}(He,X),Wy=function H0(r,o,s,l,u,h,m){const v=u[Ge];!function OC(r,o,s,l){for(const u of r)o.mergedAttrs=Pe(o.mergedAttrs,u.hostAttrs);null!==o.mergedAttrs&&(jh(o,o.mergedAttrs,!0),null!==s&&Tv(l,s,o))}(l,r,o,m);let E=null;null!==o&&(E=g0(o,u[Js]));const D=h.rendererFactory.createRenderer(o,s),M=_p(u,Vm(s),null,s.onPush?64:16,u[r.index],r,h,D,null,null,E);return v.firstCreatePass&&Gm(v,r,l.length-1),ka(u,M),u[r.index]=M}($o,X,ht,Lt,He,M,V);Ie=al(Ne,wt),X&&function Km(r,o,s,l){if(l)hi(r,s,["ng-version",tC.full]);else{const{attrs:u,classes:h}=function Hf(r){const o=[],s=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&o.push(h,r[++l]):8===u&&s.push(h);else{if(!Yn(u))break;u=h}l++}return{attrs:o,classes:s}}(o.selectors[0]);u&&hi(r,s,u),h&&h.length>0&&Nw(r,s,h.join(" "))}}(V,ht,X,l),void 0!==s&&function zh(r,o,s){const l=r.projection=[];for(let u=0;u<o.length;u++){const h=s[u];l.push(null!=h?Array.from(h):null)}}(Ie,this.ngContentSelectors,s),it=function Xc(r,o,s,l,u,h){const m=fr(),v=u[Ge],E=Er(m,u);yC(v,u,m,s,null,l);for(let M=0;M<s.length;M++)li(Zr(u,v,m.directiveStart+M,m),u);Wm(v,u,m),E&&li(E,u);const D=Zr(u,v,m.directiveStart+m.componentOffset,m);if(r[rn]=u[rn]=D,null!==h)for(const M of h)M(D,o);return pd(v,m,r),D}(Wy,ht,Lt,tn,He,[$0]),Tp(Ne,He,null)}finally{gi()}return new Lo(this.componentType,it,Sl(Ie,He),He,Ie)}}class Lo extends ES{constructor(o,s,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new xC(u),this.componentType=o}setInput(o,s){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),s))return;const h=this._rootLView;Dp(h[Ge],h,u,o,s),this.previousInputValues.set(o,s),nr(wr(this._tNode.index,h))}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $0(){const r=fr();Rc(we()[Ge],r)}function Jm(r){let o=function Ym(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;o;){let u;if(Wr(r))u=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new le(903,!1);u=o.\u0275dir}if(u){if(s){l.push(u);const m=r;m.inputs=Qm(r.inputs),m.declaredInputs=Qm(r.declaredInputs),m.outputs=Qm(r.outputs);const v=u.hostBindings;v&&Ht(r,v);const E=u.viewQuery,D=u.contentQueries;if(E&&NC(r,E),D&&eu(r,D),fe(r.inputs,u.inputs),fe(r.declaredInputs,u.declaredInputs),fe(r.outputs,u.outputs),Wr(u)&&u.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===Jm&&(s=!1)}}o=Object.getPrototypeOf(o)}!function z0(r){let o=0,s=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=o+=u.hostVars,u.hostAttrs=Pe(u.hostAttrs,s=Pe(s,u.hostAttrs))}}(l)}function Qm(r){return r===J?{}:r===re?[]:r}function NC(r,o){const s=r.viewQuery;r.viewQuery=s?(l,u)=>{o(l,u),s(l,u)}:o}function eu(r,o){const s=r.contentQueries;r.contentQueries=s?(l,u,h)=>{o(l,u,h),s(l,u,h)}:o}function Ht(r,o){const s=r.hostBindings;r.hostBindings=s?(l,u)=>{o(l,u),s(l,u)}:o}function gd(r){return!!Mp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Mp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ei(r,o,s){return r[o]=s}function Yr(r,o,s){return!Object.is(r[o],s)&&(r[o]=s,!0)}function tu(r,o,s,l){const u=Yr(r,o,s);return Yr(r,o+1,l)||u}function gn(r,o,s,l){const u=we();return Yr(u,Qi(),o)&&(Ot(),Us(Dn(),u,r,o,s,l)),gn}function yd(r,o,s,l){return Yr(r,Qi(),s)?o+Re(s)+l:xt}function Va(r,o,s,l,u,h,m,v){const E=we(),D=Ot(),M=r+wt,V=D.firstCreatePass?function Id(r,o,s,l,u,h,m,v,E){const D=o.consts,M=Fs(o,r,4,m||null,pi(D,v));zm(o,s,M,pi(D,E)),Rc(o,M);const V=M.tView=Cp(2,M,l,u,h,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D,null);return null!==o.queries&&(o.queries.template(o,M),V.queries=o.queries.embeddedTView(M)),M}(M,D,E,o,s,l,u,h,m):D.data[M];Gr(V,!1);const Z=zC(D,E,V,r);yl()&&np(D,E,Z,V),li(Z,E),ka(E,E[M]=wC(Z,E,Z,V)),Ko(V)&&yp(D,E,V),null!=m&&vp(E,V,v)}let zC=function WC(r,o,s,l){return to(!0),o[bt].createComment("")};function Qh(r){return function la(r,o){return r[o]}(function ah(){return pt.lFrame.contextLView}(),wt+r)}function su(r,o,s){const l=we();return Yr(l,Qi(),o)&&Ci(Ot(),Dn(),l,r,o,l[bt],s,!1),su}function Vp(r,o,s,l,u){const m=u?"class":"style";Dp(r,s,o.inputs[m],m,l)}function js(r,o,s,l){const u=we(),h=Ot(),m=wt+r,v=u[bt],E=h.firstCreatePass?function Bp(r,o,s,l,u,h){const m=o.consts,E=Fs(o,r,2,l,pi(m,u));return zm(o,s,E,pi(m,h)),null!==E.attrs&&jh(E,E.attrs,!1),null!==E.mergedAttrs&&jh(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,u,o,s,l):h.data[m],D=Cn(h,u,E,v,o,r);u[m]=D;const M=Ko(E);return Gr(E,!0),Tv(v,D,E),32!=(32&E.flags)&&yl()&&np(h,u,D,E),0===function Mi(){return pt.lFrame.elementDepthCount}()&&li(D,u),function ua(){pt.lFrame.elementDepthCount++}(),M&&(yp(h,u,E),pd(h,E,u)),null!==l&&vp(u,E),js}function Dd(){let r=fr();pa()?ga():(r=r.parent,Gr(r,!1));const o=r;(function Zf(r){return pt.skipHydrationRootTNode===r})(o)&&function ha(){pt.skipHydrationRootTNode=null}(),function da(){pt.lFrame.elementDepthCount--}();const s=Ot();return s.firstCreatePass&&(Rc(s,r),Ya(r)&&s.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Oc(r){return 0!=(8&r.flags)}(o)&&Vp(s,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Tn(r){return 0!=(16&r.flags)}(o)&&Vp(s,o,we(),o.stylesWithoutHost,!1),Dd}function a_(r,o,s,l){return js(r,o,s,l),Dd(),a_}let Cn=(r,o,s,l,u,h)=>(to(!0),ep(l,u,function _l(){return pt.lFrame.currentNamespace}()));function ef(r,o,s){const l=we(),u=Ot(),h=r+wt,m=u.firstCreatePass?function l_(r,o,s,l,u){const h=o.consts,m=pi(h,l),v=Fs(o,r,8,"ng-container",m);return null!==m&&jh(v,m,!0),zm(o,s,v,pi(h,u)),null!==o.queries&&o.queries.elementStart(o,v),v}(h,u,l,o,s):u.data[h];Gr(m,!0);const v=c_(u,l,m,r);return l[h]=v,yl()&&np(u,l,v,m),li(v,l),Ko(m)&&(yp(u,l,m),pd(u,m,l)),null!=s&&vp(l,m),ef}function Td(){let r=fr();const o=Ot();return pa()?ga():(r=r.parent,Gr(r,!1)),o.firstCreatePass&&(Rc(o,r),Ya(r)&&o.queries.elementEnd(r)),Td}let c_=(r,o,s,l)=>(to(!0),zc(o[bt],""));function au(){return we()}function jp(r){return!!r&&"function"==typeof r.then}function tf(r){return!!r&&"function"==typeof r.subscribe}function d_(r,o,s,l){const u=we(),h=Ot(),m=fr();return function ZC(r,o,s,l,u,h,m){const v=Ko(l),D=r.firstCreatePass&&DC(r),M=o[rn],V=IC(o);let Z=!0;if(3&l.type||m){const Ne=Er(l,o),He=m?m(Ne):Ne,it=V.length,Ie=m?Lt=>m(cn(Lt[l.index])):l.index;let ht=null;if(!m&&v&&(ht=function tI(r,o,s,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===s&&u[h+1]===l){const v=o[ms],E=u[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,o,u,l.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=h,ht.__ngLastListenerFn__=h,Z=!1;else{h=KC(l,o,M,h,!1);const Lt=s.listen(He,u,h);V.push(h,Lt),D&&D.push(u,Ie,it,it+1)}}else h=KC(l,o,M,h,!1);const X=l.outputs;let ge;if(Z&&null!==X&&(ge=X[u])){const Ne=ge.length;if(Ne)for(let He=0;He<Ne;He+=2){const tn=o[ge[He]][ge[He+1]].subscribe(h),$o=V.length;V.push(h,tn),D&&D.push(u,l.index,$o,-($o+1))}}}(h,u,u[bt],m,r,o,l),d_}function qC(r,o,s,l){try{return Ai(6,o,s),!1!==s(l)}catch(u){return Ip(r,u),!1}finally{Ai(7,o,s)}}function KC(r,o,s,l,u){return function h(m){if(m===Function)return l;nr(r.componentOffset>-1?wr(r.index,o):o);let E=qC(o,s,l,m),D=h.__ngNextListenerFn__;for(;D;)E=qC(o,s,D,m)&&E,D=D.__ngNextListenerFn__;return u&&!1===E&&m.preventDefault(),E}}function YC(r=1){return function ch(r){return(pt.lFrame.contextLView=function uh(r,o){for(;r>0;)o=o[_s],r--;return o}(r,pt.lFrame.contextLView))[rn]}(r)}function h_(r,o,s){return Hp(r,"",o,"",s),h_}function Hp(r,o,s,l,u){const h=we(),m=yd(h,o,s,l);return m!==xt&&Ci(Ot(),Dn(),h,r,m,h[bt],u,!1),Hp}function Sd(r,o){return r<<17|o<<2}function Ba(r){return r>>17&32767}function p_(r){return 2|r}function Vl(r){return(131068&r)>>2}function sf(r,o){return-131069&r|o<<2}function g_(r){return 1|r}function Wp(r,o,s,l,u){const h=r[s+1],m=null===o;let v=l?Ba(h):Vl(h),E=!1;for(;0!==v&&(!1===E||m);){const M=r[v+1];ob(r[v],o)&&(E=!0,r[v+1]=l?g_(M):p_(M)),v=l?Ba(M):Vl(M)}E&&(r[s+1]=l?p_(h):g_(h))}function ob(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&ts(r,o)>=0}function Md(r,o){return function fo(r,o,s,l){const u=we(),h=Ot(),m=function Mo(r){const o=pt.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,s}(2);h.firstUpdatePass&&function fb(r,o,s,l){const u=r.data;if(null===u[s+1]){const h=u[pr()],m=function hb(r,o){return o>=r.expandoStartIndex}(r,s);(function Rd(r,o){return 0!=(r.flags&(o?8:16))})(h,l)&&null===o&&!m&&(o=!1),o=function pb(r,o,s,l){const u=function kn(r){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let h=l?o.residualClasses:o.residualStyles;if(null===u)0===(l?o.classBindings:o.styleBindings)&&(s=jl(s=$s(null,r,o,s,l),o.attrs,l),h=null);else{const m=o.directiveStylingLast;if(-1===m||r[m]!==u)if(s=$s(u,r,o,s,l),null===h){let E=function Bl(r,o,s){const l=s?o.classBindings:o.styleBindings;if(0!==Vl(l))return r[Ba(l)]}(r,o,l);void 0!==E&&Array.isArray(E)&&(E=$s(null,r,o,E[1],l),E=jl(E,o.attrs,l),function gb(r,o,s,l){r[Ba(s?o.classBindings:o.styleBindings)]=l}(r,o,l,E))}else h=function mb(r,o,s){let l;const u=o.directiveEnd;for(let h=1+o.directiveStylingLast;h<u;h++)l=jl(l,r[h].hostAttrs,s);return jl(l,o.attrs,s)}(r,o,l)}return void 0!==h&&(l?o.residualClasses=h:o.residualStyles=h),s}(u,h,o,l),function ib(r,o,s,l,u,h){let m=h?o.classBindings:o.styleBindings,v=Ba(m),E=Vl(m);r[l]=s;let M,D=!1;if(Array.isArray(s)?(M=s[1],(null===M||ts(s,M)>0)&&(D=!0)):M=s,u)if(0!==E){const Z=Ba(r[v+1]);r[l+1]=Sd(Z,v),0!==Z&&(r[Z+1]=sf(r[Z+1],l)),r[v+1]=function rI(r,o){return 131071&r|o<<17}(r[v+1],l)}else r[l+1]=Sd(v,0),0!==v&&(r[v+1]=sf(r[v+1],l)),v=l;else r[l+1]=Sd(E,0),0===v?v=l:r[E+1]=sf(r[E+1],l),E=l;D&&(r[l+1]=p_(r[l+1])),Wp(r,M,l,!0),Wp(r,M,l,!1),function zp(r,o,s,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof o&&ts(h,o)>=0&&(s[l+1]=g_(s[l+1]))}(o,M,r,l,h),m=Sd(v,E),h?o.classBindings=m:o.styleBindings=m}(u,h,o,s,m,l)}}(h,r,m,l),o!==xt&&Yr(u,m,o)&&function C_(r,o,s,l,u,h,m,v){if(!(3&o.type))return;const E=r.data,D=E[v+1],M=function iI(r){return 1==(1&r)}(D)?Zp(E,o,s,u,Vl(D),m):void 0;qp(M)||(qp(h)||function rb(r){return 2==(2&r)}(D)&&(h=Zp(E,null,s,u,v,m)),function xw(r,o,s,l,u){if(o)u?r.addClass(s,l):r.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:ai.DashCase;null==u?r.removeStyle(s,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=ai.Important),r.setStyle(s,l,u,h))}}(l,m,aa(pr(),s),u,h))}(h,h.data[pr()],u,u[bt],r,u[m+1]=function Hl(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=pe(ks(r)))),r}(o,s),l,m)}(r,o,null,!0),Md}function $s(r,o,s,l,u){let h=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(h=o[v],l=jl(l,h.hostAttrs,u),h!==r);)v++;return null!==r&&(s.directiveStylingLast=v),l}function jl(r,o,s){const l=s?1:2;let u=-1;if(null!==o)for(let h=0;h<o.length;h++){const m=o[h];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),qr(r,m,!!s||o[++h]))}return void 0===r?null:r}function Zp(r,o,s,l,u,h){const m=null===o;let v;for(;u>0;){const E=r[u],D=Array.isArray(E),M=D?E[1]:E,V=null===M;let Z=s[u+1];Z===xt&&(Z=V?re:void 0);let X=V?wl(Z,l):M===l?Z:void 0;if(D&&!qp(X)&&(X=wl(E,l)),qp(X)&&(v=X,m))return v;const ge=r[u+1];u=m?Ba(ge):Vl(ge)}if(null!==o){let E=h?o.residualClasses:o.residualStyles;null!=E&&(v=wl(E,l))}return v}function qp(r){return void 0!==r}function yb(r,o=""){const s=we(),l=Ot(),u=r+wt,h=l.firstCreatePass?Fs(l,u,1,o,null):l.data[u],m=vb(l,s,h,o,r);s[u]=m,yl()&&np(l,s,m,h),Gr(h,!1)}let vb=(r,o,s,l,u)=>(to(!0),function vh(r,o){return r.createText(o)}(o[bt],l));function Yp(r){return Jp("",r,""),Yp}function Jp(r,o,s){const l=we(),u=yd(l,r,o,s);return u!==xt&&function La(r,o,s){const l=aa(o,r);!function gv(r,o,s){r.setValue(o,s)}(r[bt],l,s)}(l,pr(),u),Jp}const cu=void 0;var bI=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CI(r){const s=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let zl={};function rg(r){const o=function Db(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=ds(o);if(s)return s;const l=o.split("-")[0];if(s=ds(l),s)return s;if("en"===l)return bI;throw new le(701,!1)}function Od(r){return rg(r)[vt.PluralCase]}function ds(r){return r in zl||(zl[r]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[r]),zl[r]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const zs="en-US";let L_=zs;function Y_(r,o,s,l,u){if(r=K(r),Array.isArray(r))for(let h=0;h<r.length;h++)Y_(r[h],o,s,l,u);else{const h=Ot(),m=we();let v=Tl(r)?r:K(r.provide),E=c0(r);const D=fr(),M=1048575&D.providerIndexes,V=D.directiveStart,Z=D.providerIndexes>>20;if(Tl(r)||!r.multi){const X=new Ds(E,u,dd),ge=Q_(v,o,u?M:M+Z,V);-1===ge?(As(Fr(D,m),h,v),J_(h,r,o.length),o.push(v),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(X),m.push(X)):(s[ge]=X,m[ge]=X)}else{const X=Q_(v,o,M+Z,V),ge=Q_(v,o,M,M+Z),He=ge>=0&&s[ge];if(u&&!He||!u&&!(X>=0&&s[X])){As(Fr(D,m),h,v);const it=function zI(r,o,s,l,u){const h=new Ds(r,s,dd);return h.multi=[],h.index=o,h.componentProviders=0,Zb(h,u,l&&!s),h}(u?$I:HI,s.length,u,l,E);!u&&He&&(s[ge].providerFactory=it),J_(h,r,o.length,0),o.push(v),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),s.push(it),m.push(it)}else J_(h,r,X>-1?X:ge,Zb(s[u?ge:X],E,!u&&l));!u&&l&&He&&s[ge].componentProviders++}}}function J_(r,o,s,l){const u=Tl(o),h=function Uv(r){return!!r.useClass}(o);if(u||h){const E=(h?K(o.useClass):o).prototype.ngOnDestroy;if(E){const D=r.destroyHooks||(r.destroyHooks=[]);if(!u&&o.multi){const M=D.indexOf(s);-1===M?D.push(s,[l,E]):D[M+1].push(l,E)}else D.push(s,E)}}}function Zb(r,o,s){return s&&r.componentProviders++,r.multi.push(o)-1}function Q_(r,o,s,l){for(let u=s;u<l;u++)if(o[u]===r)return u;return-1}function HI(r,o,s,l){return X_(this.multi,[])}function $I(r,o,s,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Zr(s,s[Ge],this.providerFactory.index,l);h=v.slice(0,m),X_(u,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],X_(u,h);return h}function X_(r,o){for(let s=0;s<r.length;s++)o.push((0,r[s])());return o}function qb(r,o=[]){return s=>{s.providersResolver=(l,u)=>function jI(r,o,s){const l=Ot();if(l.firstCreatePass){const u=Wr(r);Y_(s,l.data,l.blueprint,u,!0),Y_(o,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,o)}}class Ud{}class Kb{}function WI(r,o){return new ey(r,o??null,[])}class ey extends Ud{constructor(o,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xn(this);const u=nn(o);this._bootstrapComponents=vi(u.bootstrap),this._r3Injector=dC(o,s,[{provide:Ud,useValue:this},{provide:dp,useValue:this.componentFactoryResolver},...l],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ty extends Kb{constructor(o){super(),this.moduleType=o}create(o){return new ey(this.moduleType,o,[])}}class Ho extends Ud{constructor(o){super(),this.componentFactoryResolver=new xn(this),this.instance=null;const s=new Bv([...o.providers,{provide:Ud,useValue:this},{provide:dp,useValue:this.componentFactoryResolver}],o.parent||Ph(),o.debugName,new Set(["environment"]));this.injector=s,o.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Yb(r,o,s=null){return new Ho({providers:r,parent:o,debugName:s,runEnvironmentInitializers:!0}).injector}let ny=(()=>{class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=ap(0,s.type),u=l.length>0?Yb([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,u)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=_t({token:r,providedIn:"environment",factory:()=>new r(Nt(Zc))}),r})();function ry(r){r.getStandaloneInjector=o=>o.get(ny).getOrCreateStandaloneInjector(r)}function nE(r,o,s,l){return function oE(r,o,s,l,u,h){const m=o+s;return Yr(r,m,u)?Ei(r,m+1,h?l.call(h,u):l(u)):bf(r,m+1)}(we(),Nr(),r,o,s,l)}function rE(r,o,s,l,u){return function sE(r,o,s,l,u,h,m){const v=o+s;return tu(r,v,u,h)?Ei(r,v+2,m?l.call(m,u,h):l(u,h)):bf(r,v+2)}(we(),Nr(),r,o,s,l,u)}function rD(r,o,s,l,u,h){return function Ha(r,o,s,l,u,h,m,v){const E=o+s;return function Rp(r,o,s,l,u){const h=tu(r,o,s,l);return Yr(r,o+2,u)||h}(r,E,u,h,m)?Ei(r,E+3,v?l.call(v,u,h,m):l(u,h,m)):bf(r,E+3)}(we(),Nr(),r,o,s,l,u,h)}function bf(r,o){const s=r[o];return s===xt?void 0:s}function wf(r){return o=>{setTimeout(r,void 0,o)}}const po=class aE extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,s,l){let u=o,h=s||(()=>null),m=l;if(o&&"object"==typeof o){const E=o;u=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=wf(h),u&&(u=wf(u)),m&&(m=wf(m)));const v=super.subscribe({next:u,error:h,complete:m});return o instanceof B.w0&&o.add(v),v}};function If(){return this._results[Symbol.iterator]()}class hg{get changes(){return this._changes||(this._changes=new po)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=hg.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=If)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){const l=this;l.dirty=!1;const u=function ii(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Fc(r,o,s){if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=o[l];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(l._results,u,s))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fg=(()=>{class r{}return r.__NG_ELEMENT_ID__=BS,r})();const fD=fg,sy=class extends fD{constructor(o,s,l){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,s){return this.createEmbeddedViewImpl(o,s,null)}createEmbeddedViewImpl(o,s,l){const u=this._declarationTContainer.tView,h=_p(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,s||null,l||null);h[Qs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ei];return null!==v&&(h[ei]=v.createEmbeddedView(u)),Tp(u,h,o),new Fa(h)}};function BS(){return ay(fr(),we())}function ay(r,o){return 4&r.type?new sy(o,r,Sl(r,o)):null}let Bd=(()=>{class r{}return r.__NG_ELEMENT_ID__=uE,r})();function uE(){return pg(fr(),we())}const _D=Bd,zn=class extends _D{constructor(o,s,l){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=l}get element(){return Sl(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){const o=va(this._hostTNode,this._hostLView);if(kr(o)){const s=Cl(o,this._hostLView),l=Lr(o);return new Ur(s[Ge].data[l+8],s)}return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=dE(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-On}createEmbeddedView(o,s,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const v=o.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(v,u,false),v}createComponent(o,s,l,u,h){const m=o&&!function ao(r){return"function"==typeof r}(o);let v;if(m)v=s;else{const Ne=s||{};v=Ne.index,l=Ne.injector,u=Ne.projectableNodes,h=Ne.environmentInjector||Ne.ngModuleRef}const E=m?o:new Qc(Zt(o)),D=l||this.parentInjector;if(!h&&null==E.ngModule){const He=(m?D:this.parentInjector).get(Zc,null);He&&(h=He)}Zt(E.componentType??{});const X=E.create(D,u,null,h);return this.insertImpl(X.hostView,v,false),X}insert(o,s){return this.insertImpl(o,s,!1)}insertImpl(o,s,l){const u=o._lView,h=u[Ge];if(function Cc(r){return br(r[pn])}(u)){const E=this.indexOf(o);if(-1!==E)this.detach(E);else{const D=u[pn],M=new zn(D,D[Qn],D[pn]);M.detach(M.indexOf(o))}}const m=this._adjustIndex(s),v=this._lContainer;if(function yv(r,o,s,l){const u=On+l,h=s.length;l>0&&(s[u-1][Hr]=o),l<h-On?(o[Hr]=s[u],Da(s,On+l,o)):(s.push(o),o[Hr]=null),o[pn]=s;const m=o[Qs];null!==m&&s!==m&&function vv(r,o){const s=r[$r];o[Xt]!==o[pn][pn][Xt]&&(r[wo]=!0),null===s?r[$r]=[o]:s.push(o)}(m,o);const v=o[ei];null!==v&&v.insertView(r),o[Ct]|=128}(h,u,v,m),!l){const E=om(m,v),D=u[bt],M=Dl(D,v[Io]);null!==M&&function em(r,o,s,l,u,h){l[In]=u,l[Qn]=o,Ch(r,l,s,1,u,h)}(h,v[Qn],D,u,M,E)}return o.attachToViewContainerRef(),Da(jd(v),m,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=dE(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),l=nm(this._lContainer,s);l&&(Ta(jd(this._lContainer),s),Aw(l[Ge],l))}detach(o){const s=this._adjustIndex(o,-1),l=nm(this._lContainer,s);return l&&null!=Ta(jd(this._lContainer),s)?new Fa(l):null}_adjustIndex(o,s=0){return o??this.length+s}};function dE(r){return r[ea]}function jd(r){return r[ea]||(r[ea]=[])}function pg(r,o){let s;const l=o[r.index];return br(l)?s=l:(s=wC(l,o,null,r),o[r.index]=s,ka(o,s)),hE(s,o,r,l),new zn(s,r,o)}let hE=function fE(r,o,s,l){if(r[Io])return;let u;u=8&s.type?cn(l):function yD(r,o){const s=r[bt],l=s.createComment(""),u=Er(o,r);return Wc(s,Dl(s,u),l,function iS(r,o){return r.nextSibling(o)}(s,u),!1),l}(o,s),r[Io]=u};class ly{constructor(o){this.queryList=o,this.matches=null}clone(){return new ly(this.queryList)}setDirty(){this.queryList.setDirty()}}class cy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const l=null!==o.contentQueries?o.contentQueries[0]:s.length,u=[];for(let h=0;h<l;h++){const m=s.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new cy(u)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==bE(o,s).matches&&this.queries[s].setDirty()}}class gE{constructor(o,s,l=null){this.predicate=o,this.flags=s,this.read=l}}class Mr{constructor(o=[]){this.queries=o}elementStart(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let l=0;l<this.length;l++){const u=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(o,u);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new Mr(s):null}template(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Hd{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new Hd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(o,s,uy(s,h)),this.matchTNodeWithReadOption(o,s,yi(s,o,h,!1,!1))}else l===fg?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,yi(s,o,l,!1,!1))}matchTNodeWithReadOption(o,s,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===ud||u===Bd||u===fg&&4&s.type)this.addMatch(s.index,-2);else{const h=yi(s,o,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function uy(r,o){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===o)return s[l+1];return null}function gg(r,o,s,l){return-1===s?function dy(r,o){return 11&r.type?Sl(r,o):4&r.type?ay(r,o):null}(o,r):-2===s?function mg(r,o,s){return s===ud?Sl(o,r):s===fg?ay(o,r):s===Bd?pg(o,r):void 0}(r,o,l):Zr(r,r[Ge],s,o)}function _g(r,o,s,l){const u=o[ei].queries[l];if(null===u.matches){const h=r.data,m=s.matches,v=[];for(let E=0;E<m.length;E+=2){const D=m[E];v.push(D<0?null:gg(o,h[D],m[E+1],s.metadata.read))}u.matches=v}return u.matches}function hy(r,o,s,l){const u=r.queries.getByIndex(s),h=u.matches;if(null!==h){const m=_g(r,o,u,s);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const D=h[v+1],M=o[-E];for(let V=On;V<M.length;V++){const Z=M[V];Z[Qs]===Z[pn]&&hy(Z[Ge],Z,D,l)}if(null!==M[$r]){const V=M[$r];for(let Z=0;Z<V.length;Z++){const X=V[Z];hy(X[Ge],X,D,l)}}}}}return l}function mE(r){const o=we(),s=Ot(),l=gl();Xi(l+1);const u=bE(s,l);if(r.dirty&&function ll(r){return 4==(4&r[Ct])}(o)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?hy(s,o,l,[]):_g(s,o,u,l);r.reset(h,Oa),r.notifyOnChanges()}return!0}return!1}function yE(r,o,s,l){const u=Ot();if(u.firstCreatePass){const h=fr();(function Tf(r,o,s){null===r.queries&&(r.queries=new Mr),r.queries.track(new Hd(o,s))})(u,new gE(o,s,l),h.index),function CE(r,o){const s=r.contentQueries||(r.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,o)}(u,r),2==(2&s)&&(u.staticContentQueries=!0)}!function fy(r,o,s){const l=new hg(4==(4&s));(function Bm(r,o,s,l){const u=IC(o);u.push(s),r.firstCreatePass&&DC(r).push(l,u.length-1)})(r,o,l,l.destroy),null===o[ei]&&(o[ei]=new cy),o[ei].queries.push(new ly(l))}(u,we(),s)}function vE(){return function Df(r,o){return r[ei].queries[o].queryList}(we(),gl())}function bE(r,o){return r.queries.getByIndex(o)}function fu(r){return!!nn(r)}const Dy=new zt("Application Initializer");let Pf=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=Rt(Dy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const u of this.appInits){const h=u();if(jp(h))s.push(h);else if(tf(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});s.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(u=>{this.reject(u)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xf=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const zd=new zt("LocaleId",{providedIn:"root",factory:()=>Rt(zd,et.Optional|et.SkipSelf)||function YS(){return typeof $localize<"u"&&$localize.locale||zs}()}),JS=new zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LD{constructor(o,s){this.ngModuleFactory=o,this.componentFactories=s}}let eA=(()=>{class r{compileModuleSync(s){return new ty(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),h=vi(nn(s).declarations).reduce((m,v)=>{const E=Zt(v);return E&&m.push(new Qc(E)),m},[]);return new LD(l,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const kE=(()=>Promise.resolve(0))();function Ty(r){typeof Zone>"u"?kE.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}function Sy(...r){}class Jr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&s,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function LE(){let r=ze.requestAnimationFrame,o=ze.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ay(r){const o=()=>{!function UE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ze,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,My(r),r.isCheckStableRunning=!0,Eg(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),My(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,u,h,m,v)=>{try{return VE(r),s.invokeTask(u,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&o(),BE(r)}},onInvoke:(s,l,u,h,m,v,E)=>{try{return VE(r),s.invoke(u,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&o(),BE(r)}},onHasTask:(s,l,u,h)=>{s.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,My(r),Eg(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,u,h)=>(s.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jr.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Jr.isInAngularZone())throw new le(909,!1)}run(o,s,l){return this._inner.run(o,s,l)}runTask(o,s,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,o,FE,Sy,Sy);try{return h.runTask(m,s,l)}finally{h.cancelTask(m)}}runGuarded(o,s,l){return this._inner.runGuarded(o,s,l)}runOutsideAngular(o){return this._outer.run(o)}}const FE={};function Eg(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function My(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function VE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function BE(r){r._nesting--,Eg(r)}class jE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(o,s,l){return o.apply(s,l)}runGuarded(o,s,l){return o.apply(s,l)}runOutsideAngular(o){return o()}runTask(o,s,l,u){return o.apply(s,l)}}const Ry=new zt("",{providedIn:"root",factory:Py});function Py(){const r=Rt(Jr);let o=!0;const s=new x.y(u=>{o=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{u.next(o),u.complete()})}),l=new x.y(u=>{let h;r.runOutsideAngular(()=>{h=r.onStable.subscribe(()=>{Jr.assertNotInAngularZone(),Ty(()=>{!o&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(o=!0,u.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Jr.assertInAngularZone(),o&&(o=!1,r.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,ne.T)(s,l.pipe((0,ie.B)()))}const xy=new zt(""),Wd=new zt("");let Ny,BD=(()=>{class r{constructor(s,l,u){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ny||(function jD(r){Ny=r}(u),u.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jr.assertNotInAngularZone(),Ty(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ty(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,u){return[]}}return r.\u0275fac=function(s){return new(s||r)(Nt(Jr),Nt(Oy),Nt(Wd))},r.\u0275prov=_t({token:r,factory:r.\u0275fac}),r})(),Oy=(()=>{class r{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Ny?.findTestabilityInTree(this,s,l)??null}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),$a=null;const ky=new zt("AllowMultipleToken"),wg=new zt("PlatformDestroyListeners"),Ly=new zt("appBootstrapListener");class zD{constructor(o,s){this.name=o,this.token=s}}function Gd(r,o,s=[]){const l=`Platform: ${o}`,u=new zt(l);return(h=[])=>{let m=Uy();if(!m||m.injector.get(ky,!1)){const v=[...s,...h,{provide:u,useValue:!0}];r?r(v):function HE(r){if($a&&!$a.get(ky,!1))throw new le(400,!1);(function Fy(){!function rl(r){gc=r}(()=>{throw new le(600,!1)})})(),$a=r;const o=r.get(Of);(function $E(r){r.get(zv,null)?.forEach(s=>s())})(r)}(function ql(r=[],o){return Pl.create({name:o,providers:[{provide:Rh,useValue:"platform"},{provide:wg,useValue:new Set([()=>$a=null])},...r]})}(v,l))}return function GD(r){const o=Uy();if(!o)throw new le(401,!1);return o}()}}function Uy(){return $a?.get(Of)??null}let Of=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const u=function ZD(r="zone.js",o){return"noop"===r?new jE:"zone.js"===r?new Jr(o):r}(l?.ngZone,function zE(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return u.run(()=>{const h=function GI(r,o,s){return new ey(r,o,s)}(s.moduleType,this.injector,function Nf(r){return[{provide:Jr,useFactory:r},{provide:Mh,multi:!0,useFactory:()=>{const o=Rt(KD,{optional:!0});return()=>o.initialize()}},{provide:GE,useFactory:qD},{provide:Ry,useFactory:Py}]}(()=>u)),m=h.injector.get(uo,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:E=>{m.handleError(E)}});h.onDestroy(()=>{Ig(this._modules,h),v.unsubscribe()})}),function Kl(r,o,s){try{const l=s();return jp(l)?l.catch(u=>{throw o.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw o.runOutsideAngular(()=>r.handleError(l)),l}}(m,u,()=>{const v=h.injector.get(Pf);return v.runInitializers(),v.donePromise.then(()=>(function Hi(r){xe(r,"Expected localeId to be defined"),"string"==typeof r&&(L_=r.toLowerCase().replace(/_/g,"-"))}(h.injector.get(zd,zs)||zs),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,l=[]){const u=Yl({},l);return function HD(r,o,s){const l=new ty(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const l=s.injector.get(Zd);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new le(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(wg,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(Nt(Pl))},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function Yl(r,o){return Array.isArray(o)?o.reduce(Yl,r):{...r,...o}}let Zd=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rt(GE),this.componentTypes=[],this.components=[],this.isStable=Rt(Ry),this._injector=Rt(Zc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const u=s instanceof _0;if(!this._injector.get(Pf).done)throw!u&&Ys(s),new le(405,!1);let m;m=u?s:this._injector.get(dp).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function $D(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Ud),D=m.create(Pl.NULL,[],l||m.selector,v),M=D.location.nativeElement,V=D.injector.get(xy,null);return V?.registerApplication(M),D.onDestroy(()=>{this.detachView(D.hostView),Ig(this.components,D),V?.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Ig(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(Ly,[]);l.push(...this._bootstrapListeners),l.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ig(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new le(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ig(r,o){const s=r.indexOf(o);s>-1&&r.splice(s,1)}const GE=new zt("",{providedIn:"root",factory:()=>Rt(uo).handleError.bind(void 0)});function qD(){const r=Rt(Jr),o=Rt(uo);return s=>r.runOutsideAngular(()=>o.handleError(s))}let KD=(()=>{class r{constructor(){this.zone=Rt(Jr),this.applicationRef=Rt(Zd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Gs(){return!1}let YD=(()=>{class r{}return r.__NG_ELEMENT_ID__=qE,r})();function qE(r){return function Dg(r,o,s){if(ti(r)&&!s){const l=wr(r.index,o);return new Fa(l,l)}return 47&r.type?new Fa(o[Xt],o):null}(fr(),we(),16==(16&r))}class jy{constructor(){}supports(o){return gd(o)}create(o){return new YE(o)}}const XD=(r,o)=>o;class YE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||XD}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,l=this._removalsHead,u=0,h=null;for(;s||l;){const m=!l||s&&s.currentIndex<tT(l,u,h)?s:l,v=tT(m,u,h),E=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{h||(h=[]);const D=v-u,M=E-u;if(D!=M){for(let Z=0;Z<D;Z++){const X=Z<h.length?h[Z]:h[Z]=0,ge=X+Z;M<=ge&&ge<D&&(h[Z]=X+1)}h[m.previousIndex]=M-D}}v!==E&&o(m,v,E)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!gd(o))throw new le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u,h,m,s=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)h=o[v],m=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,h,m,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,v),l=!0),s=s._next}else u=0,function UC(r,o){if(Array.isArray(r))for(let s=0;s<r.length;s++)o(r[s]);else{const s=r[Symbol.iterator]();let l;for(;!(l=s.next()).done;)o(l.value)}}(o,v=>{m=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,v,m,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,u),l=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,l,u){let h;return null===o?h=this._itTail:(h=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,h,u)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,h,u)):o=this._addAfter(new pA(s,l),h,u),o}_verifyReinsertion(o,s,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?o=this._reinsertAfter(h,o._prev,u):o.currentIndex!=u&&(o.currentIndex=u,this._addToMoves(o,u)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const u=o._prevRemoved,h=o._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(o,s,l),this._addToMoves(o,l),o}_moveAfter(o,s,l){return this._unlink(o),this._insertAfter(o,s,l),this._addToMoves(o,l),o}_addAfter(o,s,l){return this._insertAfter(o,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,l){const u=null===s?this._itHead:s._next;return o._next=u,o._prev=s,null===u?this._itTail=o:u._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new eT),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,l=o._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pA{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const s=o._prevDup,l=o._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class eT{constructor(){this.map=new Map}put(o){const s=o.trackById;let l=this.map.get(s);l||(l=new gA,this.map.set(s,l)),l.add(o)}get(o,s){const u=this.map.get(o);return u?u.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tT(r,o,s){const l=r.previousIndex;if(null===l)return l;let u=0;return s&&l<s.length&&(u=s[l]),l+o+u}class nT{constructor(){}supports(o){return o instanceof Map||Mp(o)}create(){return new mA}}class mA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||Mp(o)))throw new le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const l=o._prev;return s._next=o,s._prev=l,o._prev=s,l&&(l._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const u=this._records.get(o);this._maybeAddToChanges(u,s);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new rT(o);return this._records.set(o,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(l=>s(o[l],l))}}class rT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JE(){return new Pg([new jy])}let Pg=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const u=l.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||JE()),deps:[[r,new dt,new Ye]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(null!=l)return l;throw new le(901,!1)}}return r.\u0275prov=_t({token:r,providedIn:"root",factory:JE}),r})();function iT(){return new Hy([new nT])}let Hy=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const u=l.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||iT()),deps:[[r,new dt,new Ye]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(l)return l;throw new le(901,!1)}}return r.\u0275prov=_t({token:r,providedIn:"root",factory:iT}),r})();const sT=Gd(null,"core",[]);let ew=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(Nt(Zd))},r.\u0275mod=Go({type:r}),r.\u0275inj=$t({}),r})(),uT=(()=>{class r{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Rt(Jr),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(s=>{this.resolve=s})})}add(){if(this.completed)return-1;const s=this.taskId++;return this.collection.add(s),s}remove(s){this.completed||(this.collection.delete(s),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_t({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function pT(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Zs(r){const o=Zt(r);if(!o)return null;const s=new Qc(o);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(rt,De,L)=>{L.d(De,{Z:()=>Ze});var c=L(2090),B=L(4859),x=L(6881),ne=L(1877);class ie{constructor(le,Ae){this._delegate=le,this.firebase=Ae,(0,x._addComponent)(le,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(le,Ae=x._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(le);return!Le.isInitialized()&&"EXPLICIT"===(null===(Re=Le.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ae})}_removeServiceInstance(le,Ae=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Ae)}_addComponent(le){(0,x._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,x._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function he(){const Qe=function pe(Qe){const le={},Ae={__esModule:!0,initializeApp:function Ce(ye,ee={}){const We=x.initializeApp(ye,ee);if((0,c.r3)(le,We.name))return le[We.name];const je=new Qe(We,Ae);return le[We.name]=je,je},app:Le,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ve(ye){const ee=ye.name,We=ee.replace("-compat","");if(x._registerComponent(ye)&&"PUBLIC"===ye.type){const je=(Kt=Le())=>{if("function"!=typeof Kt[We])throw fe.create("invalid-app-argument",{appName:ee});return Kt[We]()};void 0!==ye.serviceProps&&(0,c.ZB)(je,ye.serviceProps),Ae[We]=je,Qe.prototype[We]=function(...Kt){return this._getService.bind(this,ee).apply(this,ye.multipleInstances?Kt:[])}}return"PUBLIC"===ye.type?Ae[We]:null},removeApp:function Re(ye){delete le[ye]},useAsService:function Te(ye,ee){return"serverAuth"===ee?null:ee},modularAPIs:x}};function Le(ye){if(!(0,c.r3)(le,ye=ye||x._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ye});return le[ye]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function _e(){return Object.keys(le).map(ye=>le[ye])}}),Le.App=Qe,Ae}(ie);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function le(Ae){(0,c.ZB)(Qe,Ae)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Qe}(),z=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=G;!function Ee(Qe){(0,x.registerVersion)("@firebase/app-compat","0.2.11",Qe)}()},6881:(rt,De,L)=>{L.r(De),L.d(De,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Zn,_addOrOverwriteComponent:()=>xr,_apps:()=>ze,_clearComponents:()=>Yt,_components:()=>_n,_getProvider:()=>hn,_registerComponent:()=>dn,_removeServiceInstance:()=>Cr,deleteApp:()=>Nt,getApp:()=>fn,getApps:()=>Mn,initializeApp:()=>Di,onLog:()=>yn,registerVersion:()=>Rt,setLogLevel:()=>di});var c=L(5861),B=L(4859),x=L(1877),ne=L(2090);const ie=(ue,te)=>te.some(Pe=>ue instanceof Pe);let oe,fe;const G=new WeakMap,z=new WeakMap,K=new WeakMap,ke=new WeakMap,Ee=new WeakMap;let le={get(ue,te,Pe){if(ue instanceof IDBTransaction){if("done"===te)return z.get(ue);if("objectStoreNames"===te)return ue.objectStoreNames||K.get(ue);if("store"===te)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return Ce(ue[te])},set:(ue,te,Pe)=>(ue[te]=Pe,!0),has:(ue,te)=>ue instanceof IDBTransaction&&("done"===te||"store"===te)||te in ue};function Le(ue){return"function"==typeof ue?function Re(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...te){return ue.apply(_e(this),te),Ce(G.get(this))}:function(...te){return Ce(ue.apply(_e(this),te))}:function(te,...Pe){const tt=ue.call(_e(this),te,...Pe);return K.set(tt,te.sort?te.sort():[te]),Ce(tt)}}(ue):(ue instanceof IDBTransaction&&function Qe(ue){if(z.has(ue))return;const te=new Promise((Pe,tt)=>{const yt=()=>{ue.removeEventListener("complete",Pt),ue.removeEventListener("error",Gt),ue.removeEventListener("abort",Gt)},Pt=()=>{Pe(),yt()},Gt=()=>{tt(ue.error||new DOMException("AbortError","AbortError")),yt()};ue.addEventListener("complete",Pt),ue.addEventListener("error",Gt),ue.addEventListener("abort",Gt)});z.set(ue,te)}(ue),ie(ue,function pe(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,le):ue)}function Ce(ue){if(ue instanceof IDBRequest)return function Ze(ue){const te=new Promise((Pe,tt)=>{const yt=()=>{ue.removeEventListener("success",Pt),ue.removeEventListener("error",Gt)},Pt=()=>{Pe(Ce(ue.result)),yt()},Gt=()=>{tt(ue.error),yt()};ue.addEventListener("success",Pt),ue.addEventListener("error",Gt)});return te.then(Pe=>{Pe instanceof IDBCursor&&G.set(Pe,ue)}).catch(()=>{}),Ee.set(te,ue),te}(ue);if(ke.has(ue))return ke.get(ue);const te=Le(ue);return te!==ue&&(ke.set(ue,te),Ee.set(te,ue)),te}const _e=ue=>Ee.get(ue),ye=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],We=new Map;function je(ue,te){if(!(ue instanceof IDBDatabase)||te in ue||"string"!=typeof te)return;if(We.get(te))return We.get(te);const Pe=te.replace(/FromIndex$/,""),tt=te!==Pe,yt=ee.includes(Pe);if(!(Pe in(tt?IDBIndex:IDBObjectStore).prototype)||!yt&&!ye.includes(Pe))return;const Pt=function(){var Gt=(0,c.Z)(function*(sr,...Rn){const Yn=this.transaction(sr,yt?"readwrite":"readonly");let hs=Yn.store;return tt&&(hs=hs.index(Rn.shift())),(yield Promise.all([hs[Pe](...Rn),yt&&Yn.done]))[0]});return function(Rn){return Gt.apply(this,arguments)}}();return We.set(te,Pt),Pt}!function Ae(ue){le=ue(le)}(ue=>({...ue,get:(te,Pe,tt)=>je(te,Pe)||ue.get(te,Pe,tt),has:(te,Pe)=>!!je(te,Pe)||ue.has(te,Pe)}));class Kt{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function Vn(ue){const te=ue.getComponent();return"VERSION"===te?.type}(Pe)){const tt=Pe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Pe=>Pe).join(" ")}}const Rr="@firebase/app",ce=new x.Yd("@firebase/app"),Bt="[DEFAULT]",nt={[Rr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,_n=new Map;function Zn(ue,te){try{ue.container.addComponent(te)}catch(Pe){ce.debug(`Component ${te.name} failed to register with FirebaseApp ${ue.name}`,Pe)}}function xr(ue,te){ue.container.addOrOverwriteComponent(te)}function dn(ue){const te=ue.name;if(_n.has(te))return ce.debug(`There were multiple attempts to register component ${te}.`),!1;_n.set(te,ue);for(const Pe of ze.values())Zn(Pe,ue);return!0}function hn(ue,te){const Pe=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),ue.container.getProvider(te)}function Cr(ue,te,Pe=Bt){hn(ue,te).clearInstance(Pe)}function Yt(){_n.clear()}const Tt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(te,Pe,tt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}const or="9.22.1";function Di(ue,te={}){let Pe=ue;"object"!=typeof te&&(te={name:te});const tt=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},te),yt=tt.name;if("string"!=typeof yt||!yt)throw Tt.create("bad-app-name",{appName:String(yt)});if(Pe||(Pe=(0,ne.aH)()),!Pe)throw Tt.create("no-options");const Pt=ze.get(yt);if(Pt){if((0,ne.vZ)(Pe,Pt.options)&&(0,ne.vZ)(tt,Pt.config))return Pt;throw Tt.create("duplicate-app",{appName:yt})}const Gt=new B.H0(yt);for(const Rn of _n.values())Gt.addComponent(Rn);const sr=new En(Pe,tt,Gt);return ze.set(yt,sr),sr}function fn(ue=Bt){const te=ze.get(ue);if(!te&&ue===Bt&&(0,ne.aH)())return Di();if(!te)throw Tt.create("no-app",{appName:ue});return te}function Mn(){return Array.from(ze.values())}function Nt(ue){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(ue){const te=ue.name;ze.has(te)&&(ze.delete(te),yield Promise.all(ue.container.getProviders().map(Pe=>Pe.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Rt(ue,te,Pe){var tt;let yt=null!==(tt=nt[ue])&&void 0!==tt?tt:ue;Pe&&(yt+=`-${Pe}`);const Pt=yt.match(/\s|\//),Gt=te.match(/\s|\//);if(Pt||Gt){const sr=[`Unable to register library "${yt}" with version "${te}":`];return Pt&&sr.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Pt&&Gt&&sr.push("and"),Gt&&sr.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void ce.warn(sr.join(" "))}dn(new B.wA(`${yt}-version`,()=>({library:yt,version:te}),"VERSION"))}function yn(ue,te){if(null!==ue&&"function"!=typeof ue)throw Tt.create("invalid-log-argument");(0,x.Am)(ue,te)}function di(ue){(0,x.Ub)(ue)}const qn="firebase-heartbeat-database",jr=1,$="firebase-heartbeat-store";let H=null;function O(){return H||(H=function ve(ue,te,{blocked:Pe,upgrade:tt,blocking:yt,terminated:Pt}={}){const Gt=indexedDB.open(ue,te),sr=Ce(Gt);return tt&&Gt.addEventListener("upgradeneeded",Rn=>{tt(Ce(Gt.result),Rn.oldVersion,Rn.newVersion,Ce(Gt.transaction),Rn)}),Pe&&Gt.addEventListener("blocked",Rn=>Pe(Rn.oldVersion,Rn.newVersion,Rn)),sr.then(Rn=>{Pt&&Rn.addEventListener("close",()=>Pt()),yt&&Rn.addEventListener("versionchange",Yn=>yt(Yn.oldVersion,Yn.newVersion,Yn))}).catch(()=>{}),sr}(qn,jr,{upgrade:(ue,te)=>{0===te&&ue.createObjectStore($)}}).catch(ue=>{throw Tt.create("idb-open",{originalErrorMessage:ue.message})})),H}function R(){return(R=(0,c.Z)(function*(ue){try{return yield(yield O()).transaction($).objectStore($).get($e(ue))}catch(te){if(te instanceof ne.ZR)ce.warn(te.message);else{const Pe=Tt.create("idb-get",{originalErrorMessage:te?.message});ce.warn(Pe.message)}}})).apply(this,arguments)}function J(ue,te){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(ue,te){try{const tt=(yield O()).transaction($,"readwrite");yield tt.objectStore($).put(te,$e(ue)),yield tt.done}catch(Pe){if(Pe instanceof ne.ZR)ce.warn(Pe.message);else{const tt=Tt.create("idb-set",{originalErrorMessage:Pe?.message});ce.warn(tt.message)}}})).apply(this,arguments)}function $e(ue){return`${ue.name}!${ue.options.appId}`}class Wt{constructor(te){this.container=te,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new At(Pe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var te=this;return(0,c.Z)(function*(){const tt=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=ct();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==yt&&!te._heartbeatsCache.heartbeats.some(Pt=>Pt.date===yt))return te._heartbeatsCache.heartbeats.push({date:yt,agent:tt}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Pt=>{const Gt=new Date(Pt.date).valueOf();return Date.now()-Gt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,c.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Pe=ct(),{heartbeatsToSend:tt,unsentEntries:yt}=function Qt(ue,te=1024){const Pe=[];let tt=ue.slice();for(const yt of ue){const Pt=Pe.find(Gt=>Gt.agent===yt.agent);if(Pt){if(Pt.dates.push(yt.date),Kn(Pe)>te){Pt.dates.pop();break}}else if(Pe.push({agent:yt.agent,dates:[yt.date]}),Kn(Pe)>te){Pe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:tt}}(te._heartbeatsCache.heartbeats),Pt=(0,ne.L)(JSON.stringify({version:2,heartbeats:tt}));return te._heartbeatsCache.lastSentHeartbeatDate=Pe,yt.length>0?(te._heartbeatsCache.heartbeats=yt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Pt})()}}function ct(){return(new Date).toISOString().substring(0,10)}class At{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,c.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function N(ue){return R.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Pe=this;return(0,c.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const Pt=yield Pe.read();return J(Pe.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Pe=this;return(0,c.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const Pt=yield Pe.read();return J(Pe.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...te.heartbeats]})}})()}}function Kn(ue){return(0,ne.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function hi(ue){dn(new B.wA("platform-logger",te=>new Kt(te),"PRIVATE")),dn(new B.wA("heartbeat",te=>new Wt(te),"PRIVATE")),Rt(Rr,"0.9.11",ue),Rt(Rr,"0.9.11","esm2017"),Rt("fire-js","")}("")},4859:(rt,De,L)=>{L.d(De,{H0:()=>pe,wA:()=>x,zt:()=>ie});var c=L(5861),B=L(2090);class x{constructor(G,z,K){this.name=G,this.instanceFactory=z,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ne="[DEFAULT]";class ie{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const K=new B.BH;if(this.instancesDeferred.set(z,K),this.isInitialized(z)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:z});ke&&K.resolve(ke)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const K=this.normalizeInstanceIdentifier(G?.identifier),ke=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ee){if(ke)return null;throw Ee}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function fe(he){return"EAGER"===he.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[z,K]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(z);try{const Ee=this.getOrInitializeService({instanceIdentifier:ke});K.resolve(Ee)}catch{}}}}clearInstance(G=ne){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...z.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ne){return this.instances.has(G)}getOptions(G=ne){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,K=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:K,options:z});for(const[Ee,Ze]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ee)&&Ze.resolve(ke);return ke}onInit(G,z){var K;const ke=this.normalizeInstanceIdentifier(z),Ee=null!==(K=this.onInitCallbacks.get(ke))&&void 0!==K?K:new Set;Ee.add(G),this.onInitCallbacks.set(ke,Ee);const Ze=this.instances.get(ke);return Ze&&G(Ze,ke),()=>{Ee.delete(G)}}invokeOnInitCallbacks(G,z){const K=this.onInitCallbacks.get(z);if(K)for(const ke of K)try{ke(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let K=this.instances.get(G);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(he=G,he===ne?void 0:he),options:z}),this.instances.set(G,K),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(K,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,K)}catch{}var he;return K||null}normalizeInstanceIdentifier(G=ne){return this.component?this.component.multipleInstances?G:ne:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new ie(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,De,L)=>{L.d(De,{Am:()=>he,Ub:()=>pe,Yd:()=>fe,in:()=>B});const c=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const x={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,ie={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},oe=(G,z,...K)=>{if(z<G.logLevel)return;const ke=(new Date).toISOString(),Ee=ie[z];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ee](`[${ke}]  ${G.name}:`,...K)};class fe{constructor(z){this.name=z,this._logLevel=ne,this._logHandler=oe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?x[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function pe(G){c.forEach(z=>{z.setLogLevel(G)})}function he(G,z){for(const K of c){let ke=null;z&&z.level&&(ke=x[z.level]),K.userLogHandler=null===G?null:(Ee,Ze,...Qe)=>{const le=Qe.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ze>=(ke??Ee.logLevel)&&G({level:B[Ze].toLowerCase(),message:le,args:Qe,type:Ee.name})}}}},259:(rt,De,L)=>{L.d(De,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=L(6881);(0,c.registerVersion)("firebase","9.22.1","app")},9260:(rt,De,L)=>{L.d(De,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(rt,De,L)=>{L.r(De);var c=L(5861),B=L(3942),x=L(1389),ne=L(2090),fe=(L(6881),L(1877),L(4859));function pe(){return window}function z(){return z=(0,c.Z)(function*(O,N,R){var J;const{BuildInfo:re}=pe();(0,x.as)(N.sessionId,"AuthEvent did not contain a session ID");const $e=yield function Ae(O){return Re.apply(this,arguments)}(N.sessionId),ft={};return(0,x.at)()?ft.ibi=re.packageName:(0,x.au)()?ft.apn=re.packageName:(0,x.av)(O,"operation-not-supported-in-this-environment"),re.displayName&&(ft.appDisplayName=re.displayName),ft.sessionId=$e,(0,x.aw)(O,R,N.type,void 0,null!==(J=N.eventId)&&void 0!==J?J:void 0,ft)}),z.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(O){const{BuildInfo:N}=pe(),R={};(0,x.at)()?R.iosBundleId=N.packageName:(0,x.au)()?R.androidPackageName=N.packageName:(0,x.av)(O,"operation-not-supported-in-this-environment"),yield(0,x.ax)(O,R)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(O,N,R){const{cordova:J}=pe();let re=()=>{};try{yield new Promise(($e,ft)=>{let ut=null;function Wt(){var At;$e();const Kn=null===(At=J.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof Kn&&Kn(),"function"==typeof R?.close&&R.close()}function ct(){ut||(ut=window.setTimeout(()=>{ft((0,x.az)(O,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&ct()}N.addPassiveListener(Wt),document.addEventListener("resume",ct,!1),(0,x.au)()&&document.addEventListener("visibilitychange",Qt,!1),re=()=>{N.removePassiveListener(Wt),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Qt,!1),ut&&window.clearTimeout(ut)}})}finally{re()}})).apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(O){const N=function Le(O){if((0,x.as)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const N=new ArrayBuffer(O.length),R=new Uint8Array(N);for(let J=0;J<O.length;J++)R[J]=O.charCodeAt(J);return R}(O),R=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(R)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _e extends x.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(N)),super.onEvent(N)}initialized(){var N=this;return(0,c.Z)(function*(){yield N.initPromise})()}}function ye(O){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(O){const N=yield Kt()._get(Vn(O));return N&&(yield Kt()._remove(Vn(O))),N})).apply(this,arguments)}function je(){const O=[];for(let R=0;R<20;R++){const J=Math.floor(62*Math.random());O.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return O.join("")}function Kt(){return(0,x.aC)(x.b)}function Vn(O){return(0,x.aD)("authEvent",O.config.apiKey,O.name)}function ce(O){if(!O?.includes("?"))return{};const[N,...R]=O.split("?");return(0,ne.zd)(R.join("?"))}const Me=class be{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aE,this._overrideRedirectResult=x.aF}_initialize(N){var R=this;return(0,c.Z)(function*(){const J=N._key();let re=R.eventManagers.get(J);return re||(re=new _e(N),R.eventManagers.set(J,re),R.attachCallbackListeners(N,re)),re})()}_openPopup(N){(0,x.av)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,R,J,re){var $e=this;return(0,c.Z)(function*(){!function le(O){var N,R,J,re,$e,ft,ut,Wt,ct,Qt;const At=pe();(0,x.aA)("function"==typeof(null===(N=At?.universalLinks)||void 0===N?void 0:N.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aA)(typeof(null===(R=At?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aA)("function"==typeof(null===($e=null===(re=null===(J=At?.cordova)||void 0===J?void 0:J.plugins)||void 0===re?void 0:re.browsertab)||void 0===$e?void 0:$e.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aA)("function"==typeof(null===(Wt=null===(ut=null===(ft=At?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Wt?void 0:Wt.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aA)("function"==typeof(null===(Qt=null===(ct=At?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Qt?void 0:Qt.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ft=yield $e._initialize(N);yield ft.initialized(),ft.resetRedirect(),(0,x.aG)(),yield $e._originValidation(N);const ut=function ve(O,N,R=null){return{type:N,eventId:R,urlResponse:null,sessionId:je(),postBody:null,tenantId:O.tenantId,error:(0,x.az)(O,"no-auth-event")}}(N,J,re);yield function Te(O,N){return Kt()._set(Vn(O),N)}(N,ut);const Wt=yield function G(O,N,R){return z.apply(this,arguments)}(N,ut,R),ct=yield function Ee(O){const{cordova:N}=pe();return new Promise(R=>{N.plugins.browsertab.isAvailable(J=>{let re=null;J?N.plugins.browsertab.openUrl(O):re=N.InAppBrowser.open(O,(0,x.ay)()?"_blank":"_system","location=yes"),R(re)})})}(Wt);return function Ze(O,N,R){return Qe.apply(this,arguments)}(N,ft,ct)})()}_isIframeWebStorageSupported(N,R){throw new Error("Method not implemented.")}_originValidation(N){const R=N._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function K(O){return ke.apply(this,arguments)}(N)),this.originValidationPromises[R]}attachCallbackListeners(N,R){const{universalLinks:J,handleOpenURL:re,BuildInfo:$e}=pe(),ft=setTimeout((0,c.Z)(function*(){yield ye(N),R.onEvent(Ue())}),500),ut=function(){var Qt=(0,c.Z)(function*(At){clearTimeout(ft);const Kn=yield ye(N);let hi=null;Kn&&At?.url&&(hi=function We(O,N){var R,J;const re=function Wi(O){const N=ce(O),R=N.link?decodeURIComponent(N.link):void 0,J=ce(R).link,re=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ce(re).link||re||J||R||O}(N);if(re.includes("/__/auth/callback")){const $e=ce(re),ft=$e.firebaseError?function Rr(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent($e.firebaseError)):null,ut=null===(J=null===(R=ft?.code)||void 0===R?void 0:R.split("auth/"))||void 0===J?void 0:J[1],Wt=ut?(0,x.az)(ut):null;return Wt?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:re,postBody:null}}return null}(Kn,At.url)),R.onEvent(hi||Ue())});return function(Kn){return Qt.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,ut);const Wt=re,ct=`${$e.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Qt=(0,c.Z)(function*(At){if(At.toLowerCase().startsWith(ct)&&ut({url:At}),"function"==typeof Wt)try{Wt(At)}catch(Kn){console.error(Kn)}});return function(At){return Qt.apply(this,arguments)}}()}};function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.az)("no-auth-event")}}function Xe(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function Ut(O=(0,ne.z$)()){return!("file:"!==Xe()&&"ionic:"!==Xe()&&"capacitor:"!==Xe()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function ir(){try{const O=self.localStorage,N=x.aL();if(O)return O.setItem(N,"1"),O.removeItem(N),!function An(O=(0,ne.z$)()){return function en(){return(0,ne.w1)()&&11===document?.documentMode}()||function Gn(O=(0,ne.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ne.hl)()}catch{return Bn()&&(0,ne.hl)()}return!1}function Bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function _t(){return"http:"===Xe()||"https:"===Xe()}()||(0,ne.ru)()||Ut())&&!function $t(){return(0,ne.b$)()||(0,ne.UG)()}()&&ir()&&!Bn()}function Pr(){return Ut()&&typeof document<"u"}function ui(){return(ui=(0,c.Z)(function*(){return!!Pr()&&new Promise(O=>{const N=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),O(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},vr=x.aA,mn="persistence";function nt(O){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(O){yield O._initializationPromise;const N=Zn(),R=x.aD(mn,O.config.apiKey,O.name);N&&N.setItem(R,O._getPersistence())})).apply(this,arguments)}function Zn(){var O;try{return(null===(O=function et(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}const xr=x.aA;class dn{constructor(){this.browserResolver=x.aC(x.k),this.cordovaResolver=x.aC(Me),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aE,this._overrideRedirectResult=x.aF}_initialize(N){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,R,J,re){var $e=this;return(0,c.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(N,R,J,re)})()}_openRedirect(N,R,J,re){var $e=this;return(0,c.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(N,R,J,re)})()}_isIframeWebStorageSupported(N,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,R)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Pr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,c.Z)(function*(){if(N.underlyingResolver)return;const R=yield function yo(){return ui.apply(this,arguments)}();N.underlyingResolver=R?N.cordovaResolver:N.browserResolver})()}}function hn(O){return O.unwrap()}function Yt(O){return Tt(O)}function Tt(O){const{_tokenResponse:N}=O instanceof ne.ZR?O.customData:O;if(!N)return null;if(!(O instanceof ne.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return x.P.credentialFromResult(O);const R=N.providerId;if(!R||R===x.p.PASSWORD)return null;let J;switch(R){case x.p.GOOGLE:J=x.V;break;case x.p.FACEBOOK:J=x.U;break;case x.p.GITHUB:J=x.W;break;case x.p.TWITTER:J=x.Z;break;default:const{oauthIdToken:re,oauthAccessToken:$e,oauthTokenSecret:ft,pendingToken:ut,nonce:Wt}=N;return $e||ft||re||ut?ut?R.startsWith("saml.")?x.aO._create(R,ut):x.L._fromParams({providerId:R,signInMethod:R,pendingToken:ut,idToken:re,accessToken:$e}):new x.X(R).credential({idToken:re,accessToken:$e,rawNonce:Wt}):null}return O instanceof ne.ZR?J.credentialFromError(O):J.credentialFromResult(O)}function En(O,N){return N.catch(R=>{throw R instanceof ne.ZR&&function Qr(O,N){var R;const J=null===(R=N.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new fn(O,x.aq(O,N));else if(J){const re=Tt(N),$e=N;re&&($e.credential=re,$e.tenantId=J.tenantId||void 0,$e.email=J.email||void 0,$e.phoneNumber=J.phoneNumber||void 0)}}(O,R),R}).then(R=>{const re=R.user;return{operationType:R.operationType,credential:Yt(R),additionalUserInfo:x.ao(R),user:Mn.getOrCreate(re)}})}function or(O,N){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(O,N){const R=yield N;return{verificationId:R.verificationId,confirm:J=>En(O,R.confirm(J))}})).apply(this,arguments)}class fn{constructor(N,R){this.resolver=R,this.auth=function Cr(O){return O.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return En(hn(this.auth),this.resolver.resolveSignIn(N))}}class Mn{constructor(N){this._delegate=N,this.multiFactor=x.ar(N)}static getOrCreate(N){return Mn.USER_MAP.has(N)||Mn.USER_MAP.set(N,new Mn(N)),Mn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var R=this;return(0,c.Z)(function*(){return En(R.auth,x.a0(R._delegate,N))})()}linkWithPhoneNumber(N,R){var J=this;return(0,c.Z)(function*(){return or(J.auth,x.l(J._delegate,N,R))})()}linkWithPopup(N){var R=this;return(0,c.Z)(function*(){return En(R.auth,x.d(R._delegate,N,dn))})()}linkWithRedirect(N){var R=this;return(0,c.Z)(function*(){return yield nt(x.aH(R.auth)),x.g(R._delegate,N,dn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var R=this;return(0,c.Z)(function*(){return En(R.auth,x.a1(R._delegate,N))})()}reauthenticateWithPhoneNumber(N,R){return or(this.auth,x.r(this._delegate,N,R))}reauthenticateWithPopup(N){return En(this.auth,x.e(this._delegate,N,dn))}reauthenticateWithRedirect(N){var R=this;return(0,c.Z)(function*(){return yield nt(x.aH(R.auth)),x.h(R._delegate,N,dn)})()}sendEmailVerification(N){return x.ae(this._delegate,N)}unlink(N){var R=this;return(0,c.Z)(function*(){return yield x.an(R._delegate,N),R})()}updateEmail(N){return x.aj(this._delegate,N)}updatePassword(N){return x.ak(this._delegate,N)}updatePhoneNumber(N){return x.u(this._delegate,N)}updateProfile(N){return x.ai(this._delegate,N)}verifyBeforeUpdateEmail(N,R){return x.af(this._delegate,N,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mn.USER_MAP=new WeakMap;const Nt=x.aA;let wn=(()=>{class O{constructor(R,J){if(this.app=R,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=R.options;Nt(re,"invalid-api-key",{appName:R.name}),Nt(re,"invalid-api-key",{appName:R.name});const $e=typeof window<"u"?dn:void 0;this._delegate=J.initialize({options:{persistence:yn(re,R.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(x.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,J){x.I(this._delegate,R,J)}applyActionCode(R){return x.a5(this._delegate,R)}checkActionCode(R){return x.a6(this._delegate,R)}confirmPasswordReset(R,J){return x.a4(this._delegate,R,J)}createUserWithEmailAndPassword(R,J){var re=this;return(0,c.Z)(function*(){return En(re._delegate,x.a8(re._delegate,R,J))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return x.ad(this._delegate,R)}isSignInWithEmailLink(R){return x.ab(this._delegate,R)}getRedirectResult(){var R=this;return(0,c.Z)(function*(){Nt(an(),R._delegate,"operation-not-supported-in-this-environment");const J=yield x.j(R._delegate,dn);return J?En(R._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function xe(O,N){(0,x.aH)(O)._logFramework(N)}(this._delegate,R)}onAuthStateChanged(R,J,re){const{next:$e,error:ft,complete:ut}=Rt(R,J,re);return this._delegate.onAuthStateChanged($e,ft,ut)}onIdTokenChanged(R,J,re){const{next:$e,error:ft,complete:ut}=Rt(R,J,re);return this._delegate.onIdTokenChanged($e,ft,ut)}sendSignInLinkToEmail(R,J){return x.aa(this._delegate,R,J)}sendPasswordResetEmail(R,J){return x.a3(this._delegate,R,J||void 0)}setPersistence(R){var J=this;return(0,c.Z)(function*(){let re;switch(function Bt(O,N){vr(Object.values(bn).includes(N),O,"invalid-persistence-type"),(0,ne.b$)()?vr(N!==bn.SESSION,O,"unsupported-persistence-type"):(0,ne.UG)()?vr(N===bn.NONE,O,"unsupported-persistence-type"):Bn()?vr(N===bn.NONE||N===bn.LOCAL&&(0,ne.hl)(),O,"unsupported-persistence-type"):vr(N===bn.NONE||ir(),O,"unsupported-persistence-type")}(J._delegate,R),R){case bn.SESSION:re=x.a;break;case bn.LOCAL:re=(yield x.aC(x.i)._isAvailable())?x.i:x.b;break;case bn.NONE:re=x.N;break;default:return x.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return En(this._delegate,x._(this._delegate))}signInWithCredential(R){return En(this._delegate,x.$(this._delegate,R))}signInWithCustomToken(R){return En(this._delegate,x.a2(this._delegate,R))}signInWithEmailAndPassword(R,J){return En(this._delegate,x.a9(this._delegate,R,J))}signInWithEmailLink(R,J){return En(this._delegate,x.ac(this._delegate,R,J))}signInWithPhoneNumber(R,J){return or(this._delegate,x.s(this._delegate,R,J))}signInWithPopup(R){var J=this;return(0,c.Z)(function*(){return Nt(an(),J._delegate,"operation-not-supported-in-this-environment"),En(J._delegate,x.c(J._delegate,R,dn))})()}signInWithRedirect(R){var J=this;return(0,c.Z)(function*(){return Nt(an(),J._delegate,"operation-not-supported-in-this-environment"),yield nt(J._delegate),x.f(J._delegate,R,dn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return x.a7(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=bn,O})();function Rt(O,N,R){let J=O;"function"!=typeof O&&({next:J,error:N,complete:R}=O);const re=J;return{next:ft=>re(ft&&Mn.getOrCreate(ft)),error:N,complete:R}}function yn(O,N){const R=function _n(O,N){const R=Zn();if(!R)return[];const J=x.aD(mn,O,N);switch(R.getItem(J)){case bn.NONE:return[x.N];case bn.LOCAL:return[x.i,x.a];case bn.SESSION:return[x.a];default:return[]}}(O,N);if(typeof self<"u"&&!R.includes(x.i)&&R.push(x.i),typeof window<"u")for(const J of[x.b,x.a])R.includes(J)||R.push(J);return R.includes(x.N)||R.push(x.N),R}class di{constructor(){this.providerId="phone",this._delegate=new x.P(hn(B.Z.auth()))}static credential(N,R){return x.P.credential(N,R)}verifyPhoneNumber(N,R){return this._delegate.verifyPhoneNumber(N,R)}unwrap(){return this._delegate}}di.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,di.PROVIDER_ID=x.P.PROVIDER_ID;const qn=x.aA;class jr{constructor(N,R,J=B.Z.app()){var re;qn(null===(re=J.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new x.R(N,R,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(O){O.INTERNAL.registerComponent(new fe.wA("auth-compat",N=>{const R=N.getProvider("app-compat").getImmediate(),J=N.getProvider("auth");return new wn(R,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.Q,FacebookAuthProvider:x.U,GithubAuthProvider:x.W,GoogleAuthProvider:x.V,OAuthProvider:x.X,SAMLAuthProvider:x.Y,PhoneAuthProvider:di,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:jr,TwitterAuthProvider:x.Z,Auth:wn,AuthCredential:x.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(rt,De,L)=>{function c(x,ne,ie,oe,fe,pe,he){try{var G=x[pe](he),z=G.value}catch(K){return void ie(K)}G.done?ne(z):Promise.resolve(z).then(oe,fe)}function B(x){return function(){var ne=this,ie=arguments;return new Promise(function(oe,fe){var pe=x.apply(ne,ie);function he(z){c(pe,oe,fe,he,G,"next",z)}function G(z){c(pe,oe,fe,he,G,"throw",z)}he(void 0)})}}L.d(De,{Z:()=>B})}},rt=>{rt(rt.s=8866)}]);